(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["business","dialog","card-reviews"],{84314:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var r={};function i(){return r}},36948:(e,t,n)=>{"use strict";n.d(t,{yJ:()=>r,vh:()=>i,qk:()=>a});var r=6e4,i=36e5,a=1e3},23855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(36948),i=n(13882),a=n(83946);function o(e,t){(0,i.Z)(1,arguments);var n,o,f,h=(0,a.Z)(null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==h&&1!==h&&0!==h)throw RangeError("additionalDigits must be 0, 1 or 2");if(!("string"==typeof e||"[object String]"===Object.prototype.toString.call(e)))return new Date(NaN);var g=function(e){var t,n={},r=e.split(s.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],s.timeZoneDelimiter.test(n.date)&&(n.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=s.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e);if(g.date){var _=function(e,t){var n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(g.date,h);o=function(e,t){if(null===t)return new Date(NaN);var n,r,i=e.match(l);if(!i)return new Date(NaN);var a=!!i[4],o=d(i[1]),s=d(i[2])-1,c=d(i[3]),u=d(i[4]),m=d(i[5])-1;if(a)return u>=1&&u<=53&&m>=0&&m<=6?((n=new Date(0)).setUTCFullYear(t,0,4),r=n.getUTCDay()||7,n.setUTCDate(n.getUTCDate()+((u-1)*7+m+1-r)),n):new Date(NaN);var f=new Date(0);return s>=0&&s<=11&&c>=1&&c<=(p[s]||(v(t)?29:28))&&o>=1&&o<=(v(t)?366:365)?(f.setUTCFullYear(t,s,Math.max(o,c)),f):new Date(NaN)}(_.restDateString,_.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var y=o.getTime(),b=0;if(g.time&&isNaN(b=function(e){var t=e.match(c);if(!t)return NaN;var n=m(t[1]),i=m(t[2]),a=m(t[3]);return(24===n?0===i&&0===a:a>=0&&a<60&&i>=0&&i<60&&n>=0&&n<25)?n*r.vh+i*r.yJ+1e3*a:NaN}(g.time)))return new Date(NaN);if(g.timezone){if(isNaN(f=function(e){if("Z"===e)return 0;var t=e.match(u);if(!t)return 0;var n="+"===t[1]?-1:1,i=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return a>=0&&a<=59?n*(i*r.vh+a*r.yJ):NaN}(g.timezone)))return new Date(NaN)}else{var E=new Date(y+b),k=new Date(0);return k.setFullYear(E.getUTCFullYear(),E.getUTCMonth(),E.getUTCDate()),k.setHours(E.getUTCHours(),E.getUTCMinutes(),E.getUTCSeconds(),E.getUTCMilliseconds()),k}return new Date(y+b+f)}var s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function m(e){return e&&parseFloat(e.replace(",","."))||0}var p=[31,null,31,30,31,30,31,31,30,31,30,31];function v(e){return e%400==0||e%4==0&&e%100!=0}},584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19013),i=n(83946),a=n(13882),o=n(84314);function s(e,t){(0,a.Z)(1,arguments);var n,s,l,c,u,d,m,p,v=(0,o.j)(),f=(0,i.Z)(null!==(n=null!==(s=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t?void 0:null===(u=t.locale)||void 0===u?void 0:null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:v.weekStartsOn)&&void 0!==s?s:null===(m=v.locale)||void 0===m?void 0:null===(p=m.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,r.Z)(e),g=h.getDay();return h.setDate(h.getDate()-((g<f?7:0)+g-f)),h.setHours(0,0,0,0),h}},81004:(e,t,n)=>{e.exports=n.p+"build/_/08a10d93b5a5ae1d7b9c8a60d1130dfe.svg"},48102:(e,t,n)=>{e.exports=n.p+"build/_/0271ba6b4fcda690a80e91f92edc7177.svg"},9912:(e,t,n)=>{e.exports=n.p+"build/_/9659bbe9fa69477d2a166dabea8ac48d.svg"},23546:(e,t,n)=>{e.exports=n.p+"build/_/4456c10ecbf5d583bdeb1c3d97ef263a.svg"},90851:(e,t,n)=>{e.exports=n.p+"build/_/24fb17f86df88b118167ce528daea382.svg"},82490:(e,t,n)=>{e.exports=n.p+"build/_/c52e7fc4ec73e5c05bc322b50bb07b4c.svg"},2509:(e,t,n)=>{e.exports=n.p+"build/_/495897677a950e88ac35bee6acd284f7.svg"},82461:(e,t,n)=>{e.exports=n.p+"build/_/78fd7e5f9b721a273df35726afb8f72c.svg"},42363:(e,t,n)=>{e.exports=n.p+"build/_/c291190c2aa1f05e02c2c78d173ec5f7.svg"},17049:(e,t,n)=>{e.exports=n.p+"build/_/61683eb23625df83e8aef32ee06c1e14.svg"},57070:(e,t,n)=>{e.exports=n.p+"build/_/9f79510c62081a2e8295f974516febd3.svg"},69777:(e,t,n)=>{e.exports=n.p+"build/_/526b632dc5485eae718acc1a54c8e8b1.svg"},2285:(e,t,n)=>{e.exports=n.p+"build/_/0adc8779bdefa7c4b9f58f4fff819771.svg"},72852:(e,t,n)=>{e.exports=n.p+"build/_/cb2341db6d0af3d9838b64ec9da115b6.svg"},23811:(e,t,n)=>{e.exports=n.p+"build/_/fb41b675b9ab147c27b75c1787065148.svg"},26779:(e,t,n)=>{e.exports=n.p+"build/_/9f7ea1b9a3434256ba04e9331ebdffe6.svg"},37552:(e,t,n)=>{e.exports=n.p+"build/_/d5100bd6782a609eacb99ca6d129dfb4.png"},2555:()=>{},6708:()=>{},98986:()=>{},1772:()=>{},28450:()=>{},63407:()=>{},48533:()=>{},15238:()=>{},38111:()=>{},60376:()=>{},35263:()=>{},86886:()=>{},23432:()=>{},94975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(87363),i=n(97582);function a(e,t){void 0===t&&(t=[]);var n,a,o,s,l,c,u,d,m=(a={loading:!0},void 0===(n=t)&&(n=[]),void 0===a&&(a={loading:!1}),o=(0,r.useRef)(0),s=(0,r.useRef)(!1),l=(0,r.useCallback)(function(){return s.current},[]),(0,r.useEffect)(function(){return s.current=!0,function(){s.current=!1}},[]),u=(c=(0,r.useState)(a))[0],d=c[1],[u,(0,r.useCallback)(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++o.current;return d(function(e){return(0,i.pi)((0,i.pi)({},e),{loading:!0})}),e.apply(void 0,t).then(function(e){return l()&&r===o.current&&d({value:e,loading:!1}),e},function(e){return l()&&r===o.current&&d({error:e,loading:!1}),e})},n)]),p=m[0],v=m[1];return(0,r.useEffect)(function(){v()},[v]),p}},80631:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element");Symbol.for("react.fragment"),t.jsx=function(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return{$$typeof:n,type:e,key:i,ref:void 0!==(t=r.ref)?t:null,props:r}}},85893:(e,t,n)=>{"use strict";e.exports=n(80631)},25508:(e,t,n)=>{"use strict";var r=n(18188),i=n(87363),a=n(60517),o=n(49481);t.Z=function(e){var t=(0,r._)((0,o.Y)({threshold:.5,triggerOnce:!0}),3),n=t[0],s=t[2];return i.createElement(i.Fragment,null,e.children(n),void 0!==s?i.createElement(a.ZP,{name:"advert_visible",nodeState:{visible_part:s.intersectionRatio}}):null)}},12314:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var r=n(87363),i=n(44748),a=n(31336),o=(0,i.Z)("banner-placeholder-view"),s=function(e){(0,a.ZR)();var t=function(){return r.createElement("div",{className:o("toponym-block")},r.createElement("div",{className:o("toponym-image")}),r.createElement("div",{className:o("toponym-texts")},r.createElement("div",{className:o("text"),style:{marginRight:"15px",marginTop:"3px"}}),r.createElement("div",{className:o("text"),style:{marginRight:"21px",marginTop:"3px"}}),r.createElement("div",{className:o("text"),style:{marginRight:"111px",marginTop:"3px"}}),r.createElement("div",{className:o("text"),style:{marginRight:"33px",marginTop:"16px"}}),r.createElement("div",{className:o("text"),style:{marginRight:"24px"}}),r.createElement("div",{className:o("text"),style:{marginRight:"48px"}}),r.createElement("div",{className:o("bold-text"),style:{marginRight:"73px",marginTop:"9px"}})))},n=function(){return r.createElement("div",{className:o("org-block")},r.createElement("div",{className:o("text"),style:{marginRight:"21px",marginTop:"3px"}}),r.createElement("div",{className:o("text"),style:{marginRight:"111px",marginTop:"3px"}}),r.createElement("div",{className:o("text"),style:{marginRight:"33px",marginTop:"16px"}}),r.createElement("div",{className:o("text"),style:{marginRight:"48px",marginTop:"2px"}}),r.createElement("div",{className:o("bold-text"),style:{marginRight:"182px",marginTop:"12px"}}))},i=function(e){return r.createElement("div",{className:o("org-container",{borderless:null==e?void 0:e.hideBorder})},n(),n())},s=function(){return r.createElement("div",{className:o("org-middle-block")},r.createElement("div",{className:o("org-middle-image")}),r.createElement("div",{className:o("text",{dark:!0}),style:{marginRight:"21px",marginTop:"24px"}}),r.createElement("div",{className:o("text",{dark:!0}),style:{marginRight:"111px",marginTop:"12px"}}),r.createElement("div",{className:o("text",{dark:!0}),style:{marginRight:"33px",marginTop:"12px"}}),r.createElement("div",{className:o("text",{dark:!0}),style:{marginRight:"48px",marginTop:"19px"}}),r.createElement("div",{className:o("text",{dark:!0}),style:{marginRight:"48px",marginTop:"8px"}}),r.createElement("div",{className:o("bold-text",{dark:!0}),style:{marginRight:"112px",marginTop:"35px"}}))};return e.type?r.createElement("div",{className:o(),style:{maxHeight:e.maxBannerHeight}},function(){switch(e.type){case"toponym":return r.createElement("div",{className:o("toponym-container")},t(),t(),null);case"org-bottom":case"org-upper-middle":return i({hideBorder:!0});case"org-middle":return r.createElement("div",{className:o("org-middle-container")},s(),s(),s(),s());case"org-upper":case"org-upper-tab":return i()}return null}()):null}},56844:(e,t,n)=>{"use strict";var r=n(34788),i=n(87363),a=n(60517),o=(0,n(70457).Z)({resolved:{},chunkName:function(){return"promo-chunk"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo-chunk").then(n.bind(n,58148))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 58148}});t.Z=function(e){var t=function(){return e.bannerId?i.createElement("div",{style:e.bannerStyle},i.createElement(a.ZP,{name:"banner"},i.createElement(o,(0,r._)({},e,{id:e.bannerId})))):null};return i.createElement("div",null,e.bannerFirst?t():null,e.children,e.bannerFirst?null:t())}},15692:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(87363),i=n(44748),a=n(60517),o=n(6018),s=n(17106),l=n(38648),c=n(31336),u=(0,i.Z)("business-advert-offer-banner-view"),d=function(e){var t,n,i=(0,c.ZR)();if(!(null==(t=e.result.advertOffer)?void 0:t.banner))return null;var d=null==(n=e.result.advertOffer)?void 0:n.banner;return r.createElement(a.ZP,{name:"business_advert_offer_banner",logClick:!0,subtreeState:{type:l.D(e.result),reqid:e.result.requestId,permalink:e.result.id,logId:d.logId}},r.createElement("div",{className:u({wide:e.wide})},r.createElement(o.Z,{isExpanded:e.isExpanded,onToggled:e.onExpandChange,content:r.createElement(a.ZP,{name:"business_advert_offer_banner_content",logClick:!0},r.createElement("div",{className:u("content"),style:{maxWidth:i.experiments.ui.panelWidth420?388:d.image.width}},r.createElement(s.Z,{banner:d}))),icon:r.createElement("div",{className:u("preview-icon"),style:{backgroundImage:"url("+d.preview.iconUrlTemplate.replace("%s","orig")+")"}}),keepIconColor:!0,delimiter:null,hideCardBorder:!0},r.createElement("div",{className:u("preview-text")},d.preview.text))))}},95570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(87363),i=n(44748),a=n(60517),o=n(94542),s=n(85172),l=n(25508),c=(0,i.Z)("business-advert-offer-hint-view"),u=function(e){var t=(0,s.Fg)(),n=e.hint.icon.light,i=("dark"===t?e.hint.icon.dark:e.hint.icon.light)||n;return r.createElement(a.ZP,{name:"business_advert_offer_hint",subtreeState:{id:e.hint.id,text:e.hint.text,permalink:e.result.id,reqid:e.result.requestId},namespacedKey:function(e){return[null==e?void 0:e.id,null==e?void 0:e.permalink]},logClick:!0},r.createElement(o.Z,{className:c({clickable:!!e.onClick}),onClick:e.onClick},r.createElement(l.Z,null,function(t){return r.createElement(r.Fragment,null,i?r.createElement("div",{className:c("icon"),style:{backgroundImage:"url("+i.urlTemplate.replace("%s","orig")+")"}}):null,r.createElement("div",{ref:t,className:c("text")},e.hint.text))})))}},17106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(87363),i=n(44748),a=n(31336),o=n(60517),s=n(4244),l=n(98901),c=n(94542),u=n(76458),d=(0,i.Z)("search-advert-banner-view"),m=function(e){var t,n=(0,a.ZR)(),i=null==(t=e.banner.action)?void 0:t.url,m=i&&(0,u.y2)(i,n.advert.geoadv.auditPixel);return r.createElement(o.ZP,{name:"search_advert_banner_view",nodeState:{text:e.banner.text},namespacedKey:function(){return[e.banner.text]}},r.createElement("div",{className:d()},r.createElement("div",{className:d("advert-unit")},r.createElement("div",{className:d("advert-unit-text")},"Подробности акции:"),r.createElement("div",{className:d("advert-unit-hint")},r.createElement(l.Z,{ordInfo:e.banner.ordInfo,hideLink:!0}))),r.createElement("a",{href:m,target:"_blank",rel:"nofollow"},r.createElement("img",{src:e.banner.image.urlTemplate.replace("%s",e.banner.image.urlTemplateSize),width:e.banner.image.width,height:e.banner.image.height,className:d("image"),alt:"Реклама"})),e.banner.text?r.createElement("div",{className:d("text")},e.banner.text):null,e.banner.disclaimer?r.createElement("div",{className:d("disclaimer")},r.createElement(s.Z,{lines:2,lineHeight:16,renderButton:function(e){var t=e.onShowClick;return r.createElement(c.Z,{className:d("more"),onClick:t},"Ещё")}},e.banner.disclaimer)):null,e.banner.action?r.createElement("div",{className:d("footer")},r.createElement(o.ZP,{name:"link",logClick:!0},r.createElement("a",{className:d("link"),href:m,target:"_blank",rel:"nofollow"},e.banner.action.text))):null))}},72683:(e,t,n)=>{"use strict";function r(e){return(null==e?void 0:e.accuracy)&&e.accuracy<=500?e.currentPosition:null}n.d(t,{p:()=>r})},30110:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(6848),i=n(29106);function a(e,t,n){var a=(0,i.o)(t,!(0,r.c)(t)||(null==n?void 0:n.redirectProfile)?t.isYango?"":"/maps":t.baseUrl);return t.origin+a+e}},53035:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(96976);function i(e,t){if(e.geoWhere&&e.region)return(0,r.h)(e.geoWhere,e.region,t)}},72417:(e,t,n)=>{"use strict";function r(e,t,n){return t.becomeOwnerUrl?t.becomeOwnerUrl+"?permalink="+e+(n||""):t.hosts.sprav?t.hosts.sprav+"search?permalink="+e+(n||""):void 0}n.d(t,{l:()=>r})},62178:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(66553);function i(e,t,n,i){void 0===n&&(n={});var a=r.aA("orgpage",e);return(n.baseUrl||"")+(i?"/org/"+t+(a?"?tab="+e:"/"+e):"?mode=search&tab="+e+"&ol=biz&oid="+t)}},29375:(e,t,n)=>{"use strict";function r(e,t,n){var r=n.experiments.ui.taxiRefSuffix,i=r?t.ref+"_"+r:t.ref,a=e+"&utm_source=yamaps&utm_medium="+i+"&ref="+i;return t.from?a+"&start-lat="+t.from[0]+"&start-lon="+t.from[1]+"'":a}n.d(t,{V:()=>r})},61307:(e,t,n)=>{"use strict";var r,i=n(65807),a={ru:"ru",uk:"uk",en:"en",tr:"tr",kk:"kk",uz:"uz",az:"en",ar:"en","sr-Latn":"en",hy:"en",es:"en"};t.Z={ROOT_FOLDER_ID:"the_root_folder",FAVORITES_FOLDER_ID:"the_favorites_folder",DISCOVERY_FEED_FOLDER_ID:"the_discovery_feed_folder",HOME_ID:"home",WORK_ID:"work",FOLDER_TAGS:{SHOW_ON_MAP:"show-on-map",SHARED:"maps:shared",CLOSED:"maps:shared:closed"},getLib:function(e){return r||(r=Promise.all([(0,i.Z)(e.bookmarks.url),window._maps_internal_webviewSetCookiePromise?window._maps_internal_webviewSetCookiePromise.then(function(){window._maps_internal_webviewSetCookiePromise=void 0}):Promise.resolve()]).then(function(){if(!window.ya)throw Error("Library for bookmarks is not found");var t=window.ya.bookmarks;return t.config({cloudApiUrl:e.cloudApi.url,lang:a[e.lang],useClientStorage:!1,backgroundSync:!e.isYango,filterDublicate:e.experiments.ui.filterDublicateBookmarks}),t})),r}}},87501:(e,t,n)=>{"use strict";n.d(t,{ef:()=>l,AV:()=>u,g1:()=>d,cK:()=>m});var r=n(18188),i=n(89318),a=n(36768),o="bookmark-filled-24",s=[o],l=[o,"landmark","street","heart","fire-station","medical","malls","hypermarket","marketplace","giftshop","restaurants","cafe","fast-food","pizzeria","wine","pub","tableware","auto","gasstation","driving-school","beach","airports","photo","travel-agency","mountain","park","building","locality","viewpoint","circus","stage","concert-hall","petshop","pet-playground","flower-shop","playground","fitness","baby-shop","construction-tool","auto-parts","hairdressers","university","offline","fireworks","smile","country","province","police","justice","science","library","school","information","post-office","factory","trash","locker","canteen","night-club","liquor-store","confectionary","dairy","butcher-shop","food-market","greengrocery","fish-store","sushi","bakery","grass","garden","forest","zoo","stadium","equestrian","tennis","sanatorium","childrens-camp","museum","monument","theatre","gallery","exhibition-center","fountain","waterpark","baths","swimming-pool","ski-resort","skating-rink","well","clothes-shop","shoe-store","perfume-shop","jewelry-store","stationery-store","bookstore","news","electronics","furniture-store","household-supplies","music-store","art","sport","online-store","opticial-store","supermarket","bus-station","railway-terminal","bike","port","pier","airfield","cableway","taxi","banks","atm","pawnshop","hotels","mobile-phones","tailor","dry-cleaning","laundry","yoga","tire-fitting","racing","shooting","cinemas","bowling","pool-hall","dancehall","animation","ticket-office","stenograffia","beauty","spa","nail-studio","medicine","urban-service-nursing-room","indoor-infra-elevator-disabled","indoor-service-charging-socket","indoor-service-luggage"],c="#ffbb00",u=[c,"#ff8b52","#50ba3d","#6c75e0","#9b50e5","#4cbae5","#f56151","#676767","#ca78db","#9c8b7c","#66ccb3","#3d8af5"];function d(e,t){var n=(0,r._)((null==e?void 0:e.split(":"))||[],2),l=n[0],u=void 0===l?o:l,d=n[1];return{url:(s.includes(u)?a.G({name:u},t):i.Gr({type:"rubrics",name:u,size:"normal"},t))||a.G({name:o},t),name:u,color:(null==d?void 0:d.toLowerCase())||c}}function m(e){return e.name+":"+e.color}},20513:(e,t,n)=>{"use strict";n.d(t,{$D:()=>g,Gg:()=>h,g2:()=>f,Q9:()=>Q,xt:()=>M,qC:()=>N,JN:()=>P,gL:()=>S,Qd:()=>x,XW:()=>R,Ji:()=>T,Xq:()=>I,Nx:()=>A,fz:()=>H,h_:()=>F,rG:()=>k,cx:()=>_,qJ:()=>b,YQ:()=>D,vg:()=>U,uT:()=>W,HK:()=>K,qR:()=>z,lC:()=>L,W1:()=>j,GK:()=>G,PW:()=>V,Nn:()=>q,td:()=>O,Y9:()=>E,Rh:()=>B});var r,i,a=n(34788),o=n(36897),s=n(37358),l=n(61307),c=n(50770),u=n(22370),d=n(80129),m=n(674),p=n(16060),v={"ymapsbm1://pin":"pin","ymapsbm1://geo":"toponym","ymapsbm1://org":"business"},f=140,h=400,g=1e3;function _(e,t){return({home:"Дом",work:"Работа"})[e]}var y=function(e){return r||(r=l.Z.getLib(e).then(function(e){return e.getSearchHistoryManager()})),r};function b(e){return i||(i=l.Z.getLib(e).then(function(e){return e.getPlacesManager()}).then(function(t){return(0,p.Z)(t,e),t})),i}function E(e){return e.authorization?b(e).then(function(e){return k(e.getAll())}):Promise.resolve(void 0)}function k(e){var t={};return e[l.Z.HOME_ID]&&(t[l.Z.HOME_ID]=e[l.Z.HOME_ID]),e[l.Z.WORK_ID]&&(t[l.Z.WORK_ID]=e[l.Z.WORK_ID]),t}function w(e,t){return"children"in t?t.children.map(function(t){return w(e,t)}).find(Boolean)||null:e(t)?t:null}function Z(e,t){return"children"in t?e(t)?t:t.children.find(function(t){return"children"in t&&!!Z(e,t)})||null:null}function C(e,t){return Z(function(t){return t.id===e},t)}function N(e,t){return w(function(t){return t.id===e},t)}function P(e,t){return w(function(t){return t.uri===e},t)}function S(e,t){var n;return P(s.fS(e),t)||(n={coordinates:e.displayCoordinates},w(function(e){var t=s.BW(e.uri);return s.l4(e.uri)&&null!==t&&(0,o.J)(t,n.coordinates)},t))}function x(e,t){return Z(function(t){return t.children.some(function(t){return e===t.id})},t)}function T(e){return e.reduce(function(e,t){return e.concat("children"in t?T(t.children):[t])},[])}function R(e,t){var n=t.bookmarks.subscriptionLists,r=t.bookmarks.rootFolder,i=t.bookmarks.publicList,a=null==n?void 0:n.find(function(t){return t.publicId===e});return(r?(null==i?void 0:i.isCurrentUserAuthor)&&i.publicId===e?C(i.id,r):C(e,r):null)||a||i||null}function A(e,t){return e.children.reduce(function(e,n){var r;return(null==(r=n.tags)?void 0:r.includes(t))?e.concat(T(n.children)):e},[])}function I(e){var t=e.uri,n=Object.keys(v).find(function(e){return t.includes(e)});return n?v[n]:"unknown"}function B(e,t){var n=e.text.trim();t.authorization&&n&&y(t).then(function(t){var r={text:n,uri:null==e?void 0:e.uri};t.addRecord(r)}).catch(function(){})}function O(e){return e.authorization?Promise.race([y(e).then(function(e){return e.getRecords()}),c.Vs(1e3)]).catch(function(){return[]}):Promise.resolve([])}function M(e){return e.authorization?y(e).then(function(e){return e.deleteRecords()}):Promise.reject()}function L(e){return"coords"in e}function D(e,t){return e.id===l.Z.FAVORITES_FOLDER_ID?"Избранное":e.title.substring(0,f)}function F(e){return("create_folder"===e.type||"edit_folder"===e.type)&&e.isShownIconSelection?"select_folder_icon":e.type}function U(e){switch(e.type){case"create_folder":return(0,a._)({type:e.type,values:{title:"",description:""}},e.data);case"edit_folder":return(0,a._)({type:e.type},e.data);case"rename_bookmark":return{type:e.type,bookmark:e.bookmark};case"change_order":return{type:e.type,folderId:e.folderId,elements:e.elements}}return null}function z(e){return"children"in e}function H(e,t,n){var r,i,a="publicId"in e?e.publicId:null==n?void 0:null==(i=n.find(function(t){return t.id===e.id}))?void 0:i.publicId;if(a)return m._((void 0===r&&(r={}),(r.baseUrl||"")+(0,d.stringify)({bookmarks:{publicId:a}},{addQueryPrefix:!0})),t)+"&utm_source=share&utm_campaign=bookmarks"}function q(e,t){return!!(null==t?void 0:t.some(function(t){return t.id===e.id}))}function W(e,t){return!!(null==t?void 0:t.some(function(t){return t.id===e.id}))}function G(e){return!e.bunker.disableBookmarksInt}function j(e){return!!("publicId"in e&&e.publicId)}function V(e,t){var n;return(null==t?void 0:null==(n=t.find(function(t){return e.id===t.id}))?void 0:n.status)==="shared"}function K(e){var t="status"in e&&e.status;return t&&["closed","deleted"].includes(t)}var Q=function(e){var t=e.placeId,n=e.searchResult,r=e.timeContext,i=e.config,a=e.place;if(n&&t){var o=u.x2(r);return{title:_(t,i),coords:[n.displayCoordinates[0],n.displayCoordinates[1]],created:a?a.created:o,modified:o,lastUsed:o,tags:a?a.tags:[],addressLine:"business"===n.type&&n.fullAddress||n.address||"",addressLineShort:n.title}}}},16060:(e,t)=>{"use strict";t.Z=function(e,t){(t.mocks||t.query.mocks||t.query.asessors)&&(e._db._postDeltas=function(e){var t=Promise.resolve(e.base_revision+1),n=t.then;return t.then=function(e,r,i){return n.call(t,e.bind(i),r.bind(i))},t})}},96132:(e,t,n)=>{"use strict";var r=n(70427);t.Z=(0,r.Z)(function(){return n.e("catalog").then(n.bind(n,17280))},{openCatalog:!0,openGroup:!0,cancelFetch:!0})},10681:(e,t,n)=>{"use strict";n.d(t,{a:()=>p});var r,i=n(18188),a=n(87363),o=n(44429),s=n(57652),l=n(70457),c=n(31336),u=(0,l.Z)({resolved:{},chunkName:function(){return"react-query-devtools"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("react-query-devtools").then(n.bind(n,37115))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 37115}}),d="undefined"==typeof window,m={buttonPosition:"bottom-right",position:"bottom"},p=function(e){var t,n=(0,c.ZR)(),l=(0,i._)(a.useState(function(){var e=null!=r?r:new o.S({defaultOptions:{queries:{networkMode:"always",refetchOnReconnect:!0,refetchOnWindowFocus:!1,retry:!1,staleTime:100}}});return d||(r=e),e}),1)[0];return a.createElement(s.aH,{client:l},e.children,(null==(t=n.debug)?void 0:t.params.includes("query"))?a.createElement(u,m):null)}},76071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(34788),i=n(18007),a=n(87363),o=n(90585),s=n(44748),l=n(31336),c=n(85172),u=n(81194),d=n(33228),m=n(60517),p=n(93522),v=n(49267),f=n(51605),h=(0,o.Z)(l.ZP,c.ZP),g=(0,s.Z)("action-button-view"),_=h(function(e){function t(t){var n;return(n=e.call(this,t)||this)._onClick=function(e){var t=n.props;t.onClick&&t.onClick(e)},n._renderAnalyticsWrap=function(e){var t=n.props;return t.analytics?a.createElement(m.ZP,{name:t.analytics,metrikaGoal:t.metrikaGoal,gaGoal:t.gaGoal,useParentState:t.useParentState,logClick:!0,nodeState:t.analyticsState},e):e},n._renderHintWrap=function(e){var t=n.props;return t.hint?a.createElement(p.Z,{text:t.hint,position:"bottom"},function(t){return e(t)}):e()},n.state={isHovered:!1},n}return(0,i._)(t,e),t.prototype.render=function(){var e,t,n,i,o,s=this,l=this.props,c=l.ariaHidden?{}:(null==(e=l.mods)?void 0:e.saved)!==void 0?{pressed:l.mods.saved}:{ariaExpanded:l.ariaExpanded},m=l.ariaHidden?{ariaHidden:l.ariaHidden,children:l.text}:"text"in l?(0,r._)({children:l.text},c):(0,r._)({ariaLabel:l.ariaLabel},c),p=[g("icon"),null==(t=l.icon)?void 0:t.className].filter(Boolean).join(" "),h=(null==(n=l.icon)?void 0:n.url)?a.createElement(d.Z,{className:p,url:l.icon.url}):(null==(i=l.icon)?void 0:i.name)?a.createElement(v.Z,{name:l.icon.name,className:p,theme:(null==(o=l.icon)?void 0:o.useTheme)?l.theme:void 0,inline:!0}):null;return this._renderHintWrap(function(e){var t;return s._renderAnalyticsWrap(a.createElement("div",{className:g((0,r._)({},l.mods,{stretched:l.isStretched,type:l.type})),ref:(0,f.l)(l.nodeRef,e)},l.absoluteChildren?a.Children.toArray(l.absoluteChildren).filter(Boolean):null,a.createElement(u.Z,(0,r._)({view:l.view||"secondary-blue",size:l.size||"medium",disabled:null==(t=l.mods)?void 0:t.disabled,isStretched:l.isStretched,icon:h,rel:l.rel,url:l.url,target:l.target,onClick:s._onClick,onMouseEnter:function(e){s.state.isHovered||null==s.props.onHover||s.props.onHover.call(s.props,e),s.setState({isHovered:!0})},onMouseLeave:function(){s.setState({isHovered:!1})}},m))))})},t}(a.Component))},30594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(18007),i=n(87363),a=n(28216),o=n(99091),s=n(96132),l=n(44748),c=n(60517),u=n(49180),d=n(523),m=n(84772),p=n(61453),v=(0,l.Z)("breadcrumbs-view"),f={openCategory:d.Z.openCategory,openCatalog:s.Z.openCatalog,hideLayers:o.Z.hideLayers,showMasstransitHomePanel:m.Z.resetStackAndShowHomePanel,showMasstransitTransportList:m.Z.resetStackAndShowTransportList,search:d.Z.search,searchChain:d.Z.searchChain,openHomePanel:o.Z.openHomePanel,openCard:p.Z.openCard},h=a.$j(null,f)(function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._onBreadcrumbClick=function(e){"category"===e.type?t.props.openCategory(e.category):"chain"===e.type?t._showChain(e):"region"===e.type?t._showRegion(e):"root"===e.type?t.props.hideLayers():"search"===e.type?t._searchFor(e.name):"masstransit-home"===e.type?t.props.showMasstransitHomePanel():"masstransit-list"===e.type?t.props.showMasstransitTransportList(e.vehicleType):"catalog"===e.type?t.props.openCatalog(e.region):"toponym"===e.type&&t._searchForToponym(e.uri,e.tab)},t._searchForToponym=function(e,n){t.props.openCard({from:"search",uri:e},{tab:n})},t._searchFor=function(e){t.props.search({searchType:"TEXT",text:e,origin:"card-category"},{stackAction:"push"})},t._showChain=function(e){var n=e.chain;t.props.searchChain({chain:n,center:n.center})},t._showRegion=function(e){var n=e.region;t.props.openHomePanel({center:n.center,zoom:n.zoom})},t._renderBreadcrumb=function(e,n){return e.currentPage?null:i.createElement(i.Fragment,{key:e.url},0===n?null:i.createElement("span",{className:v("delimiter")}," • "),i.createElement(c.ZP,{name:"item",logClick:!0,nodeState:{url:e.url,text:e.name}},i.createElement(u.Z,{ariaLabel:e.name,className:v("breadcrumb",{outline:!0}),href:e.url,title:e.name,onLeftClick:function(){return t._onBreadcrumbClick(e)}},e.name)))},t}return(0,r._)(t,e),t.prototype.render=function(){return i.createElement(c.ZP,{name:"breadcrumbs"},i.createElement("div",{className:v()},this.props.breadcrumbs.map(this._renderBreadcrumb)))},t}(i.PureComponent))},81554:(e,t,n)=>{"use strict";var r=n(18007),i=n(87363),a=n(73442),o=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getUrl=function(e){return e.urlExtension?e.href+(e.href.includes("?")?"&":"?")+(e.urlExtension||""):e.href},n._onClick=function(){var e=n.props.link;e.iframe?n.setState({showIframe:!0}):window.open(n._getUrl(e),"_blank")},n._onClose=function(){n.setState({showIframe:!1})},n._renderIframe=function(){var e=n.props.link;return e.iframe?i.createElement(a.Z,{isOpen:n.state.showIframe,href:n._getUrl(e),text:e.text,iframeStyle:e.iframe,onClose:n._onClose}):null},n.state={showIframe:!1},n}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement(i.Fragment,null,this._renderIframe(),e.children(this._onClick))},t}(i.Component);t.Z=o},84399:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(18007),i=n(87363),a=n(44748),o=n(92616),s=n(49267),l=n(60517),c=n(97313),u=n(34788),d=n(20224),m=function(e){var t=e.tag,n=e.ariaConfig,r=e.children,a=e.currentRef,o=(0,d._)(e,["tag","ariaConfig","children","currentRef"]);return i.createElement(t,(0,u._)({},o,n,{ref:a}),r)},p=n(14246),v=(0,a.Z)("clipboard"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._action=null,n._content=null,n._textarea=null,n._selectContent=function(){var e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(n._getContentRange()))},n._getContentRange=function(){var e=window.document.createRange();return e.selectNodeContents(n._content),e},n._showHelp=function(e){n.setState({success:e}),n._hideTimer=window.setTimeout(function(){n.setState({success:null})},2e3),!e&&!n.props.text&&n.props.children&&n._textarea&&(n._textarea.blur(),n._selectContent())},n._copy=function(e){if(!("key"in e)||"Enter"===e.key){e.stopPropagation(),window.clearTimeout(n._hideTimer);var t=n.props.text;!t&&n.props.children&&(t=n._getContentRange().toString().trim()),t&&n._textarea&&(n._textarea.value=t,n._textarea.select(),n._textarea.setSelectionRange(0,t.length),n._copyExecutor(t))}},n._onMouseEnter=function(){n.setState({show:!0,success:null})},n._onMouseLeave=function(){n.setState({show:!1,success:null})},n._renderAction=function(){var e=!1===n.props.ariaHidden?{"aria-hidden":!1,role:"button",tabIndex:0,"aria-label":n.props.ariaLabel}:{"aria-hidden":!0};return i.createElement(l.ZP,{name:"clipboard",logClick:!0,metrikaGoal:n.props.metrikaGoal},i.createElement(m,{tag:"div",ariaConfig:e,className:v("action-wrapper",{inline:!n.props.noIcon&&"input"!==n.props.view,view:n.props.view}),onClick:n._copy,onKeyDown:n._copy,currentRef:function(e){n._action=e}},n.props.children,i.createElement("div",{className:v("action",{visible:n.props.visible,show:n.state.show,"no-icon":n.props.noIcon})},n.props.noIcon?null:i.createElement("div",{className:v("icon")},i.createElement(s.Z,{name:"copy-16",inline:!0})),i.createElement("textarea",{"aria-hidden":!0,className:v("textarea"),ref:function(e){n._textarea=e},readOnly:!0,dir:"auto"}))))},n._renderHelp=function(){var e=n.state.success,t=null!==e,r=e?n.props.hint||"Скопировано":"Ошибка! Скопируйте вручную";return i.createElement(i.Fragment,null,i.createElement(o.Z,{isShown:t,getTarget:function(){return n._action},position:n.props.position||"top",restrictPosition:!0,type:e?"help":"error",zIndex:c.I.clipboard},i.createElement("div",{className:v("help")},r)),i.createElement(p.Z,{tag:"div",ariaLive:"polite"},t?r:"clipboard"))},n.state={clipboardSupported:!0,show:!1,success:null},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.document.queryCommandSupported&&window.document.queryCommandSupported("copy")&&window.navigator.clipboard||this.setState({clipboardSupported:!1})},n.componentWillUnmount=function(){window.clearTimeout(this._hideTimer)},n._copyExecutor=function(e){var t=this;("clipboard"in window.navigator?function(e){return window.navigator.clipboard.writeText(e)}:function(){return new Promise(function(e){return e(window.document.execCommand("copy"))})})(e).then(function(){t._showHelp(!0)}).catch(function(){t._showHelp(!1)}).finally(function(){t._textarea.value="",t._textarea.blur()})},n.render=function(){var e=this,t=this.props.children||null;return this.state.clipboardSupported?i.createElement("div",{className:v(),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},i.createElement("div",{className:v("content"),ref:function(t){e._content=t}},this._renderAction()),this._renderHelp()):i.createElement("div",{className:v()},t)},t}(i.Component)},7098:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(87363),i=n(44748),a=n(13975),o=n(31336),s=(0,i.Z)("company-logo-view"),l=function(e){return(0,o.ZR)(),r.createElement("div",{className:s({highlighted:e.highlighted,size:e.size||"m"})},r.createElement("div",{className:s("inner",{size:e.size||"m"})},e.logoUrl?r.createElement(a.Z,{src:e.logoUrl.replace("%s","S"),alt:"Логотип",renderImmediately:!0}):null),e.withPlus?r.createElement("div",{className:s("plus-symbol")},"+"):null)}},24739:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(87363),i=n(44748),a=n(60517),o=n(81194),s=n(69452),l=(0,i.Z)("content-panel-error-view"),c=function(e){var t="something-went-wrong"===e.error;return r.createElement("div",{className:l()},r.createElement(s.Z,null,r.createElement("div",{className:l("title")},t?"Что-то пошло не так.":"Ничего не найдено."),r.createElement("div",{className:l("description")},t?"Попробуйте обновить страницу или зайти позднее.":"Проверьте адрес страницы или поищите что-нибудь другое.")),r.createElement("div",{className:l("button")},r.createElement(a.ZP,{name:"error_button",logClick:!0},r.createElement(o.Z,{view:"primary",size:"medium",onClick:function(){return e.onButtonClick(e.error)}},t?"Обновить":"На главную"))))}},63080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(87363),i=n(44748),a=n(60517),o=n(49267),s=n(87342),l=n(49180),c=(0,i.Z)("content-panel-header-menu-item"),u=function(e){return r.createElement(a.ZP,{name:e.analyticsName,metrikaGoal:e.metrikaGoal,gaGoal:e.gaGoal,nodeState:{type:e.type},logClick:!0},r.createElement(l.Z,{href:e.url,"aria-hidden":!0,className:c({name:e.analyticsName,clickable:!0}),onLeftClick:e.onClick},r.createElement(o.Z,{inline:!0,className:c("icon"),name:e.iconName}),r.createElement(s.Z,{className:c("text"),tag:"div"},e.text)))}},17716:(e,t,n)=>{"use strict";var r=n(18007);n(2555);var i=n(87363),a=n(28216),o=n(90585),s=n(44748),l=n(70457),c=n(99091),u=n(36191),d=n(52149),m=n(89318),p=n(60517),v=n(33228),f=n(63080),h=n(69602),g=n(49267),_=n(76941),y=n(31336),b=n(85172),E=n(94542),k=n(73741),w=(0,l.Z)({resolved:{},chunkName:function(){return"header"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("header").then(n.bind(n,33780))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 33780}}),Z={openRoutePanel:u.Z.open,buildRouteTo:u.Z.buildRouteTo,resetStackAndSidebar:c.Z.resetStackAndSidebar,reduceStackByLastMode:c.Z.reduceStackByLastMode,close:d.Z.close},C=(0,o.Z)(a.$j(function(e){return{mapRegion:e.mapRegion}},Z),y.ZP,b.ZP),N=(0,s.Z)("content-panel-header"),P=function(e){function t(t){var n;return(n=e.call(this,t)||this)._openSearch=function(){n.setState({isSearchOpen:!0})},n._closeSearch=function(){n.setState({isSearchOpen:!1})},n._onRoutePanelClick=function(){var e=n.props,t=e.openRoutePanel,r=e.buildRouteTo,i=e.routeTo;i?r(i):t()},n._onIconClick=function(){var e=n.props;e.showBack?e.close():e.resetStackAndSidebar()},n._onCloseClick=function(){n.props.reduceStackByLastMode()},n._renderClose=function(){return n.props,i.createElement(p.ZP,{name:"close",logClick:!0},i.createElement(E.Z,{className:N("close"),ariaLabel:"Закрыть",title:"Закрыть",onClick:n._onCloseClick},i.createElement(g.Z,{inline:!0,name:"cross-24",className:N("close-image")})))},n._renderIcon=function(){var e=n.props,t=e.showBack?"arrow-back-24-flip":"logo-24";return(e.config.experiments.ui.serviceBar||e.config.isYango)&&!e.showBack?null:i.createElement(p.ZP,{name:e.showBack?"back":"pin",logClick:!0},i.createElement(g.Z,{ariaLabel:"Назад",inline:!0,name:t,className:N("icon",{back:e.showBack}),onClick:n._onIconClick}))},n._renderSearch=function(){var e=n.state.isSearchOpen;return i.createElement(h.Z,{selector:".body"},i.createElement("div",{className:N("search-placeholder",{hidden:!e})},i.createElement("div",{"aria-hidden":!0,className:N("paranja"),onClick:n._closeSearch}),e?i.createElement(w,{initialSuggest:!0,onSuggestClick:n._closeSearch,onBlur:n._closeSearch}):null))},n._renderLogo=function(){var e=n.props;return e.config.isYango?i.createElement(g.Z,{name:"logo-web-yango-140x32",theme:e.theme,inline:!0,className:N("logo"),ariaLabel:"Яндекс Карты",onClick:e.resetStackAndSidebar}):i.createElement(v.Z,{ariaLabel:"Яндекс Карты",className:N("logo"),url:m.R7({type:"black",lang:e.config.lang,theme:e.theme}),onClick:e.resetStackAndSidebar})},n._renderSearchItem=function(){return i.createElement(f.Z,{key:"search",analyticsName:"search",type:n.props.analyticsType,onClick:n._openSearch,iconName:"search-24",text:"Поиск"})},n._renderRoute=function(){var e=n.props,t=k.W("routes",e.mapRegion,e.config);return i.createElement(f.Z,{url:t,key:"route",analyticsName:"build_route",metrikaGoal:e.routeGoal,gaGoal:"site.contacts.click.route",type:e.analyticsType,onClick:n._onRoutePanelClick,iconName:"navi-24-flip",text:"Маршруты"})},n._renderItems=function(){var e=!!n.props.config.experiments.ui.serviceBar;return i.createElement("div",{className:N("items")},n._renderLogo(),i.createElement("div",{className:N("menu")},n._renderSearchItem(),e?null:n._renderRoute()))},n.state={isSearchOpen:!1},n}return(0,r._)(t,e),t.prototype.render=function(){var e=this.state;return i.createElement(_.Z,{position:"top",order:0,border:"always",zIndex:4},i.createElement(p.ZP,{name:"header"},i.createElement("div",{className:N({hidden:e.isSearchOpen,border:this.props.border}),ref:this.props.headerRef},this._renderIcon(),this._renderItems(),this._renderClose(),this._renderSearch())))},t}(i.Component);t.Z=C(P)},22897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(18007),i=n(87363),a=n(44748),o=n(69602),s=n(83643),l=n(31336),c=n(71392),u=n(53070),d=n(41690),m=n(60517),p=n(70343),v=(0,a.Z)("dialog"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._container=i.createRef(),n._ref=i.createRef(),n._focusContainer=function(){if(!(!n._container.current||window.document.activeElement&&n._container.current.contains(window.document.activeElement))){var e=n._ref.current.scrollTop;n._container.current.focus(),n._ref.current.scrollTop=e}},n._onClose=function(){n.props.onClose()},n._onMouseDown=function(e){var t=e.currentTarget,r=t.scrollHeight>t.offsetHeight&&t.offsetWidth===t.clientWidth;e.target===e.currentTarget&&e.clientX+(r?15:0)<e.currentTarget.clientWidth&&n._onClose()},n._onScroll=function(){var e=n._ref.current,t=e.clientHeight+e.scrollTop>=e.scrollHeight;n.props.onScrollToEnd&&t&&n.props.onScrollToEnd()},n._renderClose=function(){return n.props.showCloseButton?i.createElement(u.Z,{onClick:n._onClose,offset:"large",circle:!0,usePortal:n.props.config.uatraits.isPhone,analytics:{useParentState:!0},tabIndex:0}):null},n._renderContainer=function(){var e,t=n.props,r=null==(e=t.returnFocus)||e,a=n.props.visuallyHiddenBeforeMount&&!n.state.mounted;return i.createElement("div",{className:v("container",{animated:!t.config.query["no-animation"],"animation-paused":a}),ref:n._container},i.createElement(p.Z,{tag:"div",enableFocusLock:!0,returnFocus:r,className:v("content",{"with-title":!1,"no-focus-outline":t.hideFocusOutline})},null,n._renderClose(),t.children))},n._renderDialog=function(){var e=n.props;return i.createElement(m.ZP,{name:"dialog",useParentState:!0,logClick:!0},i.createElement("div",{className:v({transparent:e.transparent,fullscreen:e.fullscreen,"fit-mobile-content":e.fitMobileContent}),style:e.zIndex?{zIndex:e.zIndex}:void 0,ref:n._ref,onMouseDown:n._onMouseDown,onTouchMove:function(e){return e.preventDefault()},onScroll:n.props.onScrollToEnd?n._onScroll:void 0},i.createElement(s.Z,{handlers:{key:c.n.ESC,callback:n.props.onClose}}),n._renderContainer()),e.config.uatraits.isPhone?null:i.createElement("div",{className:v("paranja"),style:e.zIndex?{zIndex:e.zIndex-1}:void 0}))},n.state={mounted:!1},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({mounted:!0}),this.props.isOpen&&this._focusContainer()},n.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this._focusContainer()},n.render=function(){var e=this.props,t=e.isOpen?this._renderDialog():null;return e.inline?i.createElement(d.Z,{animationRef:this._ref,onHideEnd:e.onHideEnd},t):i.createElement(o.Z,{selector:".body"},i.createElement(d.Z,{animationRef:this._ref,onHideEnd:e.onHideEnd},t))},t}(i.Component),h=(0,l.ZP)(f)},97255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(18007),i=n(87363),a=n(44748),o=n(41690),s=n(60517),l=n(30473),c=(0,a.Z)("dropdown-view"),u=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._content=null,t._animationRef=i.createRef(),t._show=function(){t._animateContent("EXPAND")},t._hide=function(){t._animateContent("COLLAPSE")},t._animateContent=function(e){if(t._content){var n=t._content,r="EXPAND"===e?0:n.offsetHeight,i="EXPAND"===e?n.offsetHeight:0;n.style[(0,l.r1)().styles.transition]="max-height 0.15s ease-in-out",n.style.maxHeight=""+r+"px",n.getBoundingClientRect(),n.style.maxHeight=""+i+"px"}},t._onTransitionEnd=function(e){e.target===t._content&&t._content&&(t._content.style[(0,l.r1)().styles.transition]="",t._content.style.maxHeight="",t.props.onTransitionEnd&&t.props.onTransitionEnd())},t._renderContent=function(){var e=t.props,n=i.createElement("div",{className:c("content"),ref:function(e){t._content=e},onTransitionEnd:t._onTransitionEnd},e.children);return e.disableAnalytics?n:i.createElement(s.ZP,{name:"content"},n)},t}return(0,r._)(t,e),t.prototype.render=function(){return i.createElement("div",{className:c()},i.createElement(o.Z,{animationRef:this._animationRef,onShow:this._show,onHideStart:this._hide},this.props.isExpanded?i.createElement("div",{ref:this._animationRef},this._renderContent()):null))},t}(i.Component)},65752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(87363),i=n(44748),a=n(94542),o=n(31336),s=(0,i.Z)("expand-button"),l=function(e){var t,n=(2+4*(null!=(t=e.fold)?t:0)).toFixed(2);return(0,o.ZR)(),r.createElement(a.Z,{ariaLabel:"Развернуть",className:s(),onClick:e.onClick},r.createElement("svg",{viewBox:"0 0 24 8",xmlns:"http://www.w3.org/2000/svg",className:s("dash")},r.createElement("path",{d:"M2 "+n+"L12 2L22 "+n,fill:"none",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})))}},34257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(87363),i=n(44748),a=n(49267),o=(0,i.Z)("flip-icon"),s=function(e){var t=e.isFlipped;return r.createElement(a.Z,{name:"arrow-down-8",className:o({flipped:t}),inline:!0})}},16693:(e,t,n)=>{"use strict";var r,i=n(18007),a=n(87363),o=[],s=!1;function l(e){0===(o=o.filter(function(t){return t!==e})).length&&r&&r.disconnect()}var c=function(e){function t(){return e.apply(this,arguments)}(0,i._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t;!s&&(e=this.props.listener,(t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)&&(r||(r=new t(function(e){var t=e.find(function(e){return"class"===e.attributeName});if(t){var n=t.target.getAttribute("class");n&&(s=n.includes("_font_loaded"))&&setTimeout(function(){o.forEach(function(e){e(),l(e)})},1)}})).observe(window.document.getElementsByTagName("body")[0],{attributes:!0,attributeFilter:["class"]}),o.push(e)))},n.componentWillUnmount=function(){l(this.props.listener)},n.render=function(){return null},t}(a.PureComponent);t.Z=c},59600:(e,t,n)=>{"use strict";var r,i=n(18007),a=n(87363),o=n(31336),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={didHydrate:r},n}(0,i._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.didHydrate||(r=!0,this.setState({didHydrate:r}))},n.render=function(){var e=this.props;return this.state.didHydrate?null:a.createElement("script",{type:"text/javascript",nonce:e.config.cspNonce,dangerouslySetInnerHTML:{__html:"window._maps_internal_timingsMarks."+e.type+" = performance.now();"}})},t}(a.Component);t.Z=(0,o.ZP)(s)},73442:(e,t,n)=>{"use strict";var r=n(18007);n(6708);var i=n(87363),a=n(44748),o=n(22897),s=n(60517),l=n(36887),c=n(31336),u=(0,a.Z)("iframe-dialog"),d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onFrameLoad=function(){n.setState({isFrameLoading:!1})},n._onFrameError=function(){n.setState({isFrameLoading:!1,isFrameError:!0})},n._onClose=function(){n.props.onClose&&n.props.onClose()},n._renderTitle=function(){var e=n.props.text;return e?i.createElement("div",{className:u("title"),dangerouslySetInnerHTML:{__html:e}}):null},n.state={didMount:!1,isFrameLoading:!0,isFrameError:!1},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({didMount:!0})},n.componentDidUpdate=function(e){e.isOpen&&!this.props.isOpen&&this.setState({isFrameLoading:!0,isFrameError:!1})},n.render=function(){var e=this.props,t=this.state,n=this._renderTitle();return i.createElement(o.default,{isOpen:e.isOpen,onClose:this._onClose,showCloseButton:!0},i.createElement(s.ZP,{name:"iframe",useParentState:!0},i.createElement("div",{className:u({view:e.fullView?"full":"padded"})},n,t.isFrameLoading?i.createElement("div",{className:u("spinner")},i.createElement(l.Z,{view:"large"})):null,t.isFrameError?i.createElement("div",{className:u("error-message")},"Произошла ошибка.\nПовторите через пару минут."):i.createElement("iframe",{ref:e.iframeRef,className:u("frame",{"no-border":e.noBorder})+" "+(e.iframeClassName||""),src:e.href.replace("http:","https:"),style:e.iframeStyle,sandbox:"allow-forms allow-scripts allow-same-origin allow-modals allow-popups allow-popups-to-escape-sandbox",scrolling:e.noscrolling?"no":void 0,referrerPolicy:"origin",onLoad:this._onFrameLoad,onError:this._onFrameError}))))},t}(i.PureComponent);t.Z=(0,c.ZP)(d)},96309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(87363),i=n(31336),a=n(44748),o=n(99243),s=n(94542),l=(0,a.Z)("image"),c=function(e){var t,n=(0,i.ZR)();return r.createElement(s.Z,{className:l({"with-paranja":e.withParanja,hovered:e.hovered,contain:e.contain,touch:n.uatraits.isTouch,clickable:!!e.onClick}),style:{height:e.height,background:e.backgroundFallback},onClick:e.onClick,ariaHidden:null!=(t=e.ariaHidden)?t:!e.alt},r.createElement(o.Z,null,r.createElement("div",{className:l("bg")},e.url?r.createElement("img",{alt:e.alt,width:"100%",height:"100%",className:l("img"),src:e.url}):null)),r.createElement("div",{className:l("content")},e.children))}},13975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(87363),i=n(44748),a=n(31336),o=n(99243),s=(0,i.Z)("img-with-alt"),l=function(e){var t=(0,a.ZR)(),n={objectFit:e.backgroundSize||"cover",backgroundColor:e.backgroundColor};return r.createElement(o.Z,{immediately:e.renderImmediately},r.createElement("img",{"aria-hidden":e.ariaHidden,className:s(),width:"100%",height:"100%",src:e.src,alt:e.alt,style:n,loading:e.renderImmediately||t.query["no-lazy-render"]?void 0:"lazy",onLoad:e.onLoad}))}},94423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(87363),i=n(44748),a=n(36887),o=(0,i.Z)("loading-view"),s=function(e){var t=e.text,n=e.view,i=e.hideSpinner;return r.createElement("div",{className:o()},r.createElement("span",{className:o("text")},i?null:r.createElement("div",{className:o("spinner")},r.createElement(a.Z,{view:n||"small"})),t))}},90004:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(18007);n(60376);var i=n(87363),a=n(42054),o=n(90585),s=n(44748),l=n(31336),c=n(10740),u=n(81194),d=n(52869),m=n(79409),p={subscribe:function(e,t){return(0,m.Z)("email/subscribe",{body:e},t)}},v=n(36887),f=n(60517),h=n(38614),g=n(85172),_=(0,s.Z)("maillist-form-view"),y="maillist_subscribed",b={default:"Рассылка Яндекс Карт",success:"Готово!",error:"Давайте ещё раз",already:"Вы уже подписаны"},E={default:"Подпишитесь, чтобы узнавать об интересных местах в вашем городе",success:"Теперь вы подписаны на рассылки Яндекс Карт",error:"Что-то пошло не так, попробуйте подписаться снова",already:""},k={default:"Подписаться",success:"Хорошо"},w=(0,o.Z)(l.ZP,g.ZP)(function(e){function t(t){(n=e.call(this,t)||this)._analyticsRef=i.createRef(),n._subscribe=function(){var e=n.props;n.setState({isSubscribing:!0}),d.Z.cancel(n._subscribeAction);var t=p.subscribe({regionId:String(e.config.userRegion.id),place:e.openedFrom},e.config);n._subscribeAction=d.Z.create(t,{success:n._onSubscribe,fail:n._onSubscribe})},n._onSubscribe=function(e){h.Z.set(y,e.status),n.setState({isSubscribing:!1,result:e})},n._onSubmit=function(e){e.preventDefault(),!n.state.isSubscribing&&(n._subscribe(),n._analyticsRef.current&&n._analyticsRef.current.logEvent("click",{key:"enter"}))},n._onSuccessClick=function(){n.setState({isOpen:!1})},n._getStatus=function(){var e=n.state.result;return e?e.status?"alreadySubscribed"in e&&e.alreadySubscribed?"already":"success":"error":"default"},n._renderSpinner=function(){return i.createElement("div",{className:_("spinner")},i.createElement("div",{className:_("spinner-inner")},i.createElement(v.Z,{view:"medium"})))},n._renderConfirmControls=function(){return i.createElement("div",{className:_("success")},i.createElement(f.ZP,{name:"done",logClick:!0},i.createElement(u.Z,{view:"primary",size:"medium",onClick:n._onSuccessClick},k.success)))},n._renderSubscribeControls=function(){var e,t=n.props,r=n.state.isSubscribing;return i.createElement(i.Fragment,null,(null==(e=t.config.authorization)?void 0:e.email)?i.createElement("div",{className:_("input")},i.createElement(c.Z,{view:"stroke",value:t.config.authorization.email,disabled:!0,onChange:a.Z})):null,i.createElement("div",{className:_("submit")},i.createElement(f.ZP,{name:"subscribe",logClick:!0,nodeRef:n._analyticsRef},i.createElement(u.Z,{view:"primary",size:"medium",onClick:n._subscribe,disabled:r},k.default))))};var n,r=t.config.lang;return n.state={isOpen:"ru"===r},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=h.Z.get(y);this.setState({isOpen:this.state.isOpen||"ru"===this.props.config.lang&&!e})},n.componentWillUnmount=function(){d.Z.cancel(this._subscribeAction)},n.render=function(){var e,t=this.state,n=t.isOpen,r=t.result,a=t.isSubscribing,o=this.props;if(!n||!(null==(e=o.config.authorization)?void 0:e.email))return null;var s=this._getStatus();return i.createElement(f.ZP,{name:"maillist"},i.createElement("form",{className:_(),onSubmit:this._onSubmit},null,i.createElement("h3",{className:_("title")},b[s]),i.createElement("div",{className:_("text")},E[s]),i.createElement("div",{className:_("controls")},r&&r.status?this._renderConfirmControls():this._renderSubscribeControls()),a?this._renderSpinner():null))},t}(i.Component))},87342:(e,t,n)=>{"use strict";var r=n(87363);t.Z=function(e){var t=e.tag;return r.createElement(r.Fragment,null,r.createElement("span",{dangerouslySetInnerHTML:{__html:"<!--noindex-->"}}),r.createElement(t,{className:e.className,style:e.style,"data-nosnippet":!e.disableDataNoSnippet},e.children),r.createElement("span",{dangerouslySetInnerHTML:{__html:"<!--/noindex-->"}}))}},73999:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(87363),i=n(44748),a=n(60517),o=(0,i.Z)("notification-banner"),s=function(e){var t=e.rightSlot?"center":"top";return r.createElement(a.ZP,{name:"notification_banner",subtreeState:{type:e.analyticsType}},r.createElement("div",{className:o({shadow:e.shadow,view:e.view})},r.createElement("div",{className:o("left",{position:t})},e.leftSlot),r.createElement("div",{className:o("content")},e.children),r.createElement("div",{className:o("right")},e.rightSlot)))}},3148:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(87363),i=n(44748),a=n(49267),o=(0,i.Z)("notification-icon"),s=function(e){return r.createElement(a.Z,{name:"warning-round-24",className:o({view:e.view}),inline:!0})}},84566:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(18007),i=n(87363),a=n(31336),o=n(28342),s=(0,n(44748).Z)("segmented-progress-bar"),l=function(e){var t,n;return null!=(n=null==(t=e.segments[Math.floor(e.currentSegment)])?void 0:t.duration)?n:0},c=function(e){function t(t){var n;return(n=e.call(this,t)||this)._progressRaf=-1,n._startTime=0,n._onRunStateChange=function(){n.props.run?n._scheduleUpdate():n._cancelUpdate()},n._scheduleUpdate=function(){n.props.config.query["no-animation"]||(window.cancelAnimationFrame(n._progressRaf),n._progressRaf=window.requestAnimationFrame(n._updateScreenProgress))},n._cancelUpdate=function(){window.cancelAnimationFrame(n._progressRaf)},n._updateScreenProgress=function(){var e=n.props;if(n.state.progress<100){var t=n.props.getToday().getTime()-n._startTime,r=l(e);n.setState({progress:Math.min(t/r*100,100)}),e.run&&n._scheduleUpdate()}else n.props.onTick()},n.state={progress:0},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.run&&(this._startTime=this.props.getToday().getTime(),this._scheduleUpdate())},n.componentDidUpdate=function(e){var t=this.props.currentSegment,n=e.currentSegment!==t,r=l(e)!==l(this.props),i=e.run!==this.props.run,a=!e.reset&&this.props.reset;i&&(this._startTime=this.props.getToday().getTime()-this.state.progress/100*l(this.props)),n||r||a?(this._startTime=this.props.getToday().getTime(),this.setState({progress:t%1*100},this._onRunStateChange)):i&&this._onRunStateChange()},n.componentWillUnmount=function(){this._cancelUpdate()},n.render=function(){var e=this.props,t=this.state,n=Math.floor(e.currentSegment);return i.createElement("div",{className:s({view:e.view||"transparent-white"})},e.segments.map(function(r,a){return i.createElement("div",{key:a,className:s("bar",{filled:e.fillCurrent?a<=n:a<n,size:e.size||"small","current-stretched":e.isCurrentBarStretched,current:a===n})},a===n?e.renderCustomProgressSegment?e.renderCustomProgressSegment():i.createElement("div",{className:s("progress"),style:{width:""+t.progress+"%"}}):null)}))},t}(i.Component),u=(0,o.ZP)((0,a.ZP)(c))},23129:(e,t,n)=>{"use strict";var r=n(34788),i=n(87363),a=n(2866);t.Z=function(e){var t="ul"===e.groupBy?"ul":i.Fragment,n="ul"===e.groupBy?"li":i.Fragment;return i.createElement(t,{"data-name":e.name},e.links.map(function(e){return e.url?i.createElement(n,{key:e.id},i.createElement("a",(0,r._)({},a.xl,{href:e.url,style:{height:"0",width:"0",overflow:"hidden",display:"block"}}),e.text)):null}))}},33106:(e,t,n)=>{"use strict";var r=n(87363),i=n(94207),a=n(31336);t.Z=function(e){var t=(0,i.Z)(e.texts);return(0,a.ZR)().uatraits.isRobot&&(0!==t.length||e.children)?r.createElement("div",{"data-name":e.name,"aria-hidden":!0},t.length>0?t.map(function(e){return r.createElement("div",{key:e},e)}):e.children):null}},62142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(34788),i=n(87363),a=n(44748),o=n(2866),s=(0,a.Z)("seo-pagination-view"),l=function(e){var t=Math.max(1,e.currentPage-6)+1,n=Math.max(Math.min(e.maxPages,e.currentPage+5),t),a=[];return t<=n&&(a=Array(n-t+1).fill(void 0).map(function(e,n){return n+t})),i.createElement("ol",(0,r._)({className:s()},o.xl),i.createElement("li",{key:"main-page"},i.createElement("a",{href:1!==e.currentPage?e.url:void 0},"1")),a.map(function(t){var n;return i.createElement("li",{key:t},i.createElement("a",{href:t!==e.currentPage?(n=e.url)+(n.includes("?")?"&":"?")+"page="+t:void 0},t))}))}},70901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(18007),i=n(87363),a=n(44748),o=n(41690),s=n(69602),l=n(35263),c=n.n(l),u=n(31336),d=n(58155),m=n(83643),p=n(71392),v=n(65752),f=n(85672),h=n(76941),g=n(88813),_=(0,a.Z)("shutter"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this)._contentRef=i.createRef(),n._isScrollOnTop=!1,n._getRef=function(){var e;return null!=(e=n.props.elementRef)?e:n._contentRef},n._onShow=function(){var e=n._getRef().current;if(e){var t=e.getBoundingClientRect(),r=t.top,i=t.height;n.setState({top:r,swipeMinTop:r,swipeMaxTop:r+i,swipeStartTop:r})}},n._onSwipeMove=function(e){n.setState({top:e})},n._onSwipeEnd=function(e){var t=n.props;"up"===e&&n.setState(function(e){return{top:e.swipeStartTop}}),"down"===e&&t.onClose&&t.onClose()},n._onEventStopPropagation=function(e){n.props.stopPropagation&&e.stopPropagation()},n._onContentTouchStart=function(e){e.stopPropagation()},n._onOutsideClick=function(e){n.props.ignoreOutsideClick||(e.preventDefault(),e.stopPropagation(),null==n.props.onClose||n.props.onClose.call(n.props,e))},n._onScroll=function(e){n._isScrollOnTop=e<=0},n._isNodeWithinStickyElement=function(e,t){return"sticky"===window.getComputedStyle(e).position||e!==t&&!!e.parentElement&&n._isNodeWithinStickyElement(e.parentElement,t)},n._isSwipeDisabled=function(e){var t=!n._isScrollOnTop;return t&&e.target?!n._isNodeWithinStickyElement(e.target,e.currentTarget):t},n._renderOutsideListenerWrapper=function(e){var t=n.props;return t.onClose?i.createElement(d.Z,{callback:n._onOutsideClick,stopPropagation:t.stopPropagation,getExcludedNodes:t.getExcludedNodes},function(t){return e(t)}):e()},n._renderContent=function(){var e,t=n.props,r=n.state,a=r.top,o=a!==r.swipeStartTop,s=void 0,l=t.fullHeight&&void 0!==t.topGap?"calc(100% - "+t.topGap+"px)":void 0,u=function(e){return i.createElement("div",{tabIndex:t.swipeable?void 0:0,className:_("content",{"no-animation":o,"full-height":!!t.fullHeight}),style:{top:a?a-n.state.swipeStartTop:void 0,height:l,maxHeight:l},onTouchStart:n._onContentTouchStart},i.createElement("div",{className:_("content-inner"),ref:e},t.swipeable?i.createElement(v.Z,null):null,i.createElement(f.Z,{width:"dynamic",fullHeight:t.fullHeight,cacheKey:t.scrollCacheKey,keepOnUpdate:t.keepOnUpdate,onScroll:n._onScroll,noOverscroll:t.noOverscroll},t.title?i.createElement(h.Z,{position:"top"},t.title):null,i.createElement("div",{className:_("data"),style:t.buttons?void 0:s},t.children),t.buttons?i.createElement(h.Z,{position:"bottom",border:t.buttonsBorder||"always"},i.createElement("div",{className:_("buttons"),style:s},t.buttons)):null)))};return i.createElement("div",{ref:n._getRef(),className:_({paranja:(null==(e=t.config)?void 0:e.experiments.ui.newPersonalPageWithWebview)?"bg":"default",view:t.view}),onClick:n._onEventStopPropagation,style:t.zIndex?{zIndex:t.zIndex}:void 0},n._renderOutsideListenerWrapper(function(e){var o;return t.swipeable?i.createElement(c(),{elementRef:n._getRef(),top:a,min:r.swipeMinTop,max:r.swipeMaxTop,start:r.swipeStartTop,disabled:null!=(o=t.swipeDisabled)?o:n._isSwipeDisabled,onSwipeMove:n._onSwipeMove,onSwipeEnd:n._onSwipeEnd},u(e)):i.createElement(g.Z,{className:_("focus-lock")},u(e))}),t.onClose?i.createElement(m.Z,{handlers:{key:p.n.ESC,callback:t.onClose,allowInEditable:!0}}):null)},n.state={top:0,swipeMinTop:0,swipeMaxTop:0,swipeStartTop:0},n}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement(s.Z,{selector:e.parentSelector||".body"},i.createElement(o.Z,{animationRef:this._getRef(),onShow:this._onShow,onHideEnd:e.onHideEnd},e.isShown?this._renderContent():null))},t}(i.Component),b=(0,u.ZP)(y)},21368:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(87363),i=n(44748),a=n(53070),o=(0,i.Z)("sidebar-panel-header-view"),s=r.memo(function(e){var t=null==e.renderLeftContent?void 0:e.renderLeftContent.call(e),n=null==e.renderRightContent?void 0:e.renderRightContent.call(e);return r.createElement("div",{className:[o({bordered:e.showBorder,centered:!!t,view:e.view,transparent:e.transparent}),e.className].filter(Boolean).join(" ")},t?r.createElement("div",{className:o("controls")},t):null,r.createElement("div",{role:"heading","aria-level":1,className:o("title",{big:e.big})},e.title||e.children),r.createElement("div",{className:o("controls")},e.onClose?r.createElement(a.Z,{onClick:function(t){t.stopPropagation(),e.onClose()},relative:!0,circle:!0,color:"additional"}):n))});s.displayName="SidebarPanelHeaderView";var l=s},4244:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(34788),i=n(18007),a=n(87363),o=n(44748),s=n(31336),l=n(16693),c=n(87342),u=n(20224),d=n(51605),m=n(18188),p="data-original-size",v=/[,\s.!?:\n]/,f=/.+[,\s.!?:]+/g,h=function(e,t){var n=e.slice(0,-3),r=t.at(n.trim().length);return!r||v.test(r)?n.trim()+"…":(n.match(f)||[]).join("").trim()+"…"},g=function(e){var t=e.refBlock,n=e.originalText,r=e.maxHeight,i=e.isDifferentOriginalText;if(t.current&&t.current.textContent){t.current.hasAttribute(p)||t.current.setAttribute(p,String(t.current.offsetHeight)),i&&(t.current.textContent=n);var a=0,o=n.length;if(t.current.offsetHeight>r){for(;a<o;){var s=Math.floor((a+o)/2),l=n.slice(0,s);t.current.textContent=l,t.current.offsetHeight<=r+1?a=s+1:o=s}return h(t.current.textContent,n)}}},_=function(e){var t=e.refBlock,n=e.originalText,r=e.shouldRenderSpoiler,i=e.maxHeight,o=(0,m._)(a.useState(n),2),s=o[0],l=o[1],c=s.slice(0,10)!==n.slice(0,10);return a.useLayoutEffect(function(){if(r){var e=g({refBlock:t,originalText:n,maxHeight:i,isDifferentOriginalText:c});e&&l(e)}else l(n)},[n,r,c,i,t]),{content:s}},y=(0,o.Z)("spoiler-view"),b=function(e){return e?"string"==typeof e?e:(e.props.children instanceof Array?e.props.children:[e.props.children]).reduce(function(e,t){return e+b(t)},""):""},E=function(e){var t=a.useRef(null),n="string"==typeof e.children?e.children:b(e.children),i=e.shouldRenderSpoiler,o=e.lines,s=e.lineHeight,l=e.tag,c=e.ref,m=(0,u._)(e,["shouldRenderSpoiler","lines","lineHeight","tag","ref"]),p=_({refBlock:t,originalText:n,shouldRenderSpoiler:i,maxHeight:o*s}).content,v={lineHeight:""+e.lineHeight+"px"},f=(0,r._)({WebkitLineClamp:o,maxHeight:o*e.lineHeight,overflow:"hidden"},v),h=i?f:v,g=a.createElement(l,(0,r._)({},m,{ref:(0,d.l)(c,t)}),p);return a.createElement("div",{className:y("text",{collapsed:i}),style:h},g)},k=n(34638),w=(0,o.Z)("spoiler-view"),Z={key:void 0,isCollapsed:!0,updaters:[]},C=function(e){function t(t){var n;return(n=e.call(this,t)||this)._textRef=a.createRef(),n._checkSharedState=function(){var e=n.props.sharedKey;e&&(Z.key!==e&&(Z={key:e,isCollapsed:!0,updaters:[]}),Z.updaters.push(n._updateState),n.setState({isCollapsed:Z.isCollapsed}))},n._updateState=function(e){n.setState(e)},n._checkIfOverflown=function(){var e=n.props,t=n._textRef.current,r=e.lines*e.lineHeight,i=null==t?void 0:t.getAttribute(p);if(i){var a=Number(i)-r-e.lineHeight>1;n.state.isOverflown&&!a&&n.setState({isOverflown:a})}},n._onButtonClick=function(e){var t="boolean"==typeof e?e:!n.state.isCollapsed;n.setState({isCollapsed:t}),n.props.sharedKey&&(Z.isCollapsed=t,Z.updaters.forEach(function(e){return e({isCollapsed:t})}))},n._onShowClick=function(){n._onButtonClick(!1)},n._renderButton=function(){var e=n.props,t=n.state;return(e.alwaysCollapsed||t.isCollapsed)&&t.isOverflown||e.forceRenderButton?a.createElement(c.Z,{tag:"span",className:w("button"),style:{lineHeight:""+e.lineHeight+"px"}},e.renderButton((0,r._)({},t,{onClick:n._onButtonClick,onShowClick:n._onShowClick}))):null},n.state={isCollapsed:!0,isOverflown:!0,isFirstRender:!0},n}(0,i._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._checkSharedState(),this._checkIfOverflown(),this.setState({isFirstRender:!1})},n.componentDidUpdate=function(){this._checkIfOverflown()},n.componentWillUnmount=function(){var e=this;this.props.sharedKey&&(Z.updaters=Z.updaters.filter(function(t){return t!==e._updateState}),0===Z.updaters.length&&(Z.key=void 0))},n.render=function(){var e=this.props,t=this.state,n=!!(e.alwaysCollapsed||t.isCollapsed)&&t.isOverflown,i=this.state.isFirstRender?e.lines+1:e.lines;return a.createElement(a.Fragment,null,a.createElement(E,(0,r._)({},e.propsText||{},{tag:"span",lines:i,lineHeight:e.lineHeight,ref:this._textRef,shouldRenderSpoiler:n,className:(0,k.AK)(w("text-container",{"pre-wrap":e.preWrap}),e.classNameText)}),e.children),this.state.isFirstRender?null:this._renderButton(),a.createElement(l.Z,{listener:this._checkIfOverflown}))},t}(a.PureComponent),N=(0,s.ZP)(C)},76941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(75766),i=n(18007),a=n(87363),o=n(44748),s=n(43285),l=n(16693),c=n(49481),u=(0,o.Z)("sticky-wrapper"),d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._containerRef=a.createRef(),n._isDisabled=function(e){return void 0===e&&(e=n.props),e.disabled||!e.scrollId},n._registerContainer=function(){var e,t=n.props,r=null!=(e=t.order)?e:1;if(n._containerRef.current){if(!t.scrollId)return;t.registerStickyElement(r,n._containerRef,t.position,n._onPositionUpdate),t.updateStickyElement(r,n._containerRef.current.offsetHeight,t.position),n._unregisterContainer=function(){t.unregisterStickyElement(r,t.position)}}},n._onIntersectionChange=function(e){n.setState({fixed:!e})},n._onPositionUpdate=function(e){n.setState({position:e}),null==n.props.onOffsetChange||n.props.onOffsetChange.call(n.props,e)},n._onIntersectionParentBoundaries=function(e){n.setState({reachedParentBoundaries:!e})},n.state={fixed:!1,reachedParentBoundaries:!1,position:0},n}(0,i._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isDisabled()||this._registerContainer()},n.componentDidUpdate=function(e,t){var n=this.props,r=this.state,i=n.children!==e.children;(n.children&&i||this._isDisabled(e)&&!this._isDisabled())&&this._registerContainer(),n.onFixedChange&&t.fixed!==r.fixed&&n.onFixedChange(r.fixed)},n.componentWillUnmount=function(){null==this._unregisterContainer||this._unregisterContainer.call(this)},n.render=function(){var e,t,n=this.props,i=this.state;return n.children?this._isDisabled()?"always"===this.props.border?a.createElement("div",{className:u("pseudo-sticky")},n.children):n.children:a.createElement(a.Fragment,null,"top"===n.position?a.createElement(c.Z,{threshold:0,style:i.position?{transform:"translateY(-"+i.position+"px)"}:void 0,className:u("observer-target"),onChange:this._onIntersectionChange},null):null,a.createElement("div",{className:u({position:n.position,fixed:i.fixed,header:n.header,border:null!=(e=n.border)?e:"auto",wide:n.wide,"reached-boundaries":i.reachedParentBoundaries,empty:!n.children}),style:(t={},(0,r._)(t,n.position,this.state.position),(0,r._)(t,"pointerEvents",n.noPointerEvents?"none":"auto"),(0,r._)(t,"zIndex",n.zIndex),t),ref:this._containerRef},"top"===n.position?a.createElement(c.Z,{threshold:0,style:i.position?{transform:"translateY(-"+i.position+"px)"}:void 0,className:u("observer-target",{absolute:!0}),onChange:this._onIntersectionParentBoundaries},null):null,n.children),a.createElement(l.Z,{listener:this._registerContainer})):null},t}(a.Component),m=(0,s.ZP)(d)},93896:(e,t,n)=>{"use strict";function r(){}var i=(0,n(84641).Z)("config",{addSwipeListener:r,removeSwipeListener:r}),a=i.connect;i.Provider,t.ZP=a},33021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(87363),i=(0,n(44748).Z)("tab-empty-view"),a=function(e){return r.createElement("div",{className:i({wide:e.wide})},e.title?r.createElement("h2",{className:i("title")},e.title):null,r.createElement("div",{className:i("text")},e.text),e.action?r.createElement("div",{className:i("action")},e.action):null)}},49555:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(18188),i=n(87363),a=n(2693),o=n(60517),s=n(44748),l=n(16693),c=n(94542),u=n(31336),d=n(89048),m=(0,s.Z)("tabs-select-view"),p=function(e){var t=(0,r._)(i.useState(),2),n=t[0],s=t[1],p=(0,r._)(i.useState(),2),v=p[0],f=p[1],h=i.useRef(void 0),g=i.useRef(null),_=(0,u.ZR)(),y=e.tabs.map(function(e){return e.key}).reduce(function(e,t){return e[t]=i.createRef(),e},{}),b=i.useRef(y),E=i.useCallback(function(){var t,n,r=e.tab;if(r){var i=null!=(n=null==(t=b.current)?void 0:t[r])?n:null;if(null==i?void 0:i.current){var a=i.current.scrollWidth,o=i.current.offsetParent,l=_.isRtl&&o?o.offsetWidth-i.current.offsetLeft-i.current.offsetWidth:i.current.offsetLeft;s(a),f(l)}if(!e.disableAnimation){var c=e.tabs.findIndex(function(e){return e.key===r});null==h.current||h.current.call(h,c)}}},[e.tab,e.tabs,e.disableAnimation,_.isRtl,b]);if((0,d.Z)(function(){setTimeout(E,0)}),i.useEffect(function(){E()},[e.tab,E]),0===e.tabs.length)return null;var k=e.tabs.findIndex(function(t){return t.key===e.tab});return i.createElement(o.ZP,{name:"tabs"},i.createElement("div",{className:m({wide:e.wide,compact:e.compact}),ref:g,role:"tablist"},i.createElement("div",{className:m("titles")},i.createElement(a.Z,{clickStep:2,itemsGap:0,buttonSize:"m",padding:4,renderInScrollContainer:function(){if(e.isFetching)return null;var t={width:n,transform:v?"translateX("+v*(_.isRtl?-1:1)+"px)":void 0};return i.createElement("div",{className:m("pad",{inited:void 0!==v}),style:t})},scrollContainerStyle:{position:"relative"},setPositionRef:function(e){return h.current=e},initialPosition:e.disableAnimation&&-1!==k?k:void 0,disableOldBrowsersWorkaround:!0},e.tabs.map(function(t){return i.createElement(o.ZP,{key:t.key,name:"tab",nodeState:{tab:t.key},logClick:!0},i.createElement(c.Z,{role:"tab",ariaSelected:e.tab===t.key,className:m("title",{name:t.key,selected:e.tab===t.key}),ariaLabel:t.title+", "+(t.count?t.count:""),onClick:function(){return e.onTabChange(t)}},e.isFetching?i.createElement("div",{className:m("shimmer")}):i.createElement(i.Fragment,null,i.createElement("a",{className:m("label"),href:t.href,ref:b.current[t.key],tabIndex:-1,"aria-hidden":!0},(null==t.titleNode?void 0:t.titleNode.call(t,{ref:b.current[t.key]}))||t.title),t.count?i.createElement("div",{"aria-hidden":!0,className:m("counter",{highlighted:t.highlighted})},t.count):null)))})),null==e.children?void 0:e.children.call(e,{refs:b.current}),i.createElement(l.Z,{listener:E}))))}},36251:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(75766),i=n(34788),a=n(18007),o=n(87363),s=n(44748),l=n(49555),c=(0,s.Z)("business-tab-wrapper"),u=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._ref=o.createRef(),t._onTransitionEnd=function(e){var n=t.props;e.target===t._ref.current&&"opacity"===e.propertyName&&"will-hide"===n.displayMode&&(null==n.onHide||n.onHide.call(n))},t}return(0,a._)(t,e),t.prototype.render=function(){var e=this.props,t=e.displayMode;return o.createElement("div",{ref:this._ref,className:c({hidden:"will-hide"===t,materialized:"will-hide"===t||"shown"===t}),onTransitionEnd:this._onTransitionEnd},o.createElement("div",{className:c("content")},e.children))},t}(o.Component),d=n(76941),m=n(66709),p=(0,s.Z)("tabs-view"),v=function(e){function t(t){(n=e.call(this,t)||this)._stickyTopOffset=0,n._tabScrollPositions={},n._isWideTab=function(e){var t;return!!(null==(t=n.props.tabs.find(function(t){return t.key===e}))?void 0:t.wide)},n._getTabDisplayMode=function(e){var t,r=n.state;return e===r.tabBeforeWidthTransition?"will-hide":e===r.tabAfterWidthTransition?"will-show":e===(null!=(t=r.tabBeforeWidthTransition)?t:n.props.tab)?"shown":"hidden"},n._isWithinTab=function(){var e=n._ref,t=n.props.getScrollableNode();return!!t&&!!e.current&&t.getBoundingClientRect().top>e.current.getBoundingClientRect().top},n._onTabTitleClick=function(e){e.key===n.props.tab?n._scrollToTabTop({animated:!0}):(n._saveScrollPosition(n.props.tab),n._isWithinTab()?n._onTabChange(e.key):n._scrollToTabTop({animated:!0,onEnd:function(){return n._onTabChange(e.key)}}))},n._onTabChange=function(e){var t=n.props;n._isWideTab(e)!==n._isWideTab(t.tab)?n._startWidthTransition(n.props.tab,e):t.onTabChange(e)},n._startWidthTransition=function(e,t){n.setState({tabBeforeWidthTransition:e,tabAfterWidthTransition:t})},n._notifyParentAboutWidthTransition=function(){n.props.onTabChange(n.state.tabAfterWidthTransition)},n._didTransitionStart=function(){return!!n.state.tabBeforeWidthTransition},n._finishWidthTransition=function(){n.setState(function(e){return{tabBeforeWidthTransition:void 0,tabAfterWidthTransition:void 0,tabsToRender:(0,i._)({},e.tabsToRender,(0,r._)({},n.props.tab,!0))}},function(){return n._restoreScrollPosition(n.props.tab)})},n._saveScrollPosition=function(e){n._tabScrollPositions[e]=n._isWithinTab()?n.props.getScrollableNode().scrollTop:void 0},n._restoreScrollPosition=function(e){var t=n._tabScrollPositions[e],r=n.props.getScrollableNode();t&&r?r.scrollTop=t:n._scrollToTabTop()},n._scrollToTabTop=function(e){n.props.animatedScrollTo({targetElement:n._ref.current,insideElement:n.props.getScrollableNode(),duration:e&&e.animated?500:0,offset:-n._stickyTopOffset,onEnd:null==e?void 0:e.onEnd})},n._updateStickyOffset=function(e){n._stickyTopOffset=e},n._renderTab=function(e){var t=n.state,r=n._getTabDisplayMode(e.key),i=t.tabsToRender[e.key];return o.createElement(o.Fragment,{key:e.key},o.createElement(u,{displayMode:r,onHide:n._notifyParentAboutWidthTransition},i?e.render(n._scrollToTabTop,"shown"===r):null))};var n,a=t.tabs.map(function(e){return e.key});return n.state={tabsToRender:a.reduce(function(e,n){return e[n]=t.tab===n,e},{})},n._ref=t.nodeRef||o.createRef(),n}(0,a._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.initiallyScrollToTop&&setTimeout(function(){return e._scrollToTabTop({animated:!1})},0)},n.componentDidUpdate=function(e){e.tab!==this.props.tab&&(this._isWideTab(e.tab)!==this._isWideTab(this.props.tab)?this._startWidthTransition(e.tab,this.props.tab):this._finishWidthTransition())},n.render=function(){var e,t=this.props;return o.createElement("div",{ref:this._ref,className:p()},o.createElement(d.Z,{position:"top",order:2,onOffsetChange:this._updateStickyOffset,zIndex:t.zIndex},t.tabs.length>1?o.createElement(l.Z,{tab:null!=(e=this.state.tabBeforeWidthTransition)?e:t.tab,tabs:t.tabs,onTabChange:this._onTabTitleClick,wide:t.wide}):null),t.tabs.map(this._renderTab),o.createElement(m.Z,{onWidthTransitionEnd:this._didTransitionStart()?this._finishWidthTransition:void 0}))},t}(o.Component)},57442:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(18007),i=n(87363),a=n(28216),o=n(79409),s=n(39705),l={},c={getRoute:function(e,t){var n=e.points.map(function(e){return e?(0,s.s)(e):""}).join("~");return l[n]||(l[n]=(0,o.Z)("taxi/getRoute",{query:{rll:n,lang:t.locale}},t)),l[n]}},u=n(72683),d=n(52869),m=n(90585),p=n(31336),v=(0,m.Z)(p.ZP,a.$j(function(e){return{geolocation:e.geolocation}}))(function(e){function t(t){var n;return(n=e.call(this,t)||this)._loadTaxi=function(){var e=n.props,t=[(0,u.p)(e.geolocation),e.coordinates];n._taxiAction=d.Z.create(c.getRoute({points:t},e.config),{success:function(e){(!n.state.taxi||"error"in n.state.taxi)&&(n.setState({taxi:e}),null==n.props.onLoad||n.props.onLoad.call(n.props,e))}})},n.state={taxi:null},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._loadTaxi()},n.componentDidUpdate=function(e){var t=(0,u.p)(e.geolocation),n=(0,u.p)(this.props.geolocation);!t&&n&&this._loadTaxi()},n.componentWillUnmount=function(){d.Z.cancel(this._taxiAction)},n.render=function(){return null},t}(i.Component))},53127:(e,t,n)=>{"use strict";var r=n(22678),i=n(34788),a=n(18007),o=n(20224),s=n(87363),l=n(85295),c=n(31336),u=n(37830),d=!0,m=new Map,p=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._ref=s.createRef(),t._getTitleFromChildren=function(){var e=t.props.children;if("string"==typeof e)return e},t._getDefaultTitle=function(){var e=t.props.config;return(0,u.m)(e)?"Яндекс":"Яндекс Карты"},t._updateTitle=function(){var e=t._ref.current,n=t._getTitleFromChildren()||e.innerText||e.textContent,i=n&&n.replace(/\s/g," ").trim();i&&(m.set((0,r._)(t),i),t._setDocumentTitle(i))},t._setDocumentTitle=function(e){if(d&&!t.props.allowFirstMount){d=!1;return}window.document.title=e?(0,l.Z)(e)+" — "+t._getDefaultTitle():t._getDefaultTitle()},t}(0,a._)(t,e);var n=t.prototype;return n.componentDidMount=function(){m.size>0||this._updateTitle()},n.getSnapshotBeforeUpdate=function(){return this._ref.current.textContent},n.componentDidUpdate=function(e,t,n){n!==this._ref.current.textContent&&this._updateTitle()},n.componentWillUnmount=function(){m.delete(this);var e=m.values().next().value;this._setDocumentTitle(e)},n.render=function(){var e=this,t=this.props,n=t.children,r=(t.config,t.elementRef,t.allowFirstMount,(0,o._)(t,["children","config","elementRef","allowFirstMount"]));return s.createElement("h1",(0,i._)({},r,{ref:function(n){e._ref.current=n,t.elementRef&&(t.elementRef.current=n)}}),n)},t}(s.PureComponent);t.Z=(0,c.ZP)(p)},7480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(18007),i=n(87363),a=n(31336),o=n(52869),s=n(79409),l={getUrl:function(e,t){return(0,s.Z)("shortenPath",{query:{path:e}},t).then(function(e){return"/-/"+e})}},c=n(31540),u={},d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._updateShortUrl=function(e){var t=(0,c.gp)(e,n.props.config);o.Z.cancel(n._shortenAction),u[t]||(u[t]=l.getUrl(t,n.props.config)),n.setState({url:t,isShort:!1}),n._shortenAction=o.Z.create(u[t],{success:function(e){n.setState({url:e,isShort:!0})}})},n.state={url:t.url,isShort:!1},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateShortUrl(this.state.url)},n.componentDidUpdate=function(e){this.props.url!==e.url&&this._updateShortUrl(this.props.url)},n.componentWillUnmount=function(){o.Z.cancel(this._shortenAction)},n.render=function(){return this.props.children(this.state.url,this.state.isShort)},t}(i.PureComponent),m=(0,a.ZP)(d)},65779:(e,t,n)=>{"use strict";var r=n(18188);n(98986);var i=n(87363),a=n(44748),o=n(70457),s=n(13975),l=n(49481),c=(0,a.Z)("video-player-view"),u=(0,o.Z)({resolved:{},chunkName:function(){return"video-player"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("video-player").then(n.bind(n,14955))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 14955}}),d=(0,o.Z)({resolved:{},chunkName:function(){return"video-player"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("video-player").then(n.bind(n,96818))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 96818}});t.Z=function(e){var t=(e.src.split("?")[0]||"").split("/").pop()||"",n="preview"===e.mode,a=(0,r._)((0,l.Y)({threshold:.1}),2),o=a[0],m=a[1],p=(0,r._)(i.useState(!1),2),v=p[0],f=p[1],h=(0,r._)(i.useState(!1),2),g=h[0],_=h[1];return i.createElement("div",{className:c(),ref:o,"data-video-src":e.src},e.posterSrc&&!g?i.createElement("div",{className:c("poster",{blur:n&&!v})},i.createElement(s.Z,{src:e.posterSrc,alt:void 0,onLoad:function(){return null==e.onLoad?void 0:e.onLoad.call(e)},backgroundSize:n?"cover":"contain",backgroundColor:"transparent"})):null,i.createElement(u,{fromBlock:e.fromBlock,autoplay:!0,noPip:!0,loop:n,noControls:n,hiddenControls:["report","externalPlayback"],objectFit:n?"cover":"contain",onUserReady:function(){return f(!0)},onPlay:function(){_(!0),e.posterSrc||null==e.onLoad||e.onLoad.call(e)}},i.createElement(d,{paused:e.paused,isContainerVisible:m,isVideoVisible:!0,videoContentId:t})))}},47760:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var r=n(87363),i=n(44748),a=n(89048),o=(0,i.Z)("a11y-autofocus"),s=function(e){var t=r.useRef(null);return(0,a.Z)(function(){t.current&&(t.current.setAttribute("tabindex","0"),t.current.focus(),e.focusInvisible&&t.current.classList.add(o("invisible")))}),e.children(t)}},99243:(e,t,n)=>{"use strict";var r=n(18007),i=n(87363),a=n(49481),o=n(31336),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={shouldRender:t.immediately||!!t.config.uatraits.isRobot||t.config.query["no-lazy-render"]},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!e.immediately&&this.props.immediately&&this.setState({shouldRender:!0})},n.render=function(){var e=this,t=this.props;if(this.state.shouldRender)return this.props.children;var n=t.placeholder||null;return i.createElement(a.Z,{style:{width:"100%",height:"100%"},rootMargin:t.rootMargin||"100px",onChange:function(t){return e.setState({shouldRender:t})}},n)},t}(i.PureComponent);t.Z=(0,o.ZP)(s)},28661:(e,t,n)=>{"use strict";var r=n(18007),i=n(87363),a=n(31336),o=n(60141),s=function(e){function t(){return e.apply(this,arguments)}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=function(){return o.F(e.props.chunk)};this.props.immediately?t():setTimeout(t,3e3)},n.render=function(){return null},t}(i.Component);t.Z=(0,a.ZP)(s)},66709:(e,t,n)=>{"use strict";var r=n(18007),i=n(87363),a=n(39582),o=function(e){function t(){return e.apply(this,arguments)}(0,r._)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.effectiveWidth!==this.props.effectiveWidth&&(null==this.props.onWidthTransitionEnd||this.props.onWidthTransitionEnd.call(this.props))},n.render=function(){var e;return null!=(e=null==this.props.children?void 0:this.props.children.call(this.props,{effectiveWidth:this.props.effectiveWidth,setCloseButtonColor:this.props.setCloseButtonColor}))?e:null},t}(i.Component);t.Z=(0,a.Z)(o)},9391:(e,t,n)=>{"use strict";var r=n(70427);t.Z=(0,r.Z)(function(){return n.e("events").then(n.bind(n,50073))},{openMapEvent:!0,openCardEvent:!0})},35434:(e,t,n)=>{"use strict";var r=n(34788),i=n(52149),a=n(99091),o=n(43341),s={updateFilters:function(e){return{type:"DEEP_EXTEND",payload:{hotelsBooking:e}}},open:function(e,t){return function(n){n((null==t?void 0:t.length)?s.onPushState({flow:"overview",page:"info",permalink:e,orderIds:t}):s.onPushState({flow:"main",page:"search",permalink:e}))}},onPushState:function(e){return function(t){var n=(0,r._)({mode:"hotels-booking",mobileViewState:"expanded"},e);t(i.Z.push(n))}},reduceStackByLastMode:function(){return function(e,t){var n=t();o.A(n,"hotels-booking")&&e(a.Z.reduceStackByLastMode(void 0,!1))}}};t.Z=s},89318:(e,t,n)=>{"use strict";n.d(t,{kq:()=>q,R7:()=>V,VB:()=>G,Qe:()=>K,Gr:()=>W,y7:()=>j,XT:()=>Y,DT:()=>Q});var r=(0,n(34788)._)({},{airport:"airports",area:"district",country_fallback:"fallback-toponym",house:"building",metro_station:"fallback-toponym",railway_station:"railway-station",other:"fallback-toponym",region:"fallback-toponym",station:"bus-station",vegetation:"park",unknown:"fallback-toponym"},{barbershop:"hairdressers",gasoline:"gas-station",hotel:"hotels","phone-shop":"mobile-phones",restaurant:"restaurants",shop:"supermarket","shopping-mall":"malls",pharmacy:"medicine","currency-exchange":"currency-exchange-fallback"}),i={medicine:"medicine-tr",drugstores:"drugstores-tr","emergency-point":"emergency-point-tr","currency-exchange":"currency-exchange-tr"},a={banks:"banks-ru","currency-exchange":"currency-exchange-ru"},o={medicine:"medicine-wd",drugstores:"drugstores-ae"},s=n(23546),l=n.n(s),c=n(9912),u=n.n(c),d=n(48102),m=n.n(d),p=n(81004),v=n.n(p),f=n(69777),h=n.n(f),g=n(57070),_=n.n(g),y=n(17049),b=n.n(y),E=n(42363),k=n.n(E),w=n(82461),Z=n.n(w),C=n(2509),N=n.n(C),P=n(82490),S=n.n(P),x=n(90851),T=n.n(x),R=n(23811),A=n.n(R),I=n(26779),B=n.n(I),O=n(2285),M=n.n(O),L=n(72852),D=n.n(L),F={favicon:["favicon.svg"],"metro-favicon":["favicon.svg"],rubrics:["administration-14.svg","administration-24.svg","aeroexpress-14.svg","aeroexpress-24.svg","airfield-14.svg","airfield-24.svg","airports-14.svg","airports-24.svg","animation-14.svg","animation-24.svg","aquarium-14.svg","aquarium-24.svg","architect-bureau-14.svg","architect-bureau-24.svg","armenian-church-14.svg","armenian-church-24.svg","art-14.svg","art-24.svg","atm-14.svg","atm-24.svg","attraction-14.svg","attraction-24.svg","auto-14.svg","auto-24.svg","auto-parts-14.svg","auto-parts-24.svg","auto-repair-14.svg","auto-repair-24.svg","baby-shop-14.svg","baby-shop-24.svg","bakery-24.svg","banks-14.svg","banks-24.svg","banks-ru-14.svg","banks-ru-24.svg","banks-ru-central-14.svg","banks-ru-central-24.svg","bars-14.svg","bars-24.svg","baths-14.svg","baths-24.svg","beach-14.svg","beach-24.svg","beauty-14.svg","beauty-24.svg","beauty-shops-14.svg","beauty-shops-24.svg","beer-market-14.svg","beer-market-24.svg","bike-14.svg","bike-24.svg","bike-rent-14.svg","bike-rent-24.svg","bike-rent-test-14-flip.svg","bike-rent-test-24-flip.svg","boat-station-14.svg","boat-station-24.svg","bookstore-14.svg","bookstore-24.svg","bowling-14.svg","bowling-24.svg","buddhism-14.svg","buddhism-24.svg","building-14.svg","building-24.svg","bus-medium-14.svg","bus-medium-24.svg","bus-station-14.svg","bus-station-24.svg","bus-stop-14.svg","bus-stop-24.svg","butcher-shop-14.svg","butcher-shop-24.svg","cableway-14.svg","cableway-24.svg","cafe-14.svg","cafe-24.svg","canteen-14.svg","canteen-24.svg","car-14.svg","car-24.svg","car-park-14.svg","car-park-24.svg","car-park-barrier-14.svg","car-park-barrier-24.svg","car-park-disabled-14.svg","car-park-disabled-24.svg","car-park-taxi-14.svg","car-park-taxi-24.svg","car-park-toll-14.svg","car-park-toll-24.svg","car-wash-14.svg","car-wash-24.svg","catholic-church-14.svg","catholic-church-24.svg","cemetery-14.svg","cemetery-24.svg","checkpoint-14.svg","checkpoint-24.svg","childrens-camp-14.svg","childrens-camp-24.svg","childrens-playground-14.svg","childrens-playground-24.svg","christmas-bazaars-24.svg","cinemas-14.svg","cinemas-24.svg","circus-14.svg","circus-24.svg","clothes-shop-14.svg","clothes-shop-24.svg","college-14.svg","college-24.svg","concert-hall-14.svg","concert-hall-24.svg","confectionary-14.svg","confectionary-24.svg","construction-hypermarket-14.svg","construction-hypermarket-24.svg","construction-tool-14.svg","construction-tool-24.svg","country-14.svg","country-24.svg","covered-park-14.svg","covered-park-24.svg","currency-exchange-14.svg","currency-exchange-24.svg","currency-exchange-fallback-14.svg","currency-exchange-fallback-24.svg","currency-exchange-ru-14.svg","currency-exchange-ru-24.svg","currency-exchange-test-14.svg","currency-exchange-test-14_rtl.svg","currency-exchange-test-24.svg","currency-exchange-test-24_rtl.svg","currency-exchange-tr-14.svg","currency-exchange-tr-24.svg","dairy-14.svg","dairy-24.svg","dancehall-14.svg","dancehall-24.svg","dental-14.svg","dental-24.svg","district-14.svg","district-24.svg","dolmus-14.svg","dolmus-24.svg","driving-school-14.svg","driving-school-24.svg","drop-14.svg","drop-24.svg","drop-off-14.svg","drop-off-24.svg","drugstores-14.svg","drugstores-24.svg","drugstores-ae-14.svg","drugstores-ae-24.svg","drugstores-tr-14.svg","drugstores-tr-24.svg","drugstores-wd-14.svg","drugstores-wd-24.svg","dry-cleaning-14.svg","dry-cleaning-24.svg","electronics-14.svg","electronics-24.svg","emergency-14.svg","emergency-24.svg","emergency-point-tr-14.svg","emergency-point-tr-24.svg","entertainments-14.svg","entertainments-24.svg","entrance-14.svg","entrance-24.svg","equestrian-14.svg","equestrian-24.svg","exhibition-center-14.svg","exhibition-center-24.svg","factory-14.svg","factory-24.svg","fallback-14.svg","fallback-24.svg","fallback-beauty-14.svg","fallback-beauty-24.svg","fallback-civil-services-14.svg","fallback-civil-services-24.svg","fallback-common-14.svg","fallback-common-24.svg","fallback-drugstores-14.svg","fallback-drugstores-24.svg","fallback-entertainment-14.svg","fallback-entertainment-24.svg","fallback-food-drink-14.svg","fallback-food-drink-24.svg","fallback-fun-14.svg","fallback-fun-24.svg","fallback-health-14.svg","fallback-health-24.svg","fallback-hydro-14.svg","fallback-hydro-24.svg","fallback-medicine-14.svg","fallback-medicine-24.svg","fallback-outdoor-14.svg","fallback-outdoor-24.svg","fallback-services-14.svg","fallback-services-24.svg","fallback-shopping-14.svg","fallback-shopping-24.svg","fallback-toponym-14.svg","fallback-toponym-24.svg","fallback-transport-14.svg","fallback-transport-24.svg","fast-food-14.svg","fast-food-24.svg","favorite-24.svg","festival-14.svg","festival-24.svg","film-studio-14.svg","film-studio-24.svg","fire-station-14.svg","fire-station-24.svg","fireworks-24.svg","fish-store-14.svg","fish-store-24.svg","fitness-14.svg","fitness-24.svg","flower-shop-14.svg","flower-shop-24.svg","food-market-14.svg","food-market-24.svg","forest-14.svg","forest-24.svg","fountain-14.svg","fountain-24.svg","funicular-14.svg","funicular-24.svg","furniture-store-14.svg","furniture-store-24.svg","gallery-14.svg","gallery-24.svg","garage-cooperative-14.svg","garage-cooperative-24.svg","garden-14.svg","garden-24.svg","gasstation-14.svg","gasstation-24.svg","gastro-market-14.svg","gastro-market-24.svg","geyser-14.svg","geyser-24.svg","giftshop-14.svg","giftshop-24.svg","golf-14.svg","golf-24.svg","government-14.svg","government-24.svg","grass-14.svg","grass-24.svg","greengrocery-14.svg","greengrocery-24.svg","hairdressers-14.svg","hairdressers-24.svg","haulier-14.svg","haulier-24.svg","heart-24.svg","highspeed-tram-stop-14.svg","highspeed-tram-stop-24.svg","home-14.svg","home-24.svg","home-appliances-14.svg","home-appliances-24.svg","hospital-14.svg","hospital-24.svg","hostels-14.svg","hostels-24.svg","hotels-14.svg","hotels-24.svg","household-supplies-14.svg","household-supplies-24.svg","hydro-14.svg","hydro-24.svg","hypermarket-14.svg","hypermarket-24.svg","indoor-infra-elevator-disabled-14.svg","indoor-infra-elevator-disabled-24.svg","indoor-service-charging-socket-14.svg","indoor-service-charging-socket-24.svg","indoor-service-luggage-14.svg","indoor-service-luggage-24.svg","industrial-enterprise-14.svg","industrial-enterprise-24.svg","information-14.svg","information-24.svg","it-14.svg","it-24.svg","jewelry-store-14.svg","jewelry-store-24.svg","justice-14.svg","justice-24.svg","kindergarten-14.svg","kindergarten-24.svg","landmark-14.svg","landmark-24.svg","laundry-14.svg","laundry-24.svg","library-14.svg","library-24.svg","liquor-store-14.svg","liquor-store-24.svg","locality-14.svg","locality-24.svg","locker-14.svg","locker-24.svg","malls-14.svg","malls-24.svg","market-14.svg","market-24.svg","marketplace-14.svg","marketplace-24.svg","medical-14.svg","medical-24.svg","medicine-14.svg","medicine-24.svg","medicine-il-14.svg","medicine-il-24.svg","medicine-tr-14.svg","medicine-tr-24.svg","medicine-wd-14.svg","medicine-wd-24.svg","memorable-event-14.svg","memorable-event-24.svg","minibus-14.svg","minibus-24.svg","mobile-phones-14.svg","mobile-phones-24.svg","monument-14.svg","monument-24.svg","mosque-14.svg","mosque-24.svg","mountain-14.svg","mountain-24.svg","museum-14.svg","museum-24.svg","music-store-14.svg","music-store-24.svg","musicclub-14.svg","musicclub-24.svg","nail-studio-14.svg","nail-studio-24.svg","news-14.svg","news-24.svg","night-club-14.svg","night-club-24.svg","office-14.svg","office-24.svg","office-service-14.svg","office-service-24.svg","offline-14.svg","offline-24.svg","online-store-14.svg","online-store-24.svg","opticial-store-14.svg","opticial-store-24.svg","orthodox-church-14.svg","orthodox-church-24.svg","park-14.svg","park-24.svg","pawnshop-14.svg","pawnshop-24.svg","pedestrian-14.svg","pedestrian-24.svg","perfume-shop-14.svg","perfume-shop-24.svg","pet-playground-14.svg","pet-playground-24.svg","petshop-14.svg","petshop-24.svg","photo-14.svg","photo-24.svg","picnic-14.svg","picnic-24.svg","pier-14.svg","pier-24.svg","pizzeria-14.svg","pizzeria-24.svg","planetarium-14.svg","planetarium-24.svg","playground-14.svg","playground-24.svg","police-14.svg","police-24.svg","police-post-14.svg","police-post-24.svg","pool-hall-14.svg","pool-hall-24.svg","port-14.svg","port-24.svg","post-office-14.svg","post-office-24.svg","printing-services-14.svg","printing-services-24.svg","protestant-church-14.svg","protestant-church-24.svg","province-14.svg","province-24.svg","pub-14.svg","pub-24.svg","racing-14.svg","racing-24.svg","railway-entrance-14.svg","railway-entrance-24.svg","railway-station-14.svg","railway-station-24.svg","railway-terminal-14.svg","railway-terminal-24.svg","restaurants-14.svg","restaurants-24.svg","rezervation-14.svg","rezervation-24.svg","route-14.svg","route-24.svg","sanatorium-14.svg","sanatorium-24.svg","school-14.svg","school-24.svg","science-14.svg","science-24.svg","shoe-store-14.svg","shoe-store-24.svg","shooting-14.svg","shooting-24.svg","skating-rink-14.svg","skating-rink-24.svg","ski-resort-14.svg","ski-resort-24.svg","smile-24.svg","software-14.svg","software-24.svg","spa-14.svg","spa-24.svg","sport-14.svg","sport-24.svg","sport-school-14.svg","sport-school-24.svg","sportcenter-14.svg","sportcenter-24.svg","sports-bar-14.svg","sports-bar-24.svg","spring-14.svg","spring-24.svg","stadium-14.svg","stadium-24.svg","stage-14.svg","stage-24.svg","standpipe-14.svg","standpipe-24.svg","stationery-store-14.svg","stationery-store-24.svg","stenograffia-14.svg","stenograffia-24.svg","street-14.svg","street-24.svg","subway-fallback-14.svg","subway-fallback-24.svg","supermarket-14.svg","supermarket-24.svg","sushi-14.svg","sushi-24.svg","swimming-pool-14.svg","swimming-pool-24.svg","synagogue-14.svg","synagogue-24.svg","tableware-14.svg","tableware-24.svg","tailor-14.svg","tailor-24.svg","taxi-14.svg","taxi-24.svg","tennis-14.svg","tennis-24.svg","theatre-14.svg","theatre-24.svg","ticket-office-14.svg","ticket-office-24.svg","tire-fitting-14.svg","tire-fitting-24.svg","tram-stop-14.svg","tram-stop-24.svg","trash-14.svg","trash-24.svg","travel-agency-14.svg","travel-agency-24.svg","trolley-14.svg","trolley-24.svg","university-14.svg","university-24.svg","urban-leisure-house-of-culture-14.svg","urban-leisure-house-of-culture-24.svg","urban-service-nursing-room-14.svg","urban-service-nursing-room-24.svg","vet-clinic-14.svg","vet-clinic-24.svg","veterinary-14.svg","veterinary-24.svg","viewpoint-14.svg","viewpoint-24.svg","waterfall-14.svg","waterfall-24.svg","waterpark-14.svg","waterpark-24.svg","wc-14.svg","wc-24.svg","wedding-14.svg","wedding-24.svg","well-14.svg","well-24.svg","wine-14.svg","wine-24.svg","work-14.svg","work-24.svg","ya-electro-station-14.svg","ya-electro-station-24.svg","ya-gas-station-14.svg","ya-gas-station-24.svg","yoga-14.svg","yoga-24.svg","zoo-14.svg","zoo-24.svg"],service:["bookmark-14.svg","bookmark-list-14.svg","geolocation-14.svg","home-14.svg","home-24.svg","like-14.svg","like-24.svg","lock-24.svg","message-24.svg","my-location-14.svg","personal-14.svg","poll-24.svg","search-14.svg","search-24.svg","show-map-14.svg","web-24.svg","work-14.svg","work-24.svg"],"yango-favicon":["favicon.svg"]},U={small:14,normal:24,large:38},z={facebook:"facebook-logo-24",instagram:"instagram-24",ok:"ok-logo-24",telegram:"telegram-logo-24",twitter:"x-logo-24",vkontakte:"vk-logo-24",youtube:"youtube-24",whatsapp:"whatsapp-logo-24",zen:"zen-logo-24",viber:"viber-logo-24",snapchat:"snapchat-logo-24",tiktok:"tiktok-logo-24"},H={light:{red:{ru:h(),uk:_(),en:_(),tr:_(),uz:_(),kk:_(),az:_(),ar:_(),"sr-Latn":_(),hy:_(),es:_()},"red-border":{ru:Z(),uk:N(),en:N(),tr:N(),uz:N(),kk:N(),az:N(),ar:N(),"sr-Latn":N(),hy:N(),es:N()},black:{ru:l(),uk:u(),en:u(),tr:u(),uz:u(),kk:u(),az:u(),ar:u(),"sr-Latn":u(),hy:u(),es:u()},portal:{ru:B(),en:A(),tr:A(),uk:A(),uz:A(),kk:A(),az:A(),ar:A(),"sr-Latn":A(),hy:A(),es:A()}},dark:{red:{ru:b(),uk:k(),en:k(),tr:k(),uz:k(),kk:k(),az:k(),ar:k(),"sr-Latn":k(),hy:k(),es:k()},"red-border":{ru:S(),uk:T(),en:T(),tr:T(),uz:T(),kk:T(),az:T(),ar:T(),"sr-Latn":T(),hy:T(),es:T()},black:{ru:m(),uk:v(),en:v(),tr:v(),uz:v(),kk:v(),az:v(),ar:v(),"sr-Latn":v(),hy:v(),es:v()},portal:{ru:D(),en:M(),tr:M(),uk:M(),uz:M(),kk:M(),az:M(),ar:M(),"sr-Latn":M(),hy:M(),es:M()}}};function q(e,t){var n=e.toLowerCase().replace(/\s+/g,"-");return t.isYango&&o[n]?o[n]:"yandex.ru"===t.domain&&a[n]?a[n]:"yandex.kz"===t.domain&&o[n]?o[n]:"tr"===t.lang&&i[n]?i[n]:r[n]||n}function W(e,t){var n=e.type,r=e.name,i=e.size,a=q(r,t);if(!a)return null;var o=a+"-"+U[i]+".svg";return F[n]&&F[n].includes(o)?t.staticHost+"static/v53/icons/"+n+"/"+o:null}function G(e,t){var n=e.name,r=e.size,i=W({type:"rubrics",name:n,size:r},t),a=W({type:"rubrics",name:"fallback",size:r},t);return i||a}function j(e){return"//maps.yastatic.net/s3/front-maps-static/constructor-icons/"+e+".svg"}function V(e){var t=e.type,n=e.lang;return H[e.theme][t][n]}function K(e){return z[e]}function Q(e){return e in z}function Y(e){return["ru","uk","kk"].includes(e.lang)}},91410:(e,t,n)=>{"use strict";var r=n(70427);t.Z=(0,r.Z)(function(){return n.e("booking").then(n.bind(n,40731))},{onPushState:!0,onUpdateState:!0,open:!0,updateOrgBooking:!0,openCategorySearch:!0})},23722:(e,t,n)=>{"use strict";var r=n(34788),i=n(79409),a=n(21511);t.Z={sendFeedback:function(e,t){return(0,i.Z)("booking/sendFeedback",{body:e,query:(0,a.GI)(t)},t)},getBooking:function(e,t){return(0,i.Z)("booking/getBooking",{query:(0,r._)({},e,(0,a.GI)(t))},t)},getBookingList:function(e,t){return(0,i.Z)("booking/getBookingList",{query:(0,r._)({},e,(0,a.GI)(t))},t)},getNearestDates:function(e,t){return(0,i.Z)("booking/getNearestDates",{query:(0,r._)({},e,(0,a.GI)(t))},t)},getCompanyOverview:function(e,t){return(0,i.Z)("booking/getCompanyOverview",{query:(0,r._)({},e,(0,a.GI)(t))},t)},getTopResources:function(e,t){return(0,i.Z)("booking/getTopResources",{query:(0,r._)({},e,(0,a.GI)(t))},t)}}},20596:(e,t,n)=>{"use strict";var r,i=n(34788),a=n(11912),o=n(27961),s=n(79409),l=n(39705);function c(e,t){var n=e.threads[0];if((null==n?void 0:null==(r=n.BriefSchedule)?void 0:r.Events)&&(null==(i=n.BriefSchedule)?void 0:i.Events.length)>0){var r,i,a,o,s,l,c=(null==(s=n.BriefSchedule.Events[0].Estimated)?void 0:s.value)||(null==(l=n.BriefSchedule.Events[0].Scheduled)?void 0:l.value);if(c){var u=1e3*Number(c);return u-t<6e4?u-t:u}}if((null==n?void 0:null==(a=n.BriefSchedule)?void 0:a.Frequencies)&&(null==n?void 0:null==(o=n.BriefSchedule)?void 0:o.Frequencies.length)>0){var d=1e3*n.BriefSchedule.Frequencies[0].value,m=n.BriefSchedule.Frequencies[0].begin?1e3*Number(n.BriefSchedule.Frequencies[0].begin.value):void 0,p=n.BriefSchedule.Frequencies[0].end?1e3*Number(n.BriefSchedule.Frequencies[0].end.value):void 0;return p&&p<t?-1/0:!m||m<t?d:m}return-1/0}t.Z={loadLayerRegions:function(e){return r||(r=(0,s.Z)("masstransit/getLayerRegions",{},e).catch(function(){return[]}))},getStopInfo:function(e,t){return(0,s.Z)("masstransit/getStopInfo",{query:{id:e.id,uri:e.uri,locale:t.realLocale,lang:t.lang,mode:"prognosis",experimental:t.experiments.mtInfoParams,rll:e.rll,pctx:e.pctx,results:e.results,avoidTypes:e.avoidTypes,timeDependent:e.timeDependent}},t).then(function(e){if(!e)throw Error("Stop no data");return e})},getStopTimetable:function(e,t){return(0,s.Z)("masstransit/getStopTimetable",{query:{id:e.id,timestamp:e.timestamp,locale:t.realLocale,lang:t.lang,experimental:t.experiments.mtInfoParams,avoidTypes:e.avoidTypes,rll:e.rll,pctx:e.pctx,results:e.results,timeDependent:e.timeDependent}},t).then(function(e){if(!e)return null;var t={id:e.id,name:e.name,compositeName:e.compositeName,type:e.type,currentTime:e.currentTime,region:e.region,tzOffset:e.tzOffset,transports:(0,o.Z)(e.transports.map(function(e){return(0,o.Z)(e.threads.map(function(t){var n=[],r=(0,i._)({},e,{description:t.description});return t.BriefSchedule&&t.BriefSchedule.Frequencies.length>0&&n.push.apply(n,(0,a._)(t.BriefSchedule.Frequencies.map(function(e){var n;return(0,i._)({},r,{threads:[(0,i._)({},t,{BriefSchedule:{Frequencies:[e],Events:[],departureTime:null==(n=t.BriefSchedule)?void 0:n.departureTime}})]})}))),t.BriefSchedule&&t.BriefSchedule.Events.length>0&&n.push.apply(n,(0,a._)(t.BriefSchedule.Events.map(function(e){var n;return(0,i._)({},r,{threads:[(0,i._)({},t,{BriefSchedule:{Frequencies:[],Events:[e],departureTime:null==(n=t.BriefSchedule)?void 0:n.departureTime}})]})}))),0===n.length&&n.push((0,i._)({},r,{threads:[(0,i._)({},t)]})),n}))}))};return t.transports=t.transports.filter(function(e){return c(e,t.currentTime)>0}).sort(function(e,n){return c(e,t.currentTime)-c(n,t.currentTime)}),t})},getVehiclesInfo:function(e,t){return(0,s.Z)("masstransit/getVehiclesInfoWithRegion",{query:(0,i._)({locale:t.realLocale,lang:t.lang,experimental:t.experiments.mtInfoParams},e)},t)},getVehiclePredictionInfo:function(e,t){return(0,s.Z)("masstransit/getVehiclePredictionInfo",{query:(0,i._)({},e)},t)},getLine:function(e,t){return(0,s.Z)("masstransit/getLine",{query:(0,i._)({locale:t.realLocale,lang:t.lang,experimental:t.experiments.mtInfoParams},e)},t)},getDistance:function(e,t){return(0,s.Z)("masstransit/distance",{query:{startPoint:(0,l.s)(e.coordinates),destinationPoints:e.stops.map(function(e){return(0,l.s)(e.coordinates)}),locale:t.realLocale}},t)}}},32584:(e,t,n)=>{"use strict";n.d(t,{V:()=>r,x:()=>i});var r={bus:{normal:"bus-16"},minibus:{normal:"minibus-16"},tramway:{normal:"tram-16"},trolleybus:{normal:"trolley-16"},rapid_tram:{normal:"tram-16"},water:{normal:"ship-16"},underground:{normal:"subway-icon-fallback-16"},cable:{normal:"cableway-16-flip"},aero:{normal:"aero-16-flip"},aeroexpress:{normal:"aeroexpress-16"},funicular:{normal:"funicular-16-flip"},train:{normal:"train-16"},suburban:{normal:"train-16"},suburban_express:{normal:"train-16"},railway:{normal:"train-16"},fallback:{normal:"unknown-16-flip"}},i={fallback:{small:"subway-fallback-16",normal:"subway-fallback-24"},adana_metro:{small:"subway-adana-16",normal:"subway-adana-24"},almaty_metro:{small:"subway-almaty-16",normal:"subway-almaty-24"},amsterdam_metro:{},ankara_metro:{small:"subway-ankara-16",normal:"subway-ankara-24"},ankaray:{small:"subway-ankaray-16",normal:"subway-ankaray-24"},athens_metro:{small:"subway-athens-16",normal:"subway-athens-24"},baku_metro:{small:"subway-baku-16",normal:"subway-baku-24"},barcelona_fgc:{small:"subway-barcelona-16",normal:"subway-barcelona-24"},barcelona_tmb:{small:"subway-barcelona-16",normal:"subway-barcelona-24"},beijing_metro:{},berlin_ubahn:{small:"subway-berlin-16",normal:"subway-de-ubahn-24"},brussels_metro:{},bucharest_metro:{small:"subway-bucharest-16",normal:"subway-bucharest-24"},budapest_metro:{small:"subway-budapest-16",normal:"subway-budapest-24"},buenos_aires_metro:{},bursaray:{small:"subway-bursa-16",normal:"subway-bursa-24"},cairo_metro:{},copenhagen_metro:{small:"subway-copenhagen-metro-16",normal:"subway-copenhagen-24"},dnipro_metro:{small:"subway-dnepropetrovsk-16",normal:"subway-dnepropetrovsk-24"},dubai_metro:{small:"uae-subway-16",normal:"uae-subway-24"},dubai_monorail:{small:"uae-monorail-16",normal:"uae-monorail-24"},dubai_tram:{small:"uae-tram-16",normal:"uae-tram-24"},ekaterinburg_metro:{small:"subway-ekb-16",normal:"subway-ekb-24"},genoa_metro:{},glasgow_subway:{},hamburg_ubahn:{},harbin_metro:{},helsinki_metro:{small:"subway-helsinki-16",normal:"subway-helsinki-24"},hong_kong_mtr:{},istanbul_funicular:{},istanbul_marmaray:{small:"subway-istanbul-marmaray-16",normal:"subway-istanbul-marmaray-24"},istanbul_metro:{small:"subway-istanbul-16",normal:"subway-istanbul-24"},istanbul_metrobus:{small:"subway-bus-istanbul-16",normal:"subway-bus-istanbul-24"},izmir_metro:{small:"subway-izmir-16",normal:"subway-izmir-24"},kazan_metro:{small:"subway-kazan-16",normal:"subway-kazan-24"},kharkiv_metro:{small:"subway-kharkov-16",normal:"subway-kharkov-24"},kiev_metro:{small:"subway-kiev-16",normal:"subway-kiev-24"},kryvyirih_metrotram:{},lille_metro:{},lisbon_metro:{small:"subway-lisboa-16",normal:"subway-lisboa-24"},london_dlr:{small:"subway-london-16",normal:"subway-london-underground-24"},london_underground:{small:"subway-london-16",normal:"subway-london-underground-24"},lyon_metro:{},madrid_metro:{small:"subway-madrid-16",normal:"subway-madrid-24"},mexico_city_metro:{},milan_metro:{},minsk_metro:{small:"subway-minsk-16",normal:"subway-minsk-24"},moscow_mcd:{small:"subway-msk-16",normal:"subway-msk-24"},moscow_metro:{small:"subway-msk-16",normal:"subway-msk-24"},munich_ubahn:{},naples_metro:{},newathos_metro:{},nizhnynovgorod_metro:{small:"subway-nn-16x17",normal:"subway-nn-24"},novosibirsk_metro:{small:"subway-nsk-16",normal:"subway-nsk-24"},nuremberg_ubahn:{},oslo_metro:{small:"subway-oslo-16",normal:"subway-oslo-24"},paris_metro:{small:"subway-paris-16",normal:"subway-paris-metro-24"},paris_rer:{small:"subway-paris-rer-16",normal:"subway-paris-rer-24"},paris_tramway:{small:"subway-paris-tramway-16",normal:"subway-paris-tramway-24"},prague_metro:{small:"subway-prague-metro-16",normal:"subway-prague-24"},pyongyang_metro:{},rome_metro:{small:"subway-roma-16",normal:"subway-roma-24"},sanfrancisco_metro:{small:"subway-san-francisco-metro-16",normal:"subway-san-francisco-metro-24"},samara_metro:{small:"subway-samara-16",normal:"subway-samara-24"},seville_metro:{},singapore_mrt:{},sofia_metro:{small:"subway-sofia-metro-16",normal:"subway-sofia-metro-24"},spb_metro:{small:"subway-spb-16",normal:"subway-spb-24"},stockholm_metro:{small:"subway-stockholm-16",normal:"subway-stockholm-24"},tashkent_metro:{small:"subway-tashkent-16",normal:"subway-tashkent-24"},tbilisi_metro:{small:"subway-tbilisi-16",normal:"subway-tbilisi-24"},toulouse_metro:{},turin_metro:{},vienna_ubahn:{small:"subway-wein-16",normal:"subway-wein-24"},volgograd_metrotram:{small:"subway-tram-volgograd-16",normal:"subway-volgograd-tram-24"},warsaw_metro:{small:"subway-warsaw-metro-16",normal:"subway-warsaw-24"},washington_metro:{},yerevan_metro:{small:"subway-erevan-16",normal:"subway-erevan-24"}}},21910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(87363),i=n(44748),a=n(49267),o=n(32584),s=n(85172),l=(0,i.Z)("masstransit-underground-line-name-view"),c=function(e){var t,n,i=e.transport,c=(0,s.Fg)(),u=i.transportSystemId?null==(t=o.x[i.transportSystemId])?void 0:t.small:null;return r.createElement("div",{className:l()},u?r.createElement("div",{className:l("icon")},r.createElement(a.Z,{inline:!0,name:u,theme:c})):null,r.createElement("div",{className:l("line-number"),style:{backgroundColor:i.Style&&i.Style.color||"transparent"}},null!=(n=i.shortName)?n:null),r.createElement("div",{className:l("line-name")},i.name))}},57067:(e,t,n)=>{"use strict";var r=n(70427);t.Z=(0,r.Z)(function(){return n.e("promo-chunk").then(n.bind(n,7293))},{open:!0,close:!0})},6090:(e,t,n)=>{"use strict";var r=n(87363),i=n(28216),a=n(31336),o=n(57067);t.Z=function(e){var t=(0,a.ZR)(),n=i.I0();return t.isYango?null:r.createElement(r.Fragment,null,e.children({onClick:function(){n(o.Z.open(e.openOptions))}}))}},24872:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(18007),i=n(87363),a=n(28216),o=n(44748),s=n(12269),l=n(60517),c=n(28661),u=n(13975),d=n(49267),m={setLoadingPanorama:s.Z.setLoadingPanorama},p=(0,o.Z)("panorama-thumbnail-view"),v=a.$j(function(e){return{config:e.config}},m)(function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._onClick=function(){t.props.setLoadingPanorama({id:t.props.panorama.id,direction:t.props.panorama.direction}),null==t.props.onClick||t.props.onClick.call(t.props)},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement(l.ZP,{name:"panorama",metrikaGoal:"goal_deepuse",logClick:!0},i.createElement("div",{className:p({view:e.view}),onClick:this._onClick},i.createElement(u.Z,{src:e.panorama.preview,alt:e.panorama.alt||"Панорама",backgroundSize:"cover",renderImmediately:!0}),i.createElement("div",{className:p("label")},["whatshere","preview"].includes(e.view)?i.createElement(d.Z,{name:"panorama-24-flip",className:p("icon"),inline:!0}):null,"preview"===e.view?"Панорама":""),i.createElement(c.Z,{chunk:"panoramas"})))},t}(i.Component))},25562:(e,t,n)=>{"use strict";var r=n(34788),i=n(99091),a={setLayer:function(e){return function(t,n){var a,o,s=n(),l=s.homePanel,c=!!s.config.experiments.ui.serviceBar,u=l.types.filter(function(e){return"traffic"!==e}),d=(null==(o=s.config.layers.carparks)?void 0:null==(a=o.zoomRange)?void 0:a[0])||14,m=s.map.location.center,p=s.geolocation.currentPosition;c&&e&&s.map.location.zoom<d&&t(i.Z.setMapLocation({center:p||m,zoom:d,duration:450})),t({type:"DEEP_EXTEND",payload:e?(0,r._)({},c?{}:{homePanel:{types:u}},{parking:{isLayerShown:!!c||n().parking.isLayerEnabled}},c?{}:{traffic:{isLayerEnabled:!1}},{panoramas:{isLayerEnabled:!1},photos:{isLayerEnabled:!1},mrc:{isLayerEnabled:!1}}):{parking:{isLayerShown:!1}}})}},toggleLayer:function(){return function(e,t){if(t().parking.isLayerShown)return e(a.setLayer(!1));e(a.setLayer(!0))}},updateLayerAvailability:function(e){return{type:"DEEP_EXTEND",payload:{parking:e}}}};t.Z=a},1431:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(34788),i=n(2467),a=n(79409),o=n(75462),s=n(39705),l=n(41740),c=n(6507),u=n(22370),d={getByUri:function(e,t){return(0,a.Z)("photos/getByUri",{query:{lang:t.locale,uri:e.uri}},t)},getPhotosReactions:function(e,t){return(0,a.Z)("photos/getReactions",{body:{ids:e}},t)},getByBusinessId:function(e,t){var n;return(0,a.Z)("photos/getByBusinessId",{query:{lang:t.locale,id:e.businessId,fixed_top:null==(n=e.photoLinks)?void 0:n.map(function(e){return window.btoa(e)}).join(","),experimentalParams:t.experiments.ui.geosearchPhotos}},t)},getByPostId:function(e,t,n,r,i){return(0,a.Z)("photos/getByPostId",{query:{oid:e,id:t,type:n,uri:i}},r)},getById:function(e,t){return(0,a.Z)("photos/getById",{query:{lang:t.locale,id:e}},t)},uploadBusinessVideo:function(e){var t={isReviewVideo:e.isUploadingToReview,expBoxes:e.config.experiments.boxes,isOwner:e.isUserOwner,businessId:e.businessId},i=function(t){return(0,l.yN)(t,{config:e.config,prefix:"UploadBusinessVideoError",additional:{permalink:e.businessId,videoName:e.file.name}})};return(0,a.Z)("video/getUploadUrl",{query:(0,r._)({},t,{fileName:e.file.name,size:e.file.size})},e.config).then(function(o){var s,l,c;return(s=o.uploadUrl,l=e.file,c=!!e.config.mocks,n.e("tus-js-client").then(n.bind(n,39314)).then(function(e){return new Promise(function(t,n){c&&t(),new e.Upload(l,(0,r._)({metadata:{filename:l.name,filetype:l.type},retryDelays:[0,3e3,5e3,1e4,2e4],storeFingerprintForResuming:!1},void 0,{uploadUrl:s,onError:n,onSuccess:t})).start()})})).then(function(){var n;return(n=o.videoId,(0,a.Z)("video/confirmUpload",{query:(0,r._)({},t,{videoId:n,enableNewAchievements:e.config.experiments.ui.ugcNewAchievements})},e.config)).then(function(e){return{success:!0,mediaId:o.videoId,achievements:e.achievements}}).catch(function(e){return i(e),{success:!1}})})}).catch(function(e){return i(e),{success:!1}})},uploadBusinessPhoto:function(e){var t=e.config,n=new FormData;return n.append("address_source","ADRESA"),n.append("access","public"),n.append("pub_channel","html"),n.append("app_platform","web"),n.append("app_version","1"),n.append("address",e.businessId),n.append("ut","c"),n.append("ticket",t.xscriptCsrfToken),n.append("yandexuid",o.Z.get("yandexuid",t)),n.append("image_source",e.file,e.file.name),(0,i.Z)({url:""+t.hosts.photoUploadApi+"api/v1/ugc-photo",query:{appId:e.serviceId||"maps-web",patch:t.experiments.ui.ugcNewAchievements?"tools/ugc/rt_achievements_tool:EnableExpAchievements:true":void 0},headers:{accept:"application/json"},parser:"json",method:"POST",body:n,credentials:"include",logWarn:{config:t,prefix:"UploadBusinessPhoto",additional:{photoName:e.file.name}}}).then(function(e){var t;return{success:"ok"===e.response.status,mediaId:null==(t=e.response.image)?void 0:t.id,achievements:e.response.achievements?e.response.achievements.map(function(e){var t;return{id:e.Id,level:e.Level,professionId:e.ProfessionId,title:e.Title,shortDescription:e.ShortDescription,icon:{orig:"https://avatars.mds.yandex.net"+e.Icon.Orig},given:e.Given,animationShown:e.AnimationShown,progress:(null==(t=e.Progress)?void 0:t.TargetValue)?{value:e.Progress.Value||0,targetValue:e.Progress.TargetValue,text:e.Progress.Text}:void 0}}):void 0}},function(){return{success:!1}})},uploadBusinessMedia:function(e){return(0,c.Or)(e.file)?d.uploadBusinessPhoto(e):d.uploadBusinessVideo(e)},uploadFeedbackPhoto:function(e){var t=e.config,n=new FormData;return(n.append("file",e.file,e.file.name),o.Z.updateCache(),t.mocks?t.authorization:o.Z.get("yandex_login",t))?(n.append("ticket",t.xscriptCsrfToken),n.append("yandexuid",o.Z.get("yandexuid",t)),(0,i.Z)({url:""+t.hosts.photoUploadApi+"api/v1/feedback-photo",headers:{accept:"application/json"},method:"POST",body:n,query:{expire:c.B6[t.environment]},credentials:"include",logWarn:{config:t,prefix:"UploadFeedbackPhoto",additional:{photoName:e.file.name}}}).then(function(e){return{success:!!e.id,mediaId:e.id}},function(){return{success:!1}})):(0,i.Z)({url:""+t.hosts.photoUploadApi+"api/v1/create-feedback-photo-url",headers:{accept:"application/json"},method:"POST",query:{expire:function(e){var t=u.$_(e),n=c.tu[e.environment];if(n)return new Date(u.x2(t).getTime()+864e5*n)}(t)},body:n,logWarn:{config:t,prefix:"AnonUploadFeedbackPhoto",additional:{photoName:e.file.name}}}).then(function(e){return{success:!!e.url,mediaId:e.url}},function(){return{success:!1}})},uploadUgcPhoto:function(e,t,n){void 0===n&&(n={});var a=Math.round(e.lastModified/1e3),o={};return n.coordinates&&(o.target_ll=(0,s.s)(n.coordinates)),n.uri&&(o.uri=n.uri),(0,i.Z)({url:""+t.hosts.ugcPhotosProxy+"v1/photos/my/upload",query:(0,r._)({filename:e.name,mtime:a,format:"json"},o),headers:{"Content-Type":"image/jpeg"},method:"PUT",body:e,credentials:"include",logWarn:{config:t,prefix:"UploadUgcPhoto",additional:{photoName:e.name}}}).then(function(e){return{success:!!e.id,mediaId:e.id}},function(){return{success:!1}})}},m=d},6507:(e,t,n)=>{"use strict";n.d(t,{YJ:()=>u,cX:()=>p,JX:()=>d,u_:()=>m,oz:()=>f,C8:()=>v,tu:()=>a,B6:()=>o,w_:()=>h,pc:()=>g,Or:()=>c,KT:()=>C,Tw:()=>Z,Qv:()=>N,jj:()=>_,bC:()=>b,Ox:()=>w,h_:()=>E,RS:()=>k,SF:()=>S,UK:()=>y,NB:()=>P});var r=n(34788),i=n(41740),a={testing:2},o={testing:a.testing+"d"},s=["X5L","X4L","XXXL","XXL","XL","L","M","S","XS"],l=["XL","L","M","S","XS"],c=function(e){return e.type.startsWith("image/")},u=10,d=["image/jpeg","image/png",".heic",".heif"],m="JPEG, PNG, HEIC",p={min:[100,68]},v={addPhotosText:"Добавить фото",maxPhotosCountText:function(e){return"Вы можете загрузить не более "+e+" фотографий"},uploadErrorText:"Некоторые фотографии не удалось загрузить, попробуйте позже."},f={addPhotosText:"Добавить фото или видео",maxPhotosCountText:function(e){return"Вы можете загрузить не более "+e+" файлов"},uploadErrorText:"Некоторые файлы не удалось загрузить, попробуйте позже"};function h(e,t){var n=null,r=!!t.isPreviewMode||!0;return 1===e.length?(r=!1,n=0):void 0!==t.isPreviewMode&&(r=t.isPreviewMode),t.selectedId&&(-1===(n=e.findIndex(function(e){return"id"in e&&e.id===t.selectedId}))?n=0:r=!1),{selectedIndex:n,isPreviewMode:r}}function g(e){return e.name+"["+e.size+"]@"+e.lastModified}function _(e,t){return e.some(function(e){return g(t)===e})?Promise.resolve({state:"rejected",error:"Вы уже добавили такой файл"}):null}function y(e){return e.name.toLowerCase().endsWith(".heic")||e.name.toLowerCase().endsWith(".heif")?n.e("heic2any").then(n.t.bind(n,1616,23)).then(function(t){return(0,t.default)({blob:e,toType:"image/jpeg",quality:1}).then(function(t){return new File([t],e.name.replace(/\.[^/.]+$/,".jpg"),{type:"image/jpeg",lastModified:e.lastModified})})}):Promise.resolve(e)}function b(e,t){if(e.hashes){var n,r,i,a=_(e.hashes,t);if(a)return a}if(e.maxSize&&t.size/1048576>e.maxSize)return Promise.resolve({state:"rejected",error:"Фотография слишком большая, уменьшите её и попробуйте снова"});var o={state:"fulfilled",photo:{type:"photo",preview:window.URL.createObjectURL(t),file:t}};return e.resolutionRanges?(n=o.photo.preview,r=e.resolutionRanges,i=new window.Image,new Promise(function(e,t){i.onload=function(){!r||(!r.min||i.naturalWidth>=r.min[0]&&i.naturalHeight>=r.min[1])&&(!r.max||i.naturalWidth<=r.max[0]&&i.naturalHeight<=r.max[1])?e():t()},i.onerror=function(){t()},i.src=n})).then(function(){return o},function(){return{state:"rejected",error:"Разрешение фотографии не подходит, попробуйте загрузить другую"}}):Promise.resolve(o)}function E(e,t){return new Promise(function(t,n){var r=document.createElement("video");r.onloadedmetadata=function(){return t(r)},r.onerror=n,r.src=window.URL.createObjectURL(e)}).then(function(t){if(t.duration>60){let e;return window.URL.revokeObjectURL(t.src),{state:"rejected",error:"Видео должно быть не дольше "+(e={count:1}).count+" "+(e.count%10==1&&e.count%100!=11?"минуты":"минут")}}return{state:"fulfilled",photo:{type:"video",preview:t.src,file:e}}}).catch(function(n){return(0,i.yN)(n.target.error,{config:t,prefix:"UploadBusinessVideoError",additional:{photoName:e.name}}),window.URL.revokeObjectURL(n.target.src),{state:"rejected",error:"Не могу прочитать метаданные видео"}})}var k=function(e){return{valid:e.filter(function(e){return"fulfilled"===e.state}),invalid:e.filter(function(e){return"rejected"===e.state})}};function w(e,t){return Promise.all(t.map(function(t){return b(e,t)})).then(k)}var Z=function(e){return!!("file"in e&&e.file&&!e.id)},C=function(e){return!!e.id},N=function(e,t){return e.filter(function(e){return e.type===t}).map(function(e){return e.id}).filter(Boolean)};function P(e,t){var n=(t?l:s).find(function(t){return!!e[t]});return n?e[n]:void 0}function S(e,t){return e.map(function(e){var n;return"video"===e.type?e.urlTemplate&&e.videoUrl?{thumbnailUrl:e.urlTemplate,videoUrl:e.videoUrl,id:e.id,createdTime:e.createdTime,showReactions:!1}:null:{url:e.urlTemplate.replace("{size}",t),id:e.id,businessId:e.businessId,showReactions:e.showReactions,reactions:e.reactions,views:e.views,createdTime:e.createdTime,copyright:e.copyright?(0,r._)({},e.copyright,{imageUrlTemplate:null==(n=e.copyright.imageUrlTemplate)?void 0:n.replace("{size}","islands-retina-middle")}):void 0}}).filter(function(e){return!!e})}},66395:(e,t,n)=>{"use strict";n.d(t,{vM:()=>s,YQ:()=>c,Fx:()=>u,sc:()=>d,QX:()=>l});var r=n(22370),i=n(85130),a=n(3151),o={caps:"Текст новости не должен быть написан прописными (заглавными) буквами",light_obscene:"В новостях не должно быть грубой и ненормативной лексики",hard_obscene:"В новостях не должно быть грубой и ненормативной лексики",law_violation:"Контент должен соответствовать законам",light_threat:"В новостях не должно быть угроз, агрессивных призывов, побуждений к жестокости или насилию",hard_threat:"В новостях не должно быть угроз, агрессивных призывов, побуждений к жестокости или насилию",light_insult:"В новостях не должно быть оскорблений, агрессивных призывов, побуждений к жестокости или насилию",hard_insult:"В новостях не должно быть оскорблений, агрессивных призывов, побуждений к жестокости или насилию",bad_link:"Ссылка должна вести на сайт или страницу в социальных сетях",porno:"В новостях не должно быть материалов порнографического характера",light_vulgarity:"В новостях не должно быть шокирующего и отталкивающего контента",personal_data:"В новостях не должно быть персональных данных",spam:"Новость не может быть опубликована по Политике Яндекса. Сервис оставляет за собой право отказать в публикации любой новости без объяснения причин",no_sense:"Текст в новости должен быть осмысленным и содержательным",rude:"В новостях не должно быть жаргонных, грубых и просторечных выражений",policy:"Новость не может быть опубликована по Политике Яндекса. Сервис оставляет за собой право отказать в публикации любой новости без объяснения причин",toxic:"В новостях не должно быть слов и фраз, которые могут быть восприняты читателем как оскорбительные или неуважительные",media_porno:"Изображения, приложенные к новостям, не должны содержать объекты непристойного или порнографического характера",media_violence:"Изображения, приложенные к новостям, не должны содержать сцены жестокости или насилия",media_shock:"Изображения, приложенные к новостям, не должны содержать объекты шокирующего или отталкивающего характера",media_toxic:"Изображения, приложенные к новостям, не должны содержать объекты, которые могут быть восприняты читателем как оскорбительные или неуважительные",unknown:"Неизвестная причина"};function s(e){return o[e]}function l(e){var t=null==e?void 0:e.status;return"pending"===t?"На модерации":"rejected"===t?"Новость не прошла модерацию и была снята с публикации":null}function c(e,t,n){if(void 0===n&&(n=!1),e){var a=r.wQ(new Date(e.publicationTime),0);return(0,i.p6)(a,t,{isShortDate:n})}}function u(e,t){return void 0===t&&(t=!1),t&&!e.isYango}function d(e,t){if(!(null==e?void 0:e.startTime)||!(null==e?void 0:e.finishTime))return null;var n=e.offsetTz&&e.offsetTz/1e3,o=r.wQ(new Date(e.startTime),n),s=r.wQ(new Date(e.finishTime),n),l=(0,i.J5)(o.getMonth(),t),c=(0,i.J5)(s.getMonth(),t);return{date:(0,a.Z)(o,s)?o.getDate()+" "+l:o.getMonth()===s.getMonth()?o.getDate()+" — "+s.getDate()+" "+l:o.getDate()+" "+l+" — "+s.getDate()+" "+c,time:(0,i.mr)(o)+" — "+(0,i.mr)(s),text:(0,a.Z)(o,s)?o.getDate()+" "+l+", "+(0,i.mr)(o)+"-"+(0,i.mr)(s):o.getDate()+" "+l+", "+(0,i.mr)(o)+" - "+s.getDate()+" "+c+", "+(0,i.mr)(s)}}},61478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(87363),i=n(81194),a=n(49267),o=n(60517),s=(0,n(44748).Z)("add-post-button-view"),l=function(e){return r.createElement(o.ZP,{name:"add_post",logClick:!0},r.createElement(i.Z,{url:e.url,target:"_blank",view:"primary",size:"medium",icon:r.createElement(a.Z,{name:"zoom-in-24",className:s("icon"),inline:!0})},"Добавить новость"))}},42863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(87363),i=n(44748),a=n(60517),o=n(33228),s=n(49267),l=n(49180),c=n(55057),u=n(85172),d=(0,i.Z)("card-banner-view"),m=(0,u.ZP)(function(e){var t,n,i,u,m=(0,c.nb)();if(!e.href&&!e.onClick)return null;var p=[d("icon"),null==(t=e.icon)?void 0:t.className].filter(Boolean).join(" "),v=r.createElement(r.Fragment,null,(null==(n=e.icon)?void 0:n.url)?r.createElement(o.Z,{className:p,url:e.icon.url}):(null==(i=e.icon)?void 0:i.name)?r.createElement(s.Z,{name:e.icon.name,className:p,theme:(null==(u=e.icon)?void 0:u.useTheme)?e.theme:void 0,inline:!0}):null,r.createElement("div",{className:d("text"),dangerouslySetInnerHTML:{__html:e.text}}),e.buttonContent?r.createElement("div",{className:d("button")},e.buttonContent):null);return r.createElement(a.ZP,{name:"card_promo",subtreeState:{id:e.id},logClick:!0},r.createElement("div",{className:d({view:e.view,size:e.size,wide:m})},e.onClick?r.createElement(l.Z,{ariaLabel:e.text,className:d("banner"),onLeftClick:e.onClick,href:e.href},v):r.createElement("a",{className:d("banner"),href:e.href,target:e.target||"_blank"},v)))})},78397:(e,t,n)=>{"use strict";var r=n(87363),i=n(42863);t.Z=function(e){var t,n;return r.createElement(i.Z,{id:"gas",href:e.zapravkiPromo.href,buttonContent:(null==(t=e.button)?void 0:t.text)||e.zapravkiPromo.buttonContent,onClick:null==(n=e.button)?void 0:n.onClick,text:e.zapravkiPromo.text,view:"black",size:"s",icon:{url:e.zapravkiPromo.iconUrl}})}},97032:(e,t,n)=>{"use strict";var r=n(70427);t.Z=(0,r.Z)(function(){return n.e("reviews").then(n.bind(n,67148))},{loadReviews:!0,loadReviewPollData:!0,loadUserReview:!0,reloadReviews:!0,editReview:!0,editReviewByCompanyId:!0,deleteReview:!0,restoreReview:!0,updateReview:!0,changeUserReaction:!0,changeRanking:!0,changeSelectedAspect:!0,resetSelectedAspect:!0,resetSharedReview:!0,saveSharedReview:!0,updateUnlockedAchievement:!0})},91375:(e,t,n)=>{"use strict";var r=n(18007),i=n(87363),a=n(28216),o=n(31336),s=n(52869),l=n(674),c=n(74315),u=n(90585),d=n(80993),m={toggleShare:c.Z.toggle},p=(0,u.Z)(a.$j(function(e,t){var n;return{url:t.url||(0,d.bq)(e),idShare:null==(n=e.share.data)?void 0:n.id,shareExpanded:e.share.isExpanded}},m),o.ZP),v=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._toggleShare=function(){var e=t.props;e.toggleShare({id:e.id,url:e.url,coordinates:e.coordinates,push:e.push})},t._onOpenShareClick=function(){var e=t.props;window.navigator.share?(s.Z.cancel(t._shareAction),t._shareAction=s.Z.create(window.navigator.share({url:l._(e.seoUrl?"/"+e.seoUrl:e.url,e.config),title:window.document.title,text:e.title?window.document.title+"\n"+e.title+"\n":void 0}),{fail:function(e){e.message.startsWith("Internal error:")&&t._toggleShare()}})):t._toggleShare()},t}(0,r._)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){s.Z.cancel(this._shareAction)},n.render=function(){var e=this.props;return e.children({onClick:this._toggleShare,isExpand:e.id?e.id===e.idShare&&e.shareExpanded:void 0})},t}(i.Component);t.Z=p(v)},69272:(e,t,n)=>{"use strict";n.d(t,{kF:()=>l,wd:()=>c,eR:()=>u,LS:()=>m,YM:()=>s});var r=n(44176),i=n(84714),a="Доступность",o={name:a,featureIds:[]},s="Accessibility";function l(e){if("ru"===e.lang)return a}function c(e){if("ru"===e.lang)return{group:o,features:[]}}function u(e){if("ru"===("lang"in e?e.lang:e.locale.split("_")[0]))return"Доступность"}var d={toilet_for_disabled:"toilet_for_disabled:1",wheelchair_access:"wheelchair_access:full_access"},m={differenceWithUserA11yFilters:function(e,t){var n=i.z(e.filter(m.isA11yFilter),t).filters,a=m.getUserA11yFilters(t.authorization)||[],o=Object.values(d),s=(0,r.Z)(o,n),l=(0,r.Z)(o,a);return o.reduce(function(e,t){return(s.includes(t)&&!l.includes(t)||l.includes(t)&&!s.includes(t))&&e.push({filter:t,enabled:!s.includes(t)&&l.includes(t)}),e},[])},isA11yFilter:function(e){return Object.keys(d).includes(e.id)},getUserA11yFilters:function(e){if(e&&(e.attributes.a11y_organization_special_toilet||e.attributes.a11y_organization_barrier_free)){var t=[];return e.attributes.a11y_organization_special_toilet&&t.push(d.toilet_for_disabled),e.attributes.a11y_organization_barrier_free&&t.push(d.wheelchair_access),t}}}},88265:(e,t,n)=>{"use strict";function r(e){return e.startsWith("tycoon_events/1.x")}function i(e){return{id:e.id,uri:e.uri,itemType:e.itemType,photos:e.photos.map(function(e){return{id:e.id,size:e.size,urlTemplate:e.urlTemplate}}),publicationTime:e.publicationTime,text:e.content||e.contentShort}}n.d(t,{l:()=>i,s:()=>r})},76149:(e,t,n)=>{"use strict";n.d(t,{Wd:()=>a,TM:()=>o,Li:()=>l,J8:()=>s});var r=n(75766),i=n(50415),a=36,o=328,s="v";function l(e,t){var n;return(0,i.Y)(e.mediaOrderTemplate,(n={},(0,r._)(n,s,t.videos),(0,r._)(n,"p",t.photos),n))}},53521:(e,t,n)=>{"use strict";n.d(t,{j:()=>a,Y:()=>o});var r=n(34788),i=[{id:"delivery",text:"Заказать доставку",shortText:"Заказать",expandedText:"Выберите службу доставки",iconName:"yndx-eda-24",altIconName:"eda-24",type:"booking",links:{"#yandex-eda":{iconName:"yndx-eda-24",altIconName:"eda-24",text:"Яндекс.Еда",viaText:"через Яндекс.Еду",urlExtension:"utm_source=ymaps&utm_medium=yp&utm_campaign=rest_card&utm_content=desktop"}}},{id:"exhibits",text:"Посмотреть экспонаты",shortText:"Посмотреть экспонаты",expandedText:"Посмотреть экспонаты",type:"booking",links:{"#goskatalog":{text:"ГОСКАТАЛОГ"}}},{id:"table",text:"Забронировать столик",shortText:"Забронировать",expandedText:"Выберите сервис",iconName:"reservation-24",type:"booking",links:{"#afisha-ru-eda":{iconName:"afisha-rests-24",text:"Афиша-Рестораны",viaText:"через Афиша-Рестораны",iframe:{width:"620px",height:"680px"}},"#tomesto":{iconName:"tomesto-24",text:"ТоМесто",viaText:"через ТоМесто"}}},{id:"menu",text:"Посмотреть меню",shortText:"Меню",expandedText:"Меню",iconName:"menu-book-24-flip",type:"menu",links:{}},{id:"appointment",text:"Записаться онлайн",shortText:"Записаться",expandedText:"Выберите сервис",iconName:"reservation-24",type:"booking",links:{"#med_me":{iconName:"medme-24",text:"Med.me",viaText:"через Med.me",iframe:{width:"721px",height:"520px"}},"#docdoc":{iconName:"docdoc-24",text:"DocDoc",viaText:"через DocDoc"},"#napopravku":{iconName:"napopravku-24",text:"Napopravku.ru",viaText:"через Napopravku.ru",iframe:{width:"721px",height:"582px"}},"#arnica":{iconName:"arnica-20",text:"Арника",viaText:"через Арнику",iframe:{width:"721px",height:"582px"}},"#denta":{iconName:"denta-20",text:"1Дента",viaText:"через 1Дента",iframe:{width:"721px",height:"582px"}},"#klinikon":{iconName:"clinic-20",text:"Клиника Онлайн",viaText:"через Клинику Онлайн",iframe:{width:"721px",height:"582px"}}}},{id:"sport",text:"Забронировать",shortText:"Забронировать",expandedText:"Выберите сервис",iconName:"reservation-24",type:"booking",links:{"#go2sport":{text:"Go2Sport"}}}];function a(e,t){return"ru"!==t.lang?[]:(t.query.go2sport||(e=e.filter(function(e){return"#go2sport"!==e.aref})),i.reduce(function(t,n){var i=[];if(n.links&&Object.keys(n.links).length>0)i=Object.keys(n.links).reduce(function(t,i){var a=e.find(function(e){return e.aref===i&&e.type===n.type});return a&&t.push((0,r._)({groupId:n.id,shortText:n.shortText},a,n.links[i])),t},[]);else{var a=e.find(function(e){return e.type===n.type});a&&i.push((0,r._)({},a,{groupId:n.id,iconName:n.iconName,altIconName:n.altIconName,text:n.text,shortText:n.shortText}))}return 0!==i.length&&t.push((0,r._)({},n,{links:i})),t},[]))}function o(e,t){return a(e,t).map(function(e){var t=e.links[0];return{groupId:e.id,text:e.text,shortText:e.shortText,iconName:e.iconName,altIconName:e.altIconName,type:t.type,iframe:t.iframe,href:t.href,urlExtension:t.urlExtension}})}},92688:(e,t,n)=>{"use strict";n.d(t,{z:()=>u});var r=n(34788),i=n(18188),a=n(487),o=n(47220),s=n(6848),l=n(53106),c=n(66522);function u(e){var t,n,u,d,m,p,v,f,h=e.counter,g=e.result,_=e.config,y=e.options,b=(d=Object.entries(_.query).reduce(function(e,t){var n=(0,i._)(t,2),r=n[0],a=n[1];return r.startsWith("utm_")&&(e[r]=a),e},{}),m=null==(t=(0,c.R)(null==(n=g.hotspotProperties)?void 0:n.vectorMetadata))?void 0:t.orgYclid,p="advert"in g?null==(u=g.advert)?void 0:u.directPixelYclid:void 0,(0,r._)({yclid:_.query.yclid||m||p},d)),E=(0,s.c)(_)?a.p(g,_,b):o.S(g,{},_,b);l.ZP.hitByCounter(h,{url:E,params:l.ZP.buildMetrikaOrgEventParams(g.id,"show_org",null!=(f=null==y?void 0:y.surface)?f:null==(v=_.mobileUaTraits)?void 0:v.appId)},{logEvent:null==y?void 0:y.logEvent})}},47392:(e,t,n)=>{"use strict";n.d(t,{Nh:()=>s,BG:()=>c,Bd:()=>u,JC:()=>l,zL:()=>d,lL:()=>m});var r=n(18188),i=n(11912),a=n(85130),o=n(43341);function s(e){var t=e.filter(function(e){return e.photoLink}),n=e.filter(function(e){return!e.photoLink});return(0,i._)(t).concat((0,i._)(n))}function l(e){return(e.fullObjects?c(e.fullObjects):e.fullPlaces?u(e.fullPlaces):[]).sort(function(e,t){return e.category.name.localeCompare(t.category.name)}).map(function(e){return e.category})}function c(e){return e.categories.map(function(e){return{category:{name:e.categoryName||""},items:s(e.categoryItems)}}).filter(function(e){return e.items.length>0}).sort(function(e,t){return t.items.length-e.items.length||(e.category.name?t.category.name?0:-1:1)||e.category.name.localeCompare(t.category.name)})}function u(e){return Object.entries(e.reduce(function(e,t){return e[t.category]=e[t.category]?e[t.category].concat(t):[t],e},{})).map(function(e){var t=(0,r._)(e,2);return{category:{name:t[0]},items:s(t[1])}}).filter(function(e){return e.items.length>0}).sort(function(e,t){return t.items.length-e.items.length||e.category.name.localeCompare(t.category.name)})}function d(e,t,n){if(!(null==(r=e.relevance)?void 0:r.lastUpdateTime))return null;var r,i=new Date(e.relevance.lastUpdateTime);return i&&!isNaN(i.getTime())?(0,a.c6)(i,t,n):null}function m(e){var t,n,r=o.A(e,"search-result")||o.A(e,"orgpage"),i=r&&("response"in r?null==r?void 0:null==(t=r.response)?void 0:t.items[0]:"results"in r?null==r?void 0:null==(n=r.results)?void 0:n.items[0]:null),a=i&&"references"in i?i.references:void 0,s=null==r?void 0:r.tab;return!!((null==a?void 0:a.find(function(e){return"yandex_market_express"===e.scope}))||"prices"===s)}},98901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(34788),i=n(87363),a=n(44748),o=n(31336),s=n(20224),l=n(92616),c=n(84399),u=n(60517),d=(0,a.Z)("ord-info-view"),m=function(e){var t=e.ordInfo,n=(0,s._)(e,["ordInfo"]);(0,o.ZR)();var a=t.client?[t.client.name,t.client.tin?"ИНН "+({tin:t.client.tin}).tin:null,t.client.id?"рекламодатель ID #"+({id:t.client.id}).id:null].filter(Boolean):[],m=t.token&&(Array.isArray(t.token)?t.token.length>0:t.token),p=Array.isArray(t.token)?t.token.join(", "):t.token,v=i.createElement(u.ZP,{name:"ord_info",nodeState:{hasInfo:a.length>0,hasToken:m}},i.createElement("div",{className:d(),ref:e.contentRef},i.createElement("div",{className:d("info")},a.length>0?a.map(function(e,t,n){return i.createElement("span",{key:t},e,t<n.length-1?i.createElement(i.Fragment,null,",",i.createElement("br",null)):null)}):"Рекламодатель не загрузил данные о себе"),m?i.createElement(c.Z,{view:"primary",text:p,visible:!1,noIcon:!0},i.createElement("div",{className:d("token"),"data-token":p},Array.isArray(t.token)?"Скопировать токены":"Скопировать токен")):null));return i.createElement(l.Z,(0,r._)({showArrow:!1,position:"bottom-left"},n,{type:"transparent"}),v)},p=n(69878),v=n(94542),f=(0,a.Z)("advert-badge"),h=function(e){var t,n=(0,o.ZR)(),a=i.useRef(null),s=n.advertLandingUrl,l=!s||e.ordInfo||e.hideLink?void 0:s+(e.utms?"?"+e.utms:""),c=null!=(t=e.children)?t:"Реклама";return i.createElement(p.Z,{isMobile:!1},function(t){var n=t("advert"),o=n.buttonProps,s=n.popupProps;return i.createElement(i.Fragment,null,i.createElement(u.ZP,{name:"advert_disclaimer",nodeState:{hasInfo:!!e.ordInfo},logClick:!0},i.createElement("span",(0,r._)({},o,{className:f({clickable:!!(l||e.ordInfo)}),style:{height:e.height},ref:a}),l?i.createElement("a",{className:f("link"),href:l,target:"_blank"},c):i.createElement(v.Z,{className:f("link"),onClick:e.stopPropagation?function(e){return e.stopPropagation()}:void 0},c))),e.ordInfo?i.createElement(m,(0,r._)({},s,{ordInfo:e.ordInfo,getTarget:function(){return a.current},contentRef:e.ordRef})):null)})}},35149:(e,t,n)=>{"use strict";var r=n(87363),i=n(44748),a=n(60517),o=n(87843),s=n(49267),l=(0,i.Z)("afisha-link-view");t.Z=function(e){var t=e.url;return r.createElement(a.ZP,{name:"afisha_link",metrikaGoal:"super_deepuse",logClick:!0},r.createElement(o.default,{className:l(),view:"link",icon:r.createElement(s.Z,{name:"yndx-afisha-24",inline:!0}),keepIconColor:!0,onClick:function(){return window.open(t,"_blank")}},r.createElement("div",{className:l("link")},"Расписание на Яндекс Афише")))}},63214:(e,t,n)=>{"use strict";var r=n(87363),i=n(44748),a=n(94423),o=(0,i.Z)("afisha-loading-view");t.Z=function(e){var t=e.hideSpinner;return r.createElement("div",{className:o()},r.createElement(a.Z,{text:"Ищем билеты на ближайшие сеансы",hideSpinner:t}))}},40047:(e,t,n)=>{"use strict";var r=n(34788),i=n(18188),a=n(87363),o=n(28216),s=n(91410),l=n(60517),c=n(76071),u=n(31336),d=n(70457),m=n(36963),p=n(35434),v=n(53106),f=n(6486),h=(0,d.Z)({resolved:{},chunkName:function(){return"booking"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("booking").then(n.bind(n,27716))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 27716}}),g={openBooking:s.Z.open,openHotelsBooking:p.Z.open},_=o.$j(null,g);t.Z=_(function(e){var t,n,o,s,d,p,g,_=(0,i._)(a.useState(!1),2),y=_[0],b=_[1],E=a.createRef(),k=(0,u.ZR)(),w=e.mode||"booking",Z=e.isWide?null==(t=e.result.booking)?void 0:t.nearestDateTitle:"Свободные даты и время",C=(null==(n=e.result.booking)?void 0:n.bookingType)==="restaurant"?"Забронировать":"Записаться онлайн",N={title:(null==(o=e.actionButton)?void 0:o.title)||C,subTitle:(null==(s=e.actionButton)?void 0:s.subTitle)||Z},P=k.bunker.disableBookingAdvertSplit||!y?"announcement":"secondary-gray",S=e.view?e.view:P,x=!k.bunker.disableBookingAdvertSplit&&e.advertButton,T={event:v.uR};return a.createElement(l.ZP,{name:x?"cta_split_button":"booking_button",logClick:!0,nodeState:{mode:w},metrikaGoal:x?void 0:e.metrikaGoal,metrikaOptions:x?void 0:T},a.createElement(c.Z,{nodeRef:E,view:S,icon:e.hideIcon?void 0:{name:"reservation-24"},type:"action_button",rel:"nofollow",text:e.text?e.text:C,onClick:function(){if(x){b(!y);return}"hotelsBooking"===e.mode?e.openHotelsBooking(e.result.id):((0,f.a)("booking").start("booking_button"),e.openBooking((0,m.c)(e.result),"booking")),null==e.onClick||e.onClick.call(e)},isStretched:!e.isWide,size:"medium"}),e.advertButton?a.createElement(h,(0,r._)({},e,{isShown:y,onCancel:function(){b(!1)},advertButton:(0,r._)({},e.advertButton,{title:null!=(g=null==(p=e.result.booking)?void 0:null==(d=p.advertButton)?void 0:d.text)?g:e.advertButton.title}),onBookingClick:function(){b(!1),"hotelsBooking"===e.mode?e.openHotelsBooking(e.result.id):((0,f.a)("booking").start("booking_button_dropdown"),e.openBooking((0,m.c)(e.result),"booking")),null==e.onClick||e.onClick.call(e)},getTarget:function(){return E.current},inline:!0,actionButton:N,mode:w,metrikaGoal:e.metrikaGoal,metrikaOptions:T})):null)})},48912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(87363),i=n(44748),a=n(60517),o=(0,i.Z)("disclaimers-view"),s=function(e){var t=e.disclaimers;return 0===t.length?null:r.createElement("div",{className:o()},t.map(function(e,t){return r.createElement("div",{className:o("disclaimer"),key:t},e)}))},l=n(98901),c=(0,i.Z)("business-advert-view"),u=function(e){var t=e.data,n=t.text,i=t.disclaimers,o=t.title,u=t.url,d=t.ordInfo;return r.createElement(a.ZP,{name:"advert",logClick:!0},r.createElement("div",{className:c()},r.createElement("div",{className:c("badge")},r.createElement(l.Z,{utms:e.advertBadgeUTMs,ordInfo:d})),o?r.createElement(u?"a":"div",{className:c("title",{link:!!u}),href:u,target:"_blank"},o):null,r.createElement("div",{className:c("text")},n),i?r.createElement(s,{disclaimers:i}):null))}},62341:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(34788),i=n(18007),a=n(11912),o=n(87363),s=n(44748),l=n(31336),c=n(28342),u=n(60517),d=n(64381),m=n(22370),p=n(31651),v=n(94542),f=(0,s.Z)("business-attendance-view"),h=function(e){function t(t){(n=e.call(this,t)||this)._daysAnalyticsRef=o.createRef(),n._hoursAnalyticsRef=o.createRef(),n._getWeeklyPercentage=function(e){var t;return Math.floor(e/(t=Math).max.apply(t,(0,a._)(Object.values(n.props.data).reduce(function(e,t){return(0,a._)(e).concat((0,a._)(t))},[])))*100)},n._getSortedWeekdays=function(){return Object.keys(n.props.data).sort(function(e,t){return("sunday"===e?7:d.sb.indexOf(e))-("sunday"===t?7:d.sb.indexOf(t))})},n._onClick=function(e){var t=Object.keys(e);n._hoursAnalyticsRef.current&&t.includes("hour")&&n._hoursAnalyticsRef.current.logEvent("click",e,{useParentState:!0}),n._daysAnalyticsRef.current&&t.includes("day")&&n._daysAnalyticsRef.current.logEvent("click",e,{useParentState:!0}),n.setState((0,r._)({},n.state,e))},n._renderHour=function(e,t){var r=t===n.state.hour,i=n._getWeeklyPercentage(e);return o.createElement(v.Z,{key:t,ariaLabel:m.pL(String(t)),ariaCurrent:r,ariaHidden:0===i,className:f("bar",{active:r}),style:{height:""+i+"%"},"data-time":m.pL(String(t)),onClick:function(){return n._onClick({hour:t})}},o.createElement("div",null))},n._renderHours=function(){return o.createElement(u.ZP,{name:"hours",nodeRef:n._hoursAnalyticsRef},o.createElement("div",{className:f("bars")},n.props.data[n.state.day].map(n._renderHour)))},n._renderWeekdays=function(){var e=n._getSortedWeekdays();return o.createElement(u.ZP,{name:"days",nodeRef:n._daysAnalyticsRef},o.createElement("div",{className:f("weekdays")},e.map(function(e){return o.createElement(v.Z,{key:e,ariaCurrent:n.state.day===e,ariaLabel:(0,d.G7)(n.props.config,e),onClick:function(){return n._onClick({day:e})},className:f("day",{active:n.state.day===e})},(0,d.ES)(n.props.config,e))})))},n._renderMark=function(){var e=n.state,t=e.hour,r=e.day,i=n.props.data[r][t],a=n._getWeeklyPercentage(i);return o.createElement("div",{className:f("mark")},o.createElement("span",{className:f("mark-time")},m.pL(String(t))),0===a||isNaN(a)?"Закрыто":a<35?"Обычно мало посетителей":a<75?"Обычно средняя загруженность":"Обычно много посетителей")};var n,i=t.getToday(),s=n.props.tzOffset?m.wQ(i,n.props.tzOffset):i;return n.state={day:d.sb[s.getDay()],hour:s.getHours()},n}return(0,i._)(t,e),t.prototype.render=function(){return o.createElement(u.ZP,{name:"visits_histogram",nodeState:this.state},o.createElement("div",{className:f()},o.createElement(p.Z,{type:"h2",mediumBottomGutter:!0},"Посещаемость и график работы"),o.createElement("div",{className:f("plot-container")},this._renderMark(),this._renderWeekdays(),this._renderHours())))},t}(o.Component),g=(0,c.ZP)((0,l.ZP)(h))},31856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(18007),i=n(87363),a=n(90585),o=n(55057),s=n(44748),l=n(60517),c=n(31336),u=n(85172),d=n(22897),m=n(80120),p=n(81194),v=n(94542),f={goodPlaceYear:"Хорошее место",ultimaGuide:"Входит в Ultima Guide"},h={goodPlaceYear:"Награда для любимых мест пользователей Яндекс Карт",ultimaGuide:"Первый ресторанный гид, созданный с помощью нейросети Яндекса"},g={goodPlaceYear:"Хорошее место",ultimaGuide:"Ultima Guide"},_={goodPlaceYear:"Награда для мест, которые пользователи Карт особенно любят: высоко оценивают, хвалят в отзывах и рекомендуют",ultimaGuide:"Первый ресторанный гид, созданный с помощью нейросети Яндекса"},y=(0,a.Z)(c.ZP,o.ZP,u.ZP),b=(0,s.Z)("business-awards-view"),E=y(function(e){function t(t){var n;return(n=e.call(this,t)||this)._onClick=function(e,t){n.setState({popupParams:{awardName:e,year:t}})},n._onClose=function(){n.setState({popupParams:void 0})},n._renderAward=function(e,t){var r=n.props,a="goodPlaceYear"===e,o=h[e],s=!t||a;return i.createElement(v.Z,{ariaHasPopup:!0,ariaExpanded:!!n.state.popupParams,key:e,className:b("award"),onClick:function(){return n._onClick(e,t)}},i.createElement("div",{className:b("badge",{yandex:a,yearless:s})},(0,m.v)(e,24,r.theme,b("badge-icon")),s?null:i.createElement("div",{className:b("badge-year")},t)),i.createElement("div",{className:b("content")},i.createElement("div",{className:b("title")},f[e],a&&t?" "+t:""),i.createElement("div",{className:b("text")},o)))},n._renderUltimaGuide=function(e){return e.ultimaGuide?n._renderAward("ultimaGuide",""):null},n._renderAwardYandex=function(e){return e.goodPlaceYear?n._renderAward("goodPlaceYear",e.goodPlaceYear):null},n._renderPopup=function(){var e,t,r=n.props,a=n.state,o=r.result.awards;if(!a.popupParams||!o)return null;var s=null!=(t=null==(e=r.config.awardsUrl)?void 0:e[a.popupParams.awardName])?t:null,c="goodPlaceYear"===a.popupParams.awardName&&o.goodPlaceYear?o.goodPlaceYear:null;return i.createElement(l.ZP,{name:"good_place_popup",useParentState:!0},i.createElement("div",{className:b("dialog")},i.createElement("div",{className:b("dialog-icon-wrapper")},(0,m.v)(a.popupParams.awardName,48,r.theme,b("dialog-icon")),c?i.createElement("div",{className:b("dialog-year")},c):null),i.createElement("div",{className:b("dialog-title",{name:a.popupParams.awardName})},g[a.popupParams.awardName],a.popupParams.year?" "+a.popupParams.year:""),i.createElement("div",{className:b("dialog-subtitle")},_[a.popupParams.awardName]),s?i.createElement(l.ZP,{name:"learn_more",logClick:!0,useParentState:!0},i.createElement("div",{className:b("link")},i.createElement(p.Z,{view:"secondary-blue",size:"small",url:s,target:"_blank"},"Подробнее о награде"))):null))},n.state={},n}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=this.state,n=e.result.awards;return n?i.createElement(i.Fragment,null,i.createElement(l.ZP,{name:"good_place_badge",logClick:!0,useParentState:!0},i.createElement("div",{className:b({wide:e.isWideCard})},i.createElement("div",{role:"heading","aria-level":2,className:b("head")},"Награды"),this._renderAwardYandex(n),this._renderUltimaGuide(n))),i.createElement(d.default,{isOpen:!!t.popupParams,onClose:this._onClose,showCloseButton:!0},this._renderPopup())):null},t}(i.PureComponent))},62621:(e,t,n)=>{"use strict";var r=n(34788),i=n(18007),a=n(87363),o=n(39705),s=n(31336),l=n(10958),c=n(56589),u=n(28361),d=n(6241),m=n(93561),p=n(16854),v=n(95102),f=n(76071),h=n(58495),g=n(62198),_=n(47105),y=n(80243),b=n(2027),E=n(40047),k=n(30110),w=n(487),Z=n(47220),C=n(6848),N=n(37830),P=n(57442),S=n(78339),x=(n(21511),n(70457)),T=n(19263),R=n(25441),A=n(88218),I=((0,x.Z)({resolved:{},chunkName:function(){return"business"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("business").then(n.bind(n,20630))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 20630}}),function(e){function t(t){var n;return(n=e.call(this,t)||this)._getActionButton=function(){var e,t,r=n.props;return!r.config.hideAdverts&&(null==(t=r.result.advert)?void 0:null==(e=t.actionButtons)?void 0:e[0])||void 0},n._onTaxiPriceLoaded=function(e){n.setState({taxi:e})},n._renderTaxiButton=function(){var e=n.props,t=n.state.taxi;if(!e.config.enableTaxi||c.W(e.result)||!t||"error"in t)return null;var r=e.config.isYango,i=e.config.taxi.desktopRef;return a.createElement(S.Z,{taxi:t,analyticsRefId:r?i:2451711})},n._renderActionButton=function(){var e,t,i,o,s,l,c,u,d,m,p,f,h=n.props,g=null==(t=h.result.advert)?void 0:null==(e=t.actionButtons)?void 0:e[0];if("normal"===h.view)return null;if((0,R.vv)(h.config,h.result)&&g)return a.createElement(E.Z,{metrikaGoal:null==(u=h.result.metrika)?void 0:null==(c=u.goals)?void 0:c.cta,advertButton:g,result:h.result,text:g.title,hideIcon:!0,actionButton:{title:"Номера и цены",subTitle:"Доступные предложения"},mode:"hotelsBooking",isWide:!0,view:"primary"});if((0,R.D1)(h.config,h.result))return a.createElement(A.Z,{result:h.result,metrikaGoal:null==(m=h.result.metrika)?void 0:null==(d=m.goals)?void 0:d.cta,isWide:!0});var _=n._getActionButton(),y=(null==(o=h.result.booking)?void 0:null==(i=o.advertButton)?void 0:i.ignore)===!1;return h.config.enableBooking&&h.result.booking&&(!y||!h.config.bunker.disableBookingAdvertSplit)&&("restaurant"!==h.result.booking.bookingType||h.config.experiments.ui.tableBooking)?a.createElement(E.Z,(0,r._)({},_,{result:h.result,advertButton:!h.config.hideAdverts&&y&&_?_:void 0,metrikaGoal:null==(f=h.result.metrika)?void 0:null==(p=f.goals)?void 0:p.cta,isWide:!0})):_?a.createElement(v.Z,(0,r._)({},_,{view:"wide"===h.view?"primary":"announcement",metrikaGoal:null==(l=h.result.metrika)?void 0:null==(s=l.goals)?void 0:s.cta})):null},n._renderPhonesButton=function(){var e=n.props;l.Po(e.result,e.config),n._getActionButton()},n._renderLinksButton=function(){var e,t,i=n.props,o=i.result.urls||[];if(0!==o.length&&"wide"!==i.view){var s={icon:{name:"web-24"},hint:"Сайт",ariaLabel:"Сайт",metrikaGoal:(null==(e=i.result.metrika)?void 0:e.goals.site)?["goal_deepuse",null==(t=i.result.metrika)?void 0:t.goals.site]:"goal_deepuse",gaGoal:"site.contacts.click.website"};if(1===o.length){var l=o[0];return a.createElement(f.Z,(0,r._)({},s,{type:"web",analytics:"site_link",analyticsState:{url:l},url:l,target:"_blank"}))}return a.createElement(m.Z,{urls:o},function(e){var t=e.onClick;return a.createElement(f.Z,(0,r._)({},s,{type:"show-web",analytics:"show_site_link",onClick:t}))})}},n._renderUndergroundButton=function(){var e,t=n.props.result.masstransitStop,r=null==t?void 0:null==(e=t.links)?void 0:e.find(function(e){return"underground"===e.type});return r?a.createElement(b.Z,{link:r}):null},n._renderRouteButton=function(){var e,t,i=n.props,s=i.result,l={ll:(0,o.s)(s.coordinates),z:16},m=u.D({routePoints:[{coords:null,value:""},{coords:s.coordinates,value:"",searchResult:s}],viaIndexes:[],travelMode:"pedestrian",activeRouteIndex:0,detailedIndex:-1,routerResponse:null},i.config),p=k.e(d.render("/",(0,r._)({},m,l)),i.config,{redirectProfile:!0});if(c.W(s))return null;var v=null==(e=s.metrika)?void 0:e.goals.route;return a.createElement(h.Z,{mini:"mini"===i.view,onClick:i.onRouteClick,additionalMetrikaGoal:v?[v]:void 0,withoutIcon:(null==(t=s.masstransitStop)?void 0:t.type)==="underground",pessimizeColor:"wide"===i.view&&!!n._getActionButton(),text:i.config.isAliceIframe?"Ваш маршрут в Яндекс Картах":void 0,url:i.config.isAliceIframe?p:void 0,target:i.config.isAliceIframe?"_blank":void 0})},n.state={taxi:null},n}return(0,i._)(t,e),t.prototype.render=function(){var e,t,n,r,i=this.props,o=i.result,s="wide"===i.view,l="mini"===i.view,c=C.c(i.config)?w.p(o):Z.S(o),u=N.m(i.config);return a.createElement(a.Fragment,null,a.createElement(p.Z,null,s?null:this._renderRouteButton(),this._renderUndergroundButton(),s?null:this._renderActionButton(),this._renderPhonesButton(),l?this._renderTaxiButton():null,this._renderLinksButton(),o.masstransitStop||u||(0,T.E)(o)?null:a.createElement(_.default,{subject:{type:"search",data:o},additionalMetrikaGoal:null==(e=i.result.metrika)?void 0:e.goals.subscribe}),s&&i.appShareOptions?a.createElement(y.Z,{options:i.appShareOptions,metrikaGoal:null==(n=o.metrika)?void 0:null==(t=n.goals)?void 0:t["send-to-phone"]}):null,a.createElement(g.Z,{coordinates:o.displayCoordinates,title:o.fullAddress||o.address,seoUrl:c,push:{type:u?"profile":"org",message:o.title+(o.address?". "+o.address:""),uri:o.uri},metrikaGoal:null==(r=o.metrika)?void 0:r.goals.share}),s?this._renderRouteButton():null,s?this._renderActionButton():null),i.config.enableTaxi?a.createElement(P.Z,{coordinates:i.result.displayCoordinates,onLoad:this._onTaxiPriceLoaded}):null)},t}(a.Component));t.Z=(0,s.ZP)(I)},44691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(34788),i=n(18188),a=n(11912),o=n(87363),s=n(44748),l=n(2866),c=n(55057),u=n(87342),d=n(98901),m=n(94542),p=n(34257),v=n(97255),f=n(60517),h=n(95102),g=n(2693),_=n(96309),y=(0,s.Z)("business-card-bko-view"),b=function(e){var t,n,s,b,E,k=(0,c.nb)(),w=o.useRef(void 0),Z=(0,i._)(o.useState(!1),2),C=Z[0],N=Z[1],P=e.advert.promo,S=!!(null==(b=e.advert.products)?void 0:b.every(function(e){return!!e.disclaimer})),x=Array.from(new Set((null!=(E=e.advert.products)?E:[]).reduce(function(e,t){return t.disclaimer?(0,a._)(e).concat([t.disclaimer]):e},[]))),T=function(){if(!(null==P?void 0:P.title))return"";var t=!0,n=k||!e.advert.logo?P.title:P.title.split(" ").reduce(function(e,n){return e.length+n.length<60&&t?e+=0===e.length?n:" "+n:t=!1,e},"");return""+n+(P.title.length>n.length?"…":"")},R=function(e,t,n,i){var a=e.url?"a":"div",s="a"===a?l.xl:{"aria-hidden":!0},c=e.disclaimer&&(n.length>1||!i)?n.indexOf(e.disclaimer)+1:void 0;return o.createElement(f.ZP,{name:"offer",nodeState:{position:t,link:!!e.url},key:t},o.createElement(a,(0,r._)({},s,{className:y("item",{link:!!e.url}),style:{outline:"none"},target:"_blank",href:e.url,rel:"nofollow"}),o.createElement(f.ZP,{name:"img",metrikaGoal:"super_deepuse",logClick:!0},o.createElement("div",{className:y("item-img")},o.createElement(_.Z,{height:"100%",url:e.img,alt:void 0,hovered:!1}))),o.createElement(f.ZP,{name:"url",metrikaGoal:"super_deepuse",logClick:!0},o.createElement("div",{className:y("item-name")},c?o.createElement(o.Fragment,null,e.title," ",o.createElement("sup",{className:y("superscript")},c)):o.createElement(o.Fragment,null,e.title))),o.createElement("div",{className:y("item-price")},e.price)))};return o.createElement(f.ZP,{name:"business_bko"},o.createElement("div",{className:y({wide:k})},function(){if(!P)return null;var t=e.advert.logo;return o.createElement(f.ZP,{name:"promotion",nodeRef:w},o.createElement(m.Z,{className:y("advert-unit",{"with-products":!!e.advert.products}),onClick:function(){var e;null==(e=w.current)||e.logEvent(C?"close-adv-promo-detail":"open-adv-promo-details"),N(!C)}},t?o.createElement("img",{className:y("advert-logo"),src:t,alt:P.title}):null,o.createElement("div",{className:y("advert-text")},o.createElement("div",null,o.createElement("span",{className:y("advert-title")},T()),o.createElement("span",{className:y("advert-badge")},e.noAdvert?null:o.createElement(u.Z,{tag:"span"},P.ordInfo?o.createElement(d.Z,{ordInfo:P.ordInfo,stopPropagation:!0}):o.createElement("span",{"aria-hidden":!0,className:y("advert-badge-text")},"Реклама")))),o.createElement("div",{className:y("flip",{"with-logo":t})},o.createElement(p.Z,{isFlipped:C})))))}(),e.advert.products?o.createElement("div",{className:y("products",{wide:k})},o.createElement(g.Z,{itemsGap:k?16:12},e.advert.products.map(function(e,t){return R(e,t,x,S)})),0===x.length?null:o.createElement("div",{className:y("disclaimers")},1===x.length&&S?o.createElement("div",{className:y("disclaimer")},x[0]):o.createElement("ol",{className:y("disclaimer-list")},x.map(function(e,t){return o.createElement("li",{className:y("disclaimer"),key:t},e)})))):null,P?o.createElement(v.Z,{isExpanded:C},o.createElement("div",{className:y("content-wrapper",{wide:k})},o.createElement("div",{className:y("content-header")},o.createElement("div",{className:y("details")},"Подробности акции:")),o.createElement("div",{className:y("content")},P.banner?o.createElement("div",{className:y("image-wrapper")},o.createElement("img",{alt:"",className:y("image"),src:P.banner})):null,o.createElement("div",{className:y("text-wrapper")},P.text?o.createElement("div",{className:y("text")},P.text):null,P.disclaimers?o.createElement("div",{className:y("disclaimer")},P.disclaimers[0]):null,!(t=null==P?void 0:P.url)||/^\s*javascript/.test(t)?null:o.createElement(f.ZP,{name:"promotion_link",logClick:!0},o.createElement("a",{className:y("link"),target:"_blank",href:t},"Перейти на сайт")))))):null,(s=null==(n=e.advert.actionButtons)?void 0:n.at(0))?o.createElement(h.Z,(0,r._)({view:"color-bg"},s,{isStretched:!0,metrikaGoal:e.metrikaGoal})):null))}},71190:(e,t,n)=>{"use strict";var r=n(34788),i=n(18007);n(1772);var a=n(87363),o=n(44748),s=n(90585),l=n(60517),c=n(37830),u=n(19263),d=n(77705),m=n(44369),p=n(95102);n(487);var v=n(47220),f=n(16647),h=n(70457),g=n(93924),_=n(14992),y=n(31336),b=n(62621),E=n(98041),k=n(58865),w=n(21910),Z=n(22535),C=n(14843),N=n(59655),P=n(13978),S=n(40047),x=n(4203),T=n(37580),R=n(86340),A=n(30554),I=n(37796),B=n(94733),O=n(9662),M=n(33089),L=n(95570),D=n(25441),F=n(88218),U=n(98773),z=n(94542),H=n(5835),q=n(7582);n(91375),n(49267),n(6848),n(53106);var W=n(25121),G=(0,h.Z)({resolved:{},chunkName:function(){return"business-owner"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("business-owner").then(n.bind(n,93081))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 93081}}),j=(0,h.Z)({resolved:{},chunkName:function(){return"emergency"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("emergency").then(n.bind(n,26829))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 26829}},{ssr:!1}),V=(0,o.Z)("business-card-title-view"),K=(0,s.Z)(y.ZP,x.ZP),Q=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._isClickAllowed=!1,t._stopPropagation=function(e){t._isClickAllowed||(e.stopPropagation(),e.nativeEvent.stopPropagation()),t._isClickAllowed=!1},t._preventBubbling=function(e){e.stopPropagation(),e.nativeEvent.stopPropagation()},t._onCategoryClick=function(e){var n=t.props;n.onCategoryClick&&!(0,c.m)(n.config)&&n.onCategoryClick(e,{origin:"card-category"})},t._renderBadgeView=function(){var e=t.props,n=e.result;return e.config.hideAdverts?null:a.createElement(k.Z,{result:n})},t._renderCategories=function(){var e=t.props.result;return a.createElement("div",{className:V("categories")},a.createElement(B.Z,{region:e.region,categories:e.categories,onlineOrg:u.E(e),onCategoryClick:t._onCategoryClick}))},t._renderMasstransitFeature=function(){var e=t.props,n=e.result.masstransitStop,r=n?(0,O.U2)(n,e.config):null;return r?a.createElement("span",null," · ",r):null},t._renderSubtitle=function(){return a.createElement("div",{className:V("subtitle")},t._renderCategories(),t._renderMasstransitFeature())},t._renderSummary=function(){var e=t.props;return a.createElement("div",{className:V("summary")},a.createElement(C.Z,{result:e.result,alwaysCollapsed:"mini"===e.view}))},t._renderCTAButton=function(){var e,n,i,o,s,c,u,d,m,v,f,h,g,_,y,b=t.props,E=null==(n=b.result.advert)?void 0:null==(e=n.actionButtons)?void 0:e[0];if("normal"!==b.view)return null;if((0,D.vv)(b.config,b.result)&&E)return a.createElement("div",{className:V("call-to-action")},a.createElement(S.Z,{metrikaGoal:null==(f=b.result.metrika)?void 0:null==(v=f.goals)?void 0:v.cta,advertButton:E,result:b.result,text:E.title,hideIcon:!0,actionButton:{title:"Номера и цены",subTitle:"Доступные предложения"},mode:"hotelsBooking"}));if((0,D.D1)(b.config,b.result))return a.createElement("div",{className:V("call-to-action")},a.createElement(F.Z,{result:b.result,metrikaGoal:null==(g=b.result.metrika)?void 0:null==(h=g.goals)?void 0:h.cta}));var k=null==(o=b.result.advert)?void 0:null==(i=o.actionButtons)?void 0:i[0],w=(null==(c=b.result.booking)?void 0:null==(s=c.advertButton)?void 0:s.ignore)===!1;return b.config.enableBooking&&b.result.booking&&(!w||!b.config.bunker.disableBookingAdvertSplit)&&("restaurant"!==b.result.booking.bookingType||b.config.experiments.ui.tableBooking)?a.createElement("div",{className:V("call-to-action")},a.createElement(S.Z,(0,r._)({},k,{result:b.result,advertButton:!b.config.hideAdverts&&w&&k?k:void 0,metrikaGoal:null==(y=b.result.metrika)?void 0:null==(_=y.goals)?void 0:_.cta}))):!k||b.config.hideAdverts||H.y$(b.result,b.config.experiments)||H.dm(b.result,b.config.experiments)?void 0:a.createElement("div",{className:V("call-to-action")},a.createElement(p.Z,(0,r._)({},k,{view:"announcement",metrikaGoal:null==(d=b.result.metrika)?void 0:null==(u=d.goals)?void 0:u.cta,isStretched:!0})),!(null==(m=b.result.advert)?void 0:m.highlighted)&&k.value.includes("yclients.com")?a.createElement(l.ZP,{name:"yclients_cta",nodeState:{permalink:b.result.id}}):null)},t._renderEmergency=function(){var e,n=t.props.result.masstransitStop;return n&&(null==(e=n.notifications)?void 0:e.length)!==0?a.createElement("div",{className:V("emergency")},a.createElement(j,{notifications:n.notifications})):null},t._renderAdvert=function(){var e=t.props,n=d.i(e.result,e.config);return H.KR(e.result,e.config.experiments)&&"mini"!==e.view||!n?null:a.createElement("div",{className:V("advert-unit",{mini:"mini"===e.view})},a.createElement(P.Z,{data:n,showDirect:!!e.result.modularCard.showDirectBanner}))},t._renderDistance=function(){var e=t.props;return a.createElement(T.Z,{result:e.result,onClick:e.onRouteClick},function(e){return a.createElement("div",{className:V("bottom-item",{route:!0})},e)})},t._renderOrgDescription=function(){var e=t.props.result.orgDescription;return e?a.createElement(z.Z,{className:V("org-description"),onClick:t._stopPropagation},a.createElement(q.Z,{data:e})):null},t._renderContent=function(){var e,n,r,i,o,s,l=t.props,c=l.result,d=c.masstransitStop,p="mini"===l.view,v=t._renderAdvert(),f=!!l.result.storytellingData;return a.createElement("div",{className:V(),ref:t.props.innerRef},!f&&c.summary?t._renderSummary():t._renderSubtitle(),d&&d.transports[0]?a.createElement(w.Z,{transport:d.transports[0]}):null,t._renderEmergency(),d?null:a.createElement("div",{className:V("header")},a.createElement("div",{className:V("header-rating")},a.createElement(g.Z,{result:c,showHints:"mini"!==l.view,collapseStars:!!c.awards,hideRatingCount:Object.values(c.awards||{}).length>=2,onReviewsClick:l.onReviewsClick})),a.createElement("div",{className:V("header-awards")},a.createElement(_.Z,{result:c,onClick:function(){return null==l.onAwardsClick?void 0:l.onAwardsClick.call(l)}}))),a.createElement(W.Z,{result:c}),t._renderOrgDescription(),"low"===m.V(c,l.config)&&(null==(e=c.advertOffer)?void 0:e.cardHint)?a.createElement("div",{className:V("advert-offer-hint")},a.createElement(L.Z,{hint:null==(n=c.advertOffer)?void 0:n.cardHint,result:c,onClick:(null==(r=c.advertOffer)?void 0:r.banner)?l.onAdvertOfferHintClick:void 0})):null,c.modularCard.showFriendsLiked&&c.friendsLikes?a.createElement("div",{className:V("friends-likes")},a.createElement(U.Z,{friendsLikes:c.friendsLikes,onClick:l.onReviewsClick,permalink:t.props.result.id})):null,(null==(i=c.storytellingData)?void 0:i.previewData)?a.createElement("div",{className:V("story-entry")},a.createElement(I.Z,{storytellingPreview:c.storytellingData.previewData,result:l.result})):null,u.E(c)&&c.features?a.createElement("div",{className:V("online-features")},a.createElement(M.Z,{features:c.features})):null,a.createElement(z.Z,{className:V("bottom"),onClick:t._stopPropagation},c.modularCard.showWorkHours?a.createElement("div",{className:V("bottom-item",{"working-status":!0})},a.createElement(R.Z,{result:c})):null,t._renderDistance()),"mini"!==l.view&&l.onMovedClick?a.createElement("div",{className:V("moved")},a.createElement(A.Z,{result:l.result,onMovedClick:l.onMovedClick})):null,"mini"!==l.view&&c.isUserPotentialOwner?a.createElement(G,{className:V("owner-badge"),businessId:c.id,class:null==(s=c.categories)?void 0:null==(o=s[0])?void 0:o.class,source:"card"}):null,"mini"!==l.view?a.createElement("div",{className:V("open-again")},a.createElement(N.Z,{result:c})):null,a.createElement("div",{className:V("warning")},a.createElement(Z.Z,{result:c})),p?v:null,a.createElement("div",{role:"presentation",className:V("actions"),onClick:t._preventBubbling},a.createElement(b.Z,{result:c,view:l.view,onRouteClick:l.onRouteClick,appShareOptions:l.appShareOptions}),p?null:v,t._renderCTAButton()))},t._renderShare=function(){return t.props,null},t}(0,i._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;e.addToVisited&&e.addToVisited(e.result.id)},n.render=function(){var e=this.props,t=e.result,n=e.result.masstransitStop&&e.result.masstransitStop.id&&e.result.masstransitStop.region&&f.u({id:e.result.masstransitStop.id},e.result.masstransitStop.region,e.config),r=d.i(e.result,e.config);return a.createElement(E.Z,{title:e.title||t.title,displayTitle:t.title,truncateTitle:e.truncateTitle,url:e.generateUrl?n||v.S(t,{},e.config):void 0,onTitleClick:e.onTitleClick,onClose:e.onClose,renderBadge:this._renderBadgeView,sticky:e.sticky,noSubtitle:e.justTitle,withShutterControl:e.withShutterControl,view:e.view,noBottomPadding:"mini"!==e.view&&!!(!this._renderCTAButton()&&r),renderShare:this._renderShare},e.justTitle?null:this._renderContent())},t}(a.Component);t.Z=K(Q)},94733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(34788),i=n(87363),a=n(44748),o=n(60517),s=n(49180),l=n(25161),c=n(31336),u=(0,a.Z)("business-categories-view"),d=function(e){var t=(0,c.ZR)();return e.categories?i.createElement("div",{className:u()},e.categories.map(function(n){let a;var c=!!e.onCategoryClick;if(!c)return i.createElement(o.ZP,{name:"category",nodeState:{name:n.name},key:n.name,logClick:!0},i.createElement("span",{className:u("category")},n.name));var d=e.region&&l.z(n,e.region,t),m=e.region&&(a=(0,r._)({category:n.name},e.region.names)).category+" "+a.preposition+" "+a.prepositional;return i.createElement(o.ZP,{name:"category",nodeState:{name:n.name},key:n.name,logClick:!0},i.createElement(s.Z,{ariaLabel:"Входит в категорию "+({category:n.name}).category+", поиск по категории",className:u("category",{outline:!0,clickable:c,"online-org":e.onlineOrg}),href:d,title:m,onLeftClick:function(t){t.stopPropagation(),null==e.onCategoryClick||e.onCategoryClick.call(e,n)}},n.name))})):null}},97208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(18007),i=n(87363),a=n(44748),o=n(31336),s=n(21166),l=n(29915),c=n(10958),u=n(89318),d=n(31651),m=n(60517),p=n(87843),v=n(50003),f=n(20478),h=n(34788),g=n(55057),_=n(19263),y=n(70289),b=n(6018),E=n(72146),k=n(49267),w=(0,a.Z)("business-card-working-status-view"),Z=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._onEditClick=function(){null==t.props.onEditClick||t.props.onEditClick.call(t.props,"organization/edit-info")},t._renderEdit=function(){return t.props.onEditClick?i.createElement(m.ZP,{name:"edit",logClick:!0},i.createElement(p.default,{view:"link",className:w("edit"),icon:i.createElement(k.Z,{name:"edit-nofill-24",inline:!0}),onClick:t._onEditClick},i.createElement("div",{className:w("edit")},"Ошибка в графике работы"))):null},t._renderIntervalMeta=function(e,t){return e.meta?i.createElement("meta",{key:t,itemProp:"openingHours",content:e.meta}):null},t._renderDropdownContent=function(e){return t.props,i.createElement(i.Fragment,null,i.createElement(E.Z,{intervals:e,isInCard:!0}),t._renderEdit())},t._renderHint=function(){var e=t.props,n=y.f4(e.result,e.config);return n?i.createElement("div",{className:w("hint")},n):null},t._renderPlaceholder=function(){return t.props.onEditClick?i.createElement(p.default,{value:i.createElement("div",{className:w("link")},"Добавить"),onAdditionalClick:t._onEditClick},i.createElement("div",{className:w("placeholder")},"График работы не указан")):null},t._renderDropdown=function(e,n){var r=t.props,a=_.E(r.result),o=n.find(function(e){return e.isToday}),s=a&&o?o.dayName:e.text,l={children:i.createElement("div",{className:w("main")},i.createElement("div",{className:w("text"),title:s},s)),subcontent:t._renderHint(),iconUrl:void 0,iconClassName:w("icon"),value:a&&o?o.text:"График",size:"small"};return i.createElement(b.Z,(0,h._)({},l,{content:t._renderDropdownContent(n),hideCardBorder:!0,delimiter:null}))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=y.lR(e.result,e.config),n=y.bL(e.result,e.config)||[];return 0===n.length?this._renderPlaceholder():i.createElement(m.ZP,{name:"working_status"},i.createElement("div",{className:w((0,h._)({},t.state,{wide:e.isWideCard}))},this._renderDropdown(t,n)),n.map(this._renderIntervalMeta))},t}(i.Component),C=(0,g.ZP)((0,o.ZP)(Z)),N=n(81194),P=n(49180),S=n(53035),x=n(37830),T=n(53106),R=n(94542),A=["facebook","instagram","ok","twitter","vkontakte","youtube","whatsapp","telegram","viber","snapchat"],I={ok:"odnoklassniki"},B=(0,a.Z)("business-contacts-view"),O=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._onSocialButtonClick=function(e){T.ZP.logOrgEvent(e)},t._renderBlock=function(e){return i.createElement("div",{className:B("block")},e)},t._renderBlockTitle=function(e,n){return i.createElement("div",{className:B("title-block")},i.createElement("div",{className:B("title-icon",{"no-left-margin":t.props.isWideCard})},i.createElement(k.Z,{name:n,inline:!0})),i.createElement(d.Z,{type:"h3"},e))},t._renderOnlineOrgServiceZone=function(){var e;return t._renderBlock(i.createElement(p.default,{className:B("service-zone"),icon:i.createElement(k.Z,{name:"point-on-map-24",inline:!0})},null==(e=t.props.result.onlineProperties)?void 0:e.serviceTitle))},t._renderEntrancesLink=function(){var e=t.props,n=e.result;if(!n.entrances||0===n.entrances.length)return null;var r=l.Mw(n,e.config);return i.createElement(m.ZP,{name:"show_entrances",metrikaGoal:"goal_deepuse",nodeState:{hasIndoor:r},logClick:!0},i.createElement(R.Z,{className:B("link",{entrances:!0,noprint:!0,inline:!0}),onClick:function(){return e.onEntrancesClick(n)}},r?"Входы и схема помещения":"Показать входы"))},t._renderBuildRouteLink=function(){var e,n=t.props;return n.onRouteClick?i.createElement(m.ZP,{name:"build_route",metrikaGoal:["goal_deepuse",null==(e=n.result.metrika)?void 0:e.goals.route].filter(function(e){return!!e}),gaGoal:"site.contacts.click.route",logClick:!0},i.createElement(R.Z,{className:B("link",{route:!0,noprint:!0,inline:!0}),onClick:n.onRouteClick},"Маршрут")):null},t._renderAddress=function(){var e,n,r=t.props,a=r.result,o=a.address;if(null==(e=a.onlineProperties)?void 0:e.serviceTitle)return t._renderOnlineOrgServiceZone();if(!o)return null;var l=t._renderBlockTitle("Адрес","point-on-map-24"),c=null==(n=a.businessProperties)?void 0:n.moved_to,u=r.onMovedClick,d=!r.result.modularCard.showContacts;if(c&&a.newAddress&&u)return t._renderBlock(i.createElement(i.Fragment,null,l,i.createElement(p.default,{stretchBorder:!0},i.createElement("div",{className:B("muted")},"Организация переехала по адресу:"),i.createElement(m.ZP,{name:"new_address",logClick:!0},i.createElement(R.Z,{className:B("link",{"new-address":!0,disabled:d}),onClick:function(){return u(c)}},a.newAddress)))));var v=[t._renderEntrancesLink(),t._renderBuildRouteLink()].filter(Boolean),f=s.K(a,!0);return t._renderBlock(i.createElement(i.Fragment,null,l,i.createElement(p.default,{size:"small",stretchBorder:!0},i.createElement("div",{className:B("address")},x.m(r.config)?o:i.createElement(P.Z,{ariaLabel:o,className:B("address-link",{disabled:d}),href:S.D(a,r.config),onLeftClick:r.onAddressClick},o),a.additionalAddress?i.createElement("span",{className:B("additional-address")},a.additionalAddress):null),!r.config.isAliceIframe&&v.length>0?i.createElement("div",{className:B("address-links")},v.map(function(e,t,n){return i.createElement(i.Fragment,{key:t},e,t<n.length-1?i.createElement("span",{className:B("address-links-separator")}):null)})):null,i.createElement("meta",{itemProp:"address",content:f}))))},t._renderPhones=function(){var e,n,r,a=t.props,o=c.Po(a.result,a.config,{useRealty:!a.result.brandingBanner}),s=null==(r=a.result)?void 0:null==(n=r.metrika)?void 0:null==(e=n.goals)?void 0:e.call;return i.createElement(v.default,{phones:o,goal:s,isPhoneInitiallyExpanded:a.isPhoneInitiallyExpanded,onEditClick:a.onEditClick,newContacts:!0})},t._renderLinks=function(e){var n,r,a=t.props.result.urls;return a&&0!==a.length?i.createElement(f.Z,{urls:a,newContacts:!0,hideLastBorder:e,metrikaGoal:null==(r=t.props.result.metrika)?void 0:null==(n=r.goals)?void 0:n.site}):null},t._renderSocialLinkButton=function(e){var n,r,a=null!=(r=I[e.type])?r:e.type,o=t.props.result.metrika,s=null==o?void 0:null==(n=o.goals)?void 0:n[a];return i.createElement("div",{className:B("social-button"),key:e.href},i.createElement(m.ZP,{name:"social_link",gaGoal:"site.contacts.click."+e.type,metrikaGoal:s,nodeState:{type:e.type},logClick:!0},i.createElement(N.Z,{ariaLabel:"Соцсети, "+e.type,view:"secondary-gray",size:"medium",icon:i.createElement(k.Z,{name:u.Qe(e.type),className:B("social-icon"),inline:!0}),url:e.href,itemProp:"sameAs",target:"_blank",rel:"nofollow",onClick:function(){return t._onSocialButtonClick(e.type)}})))},t._renderSocialLinks=function(e){return i.createElement(m.ZP,{name:"social_links"},i.createElement(p.default,{className:B("social-links"),size:"small",border:"hide"},e.map(t._renderSocialLinkButton)))},t._renderContacts=function(){var e,n,r=t.props,a=(e=r.result.socialLinks||[],n=[],e.forEach(function(e){A.includes(e.type)&&!n.find(function(t){return t.type===e.type})&&n.push(e)}),n),o=a.length>0;return r.result.modularCard.showContacts&&(!r.hideEmptyBlocks||r.result.phones||r.result.urls||o)?t._renderBlock(i.createElement(i.Fragment,null,t._renderBlockTitle("Контакты","call-24"),t._renderPhones(),t._renderLinks(!o),o?t._renderSocialLinks(a):null)):null},t._renderWorkingIntervals=function(){var e=t.props;return e.result.modularCard.showWorkHours&&(!e.hideEmptyBlocks||e.result.workingTime)?t._renderBlock(i.createElement(i.Fragment,null,t._renderBlockTitle("Время работы","time-24"),i.createElement(C,{result:e.result,onEditClick:e.onEditClick}))):null},t}return(0,r._)(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,this._renderAddress(),this._renderContacts(),this._renderWorkingIntervals())},t}(i.Component),M=(0,g.ZP)((0,o.ZP)(O))},91713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(18007),i=n(87363),a=n(44748),o=n(31336),s=n(22897),l=n(21368),c=n(70901),u=n(94542),d=n(87462),m=n(77498),p=n(79244),v=function(e){var t=e.disabled,n=e.children,r=e.className;return i.createElement("div",(0,d.Z)({},(0,p.X)(m.GV,!t),{className:r}),n)};v.propTypes={},v.defaultProps={disabled:!1,className:void 0};var f=(0,a.Z)("business-dialog-view"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onClick=function(){n.setState({isVisible:!0})},n._onClose=function(){n.setState({isVisible:!1})},n._onContentClick=function(){n.props.hideOnContentClick&&n._onClose()},n._renderDialog=function(){var e=n.props;return i.createElement(s.default,{isOpen:n.state.isVisible,onClose:n._onClose,showCloseButton:!0},i.createElement("div",{className:f("dialog")},i.createElement(v,null,i.createElement("div",{className:f("title")},e.title),n._renderWrapperContent())))},n._renderActionsMenu=function(){var e=n.props;return i.createElement(c.Z,{isShown:n.state.isVisible,swipeable:!0,onClose:n._onClose,title:i.createElement(l.default,{title:e.title,onClose:n._onClose,showBorder:!0,view:"tall"})},n._renderWrapperContent())},n.state={isVisible:!1},n}(0,r._)(t,e);var n=t.prototype;return n._renderWrapperContent=function(){var e=this.props,t=e.hideOnContentClick?u.Z:"div";return i.createElement(t,{className:f("content"),onClick:this._onContentClick},e.content)},n.render=function(){var e=this._renderDialog;return i.createElement(i.Fragment,null,this.props.children({isVisible:this.state.isVisible,onClick:this._onClick}),e())},t}(i.PureComponent),g=(0,o.ZP)(h)},33647:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(87363),i=n(44748),a=n(28216),o=n(2693),s=n(18188),l=n(96309),c=n(94542),u=n(60517),d=n(56864),m=n(31336),p=n(49180),v=(0,i.Z)("business-discovery-item-view"),f=function(e){let t;var n=(0,s._)(r.useState(!1),2),i=n[0],a=n[1],o=(0,m.ZR)();return r.createElement(u.ZP,{name:"discovery_item",nodeState:{alias:e.discovery.alias},logClick:!0},r.createElement(c.Z,{className:v(),onClick:e.onClick},e.discovery.photoUrlTemplate?r.createElement("div",{className:v("image"),onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}},r.createElement(l.Z,{alt:e.discovery.title,url:e.discovery.photoUrlTemplate.replace("%s","L"),height:"100%",hovered:i}),e.discovery.placeNumber>0?r.createElement("div",{className:v("image-badge")},"Подборка  ·  "+(t={placeNumber:e.discovery.placeNumber}).placeNumber+" "+(t.placeNumber%10==1&&t.placeNumber%100!=11?"место":t.placeNumber%10>1&&t.placeNumber%10<5&&(t.placeNumber%100<10||t.placeNumber%100>20)?"места":"мест")):null):null,r.createElement("div",{className:v("title")},r.createElement(p.Z,{href:d.U(e.discovery.alias,o)},e.discovery.title)),e.discovery.partner?r.createElement("div",{className:v("partner")},e.discovery.partner.iconTemplate?r.createElement("img",{alt:e.discovery.partner.name,className:v("partner-logo"),src:e.discovery.partner.iconTemplate.replace("%s","XXS")}):null,r.createElement("span",null,e.discovery.partner.name)):null))},h=n(3120),g=n(55057),_=(0,i.Z)("business-discoveries-view"),y=function(e){var t=a.I0(),n=(0,g.nb)();return r.createElement("div",{className:_({wide:n})},1===e.discoveries.length?r.createElement("div",{className:_("single-item")},r.createElement(f,{onClick:function(){return t(h.Z.load(e.discoveries[0].alias,{keepSessionId:!0,openedFrom:e.from||"relevant"}))},discovery:e.discoveries[0]})):r.createElement(o.Z,{clickStep:1,itemsGap:16,padding:n?80:16},e.discoveries.map(function(n,i){return r.createElement("div",{className:_("item"),key:i},r.createElement(f,{onClick:function(){return t(h.Z.load(n.alias,{openedFrom:e.from||"relevant"}))},discovery:n}))})))}},21327:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(18007),i=n(87363),a=n(60517),o=n(96309),s=n(2693),l=n(31336),c=n(44748),u=n(94542),d=(0,c.Z)("business-event-view"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this)._renderGalleryPhoto=function(e,t){var r=n.props.onPhotoClick;return i.createElement(a.ZP,{name:"photo",logClick:!0,key:e.urlTemplate},i.createElement("div",{"aria-hidden":!0,className:d("gallery-photo",{single:t}),onClick:r?function(t){t.stopPropagation(),r(e)}:void 0,onMouseEnter:r?function(){return n.setState({hovered:!0})}:void 0,onMouseLeave:r?function(){return n.setState({hovered:!1})}:void 0},i.createElement(o.Z,{height:188,url:e.urlTemplate.replace("%s","L"),alt:void 0,hovered:n.state.hovered})))},n._renderGallery=function(){var e=n.props.event.action.blockData.images;return e?1===e.length?n._renderGalleryPhoto(e[0],!0):i.createElement("div",{className:d("gallery")},i.createElement(s.Z,{itemsGap:4,padding:16},e.map(function(e){return n._renderGalleryPhoto(e)}))):null},n.state={hovered:!1},n}return(0,r._)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.event,r=n.action.blockData,o=null!=(e=r.images)?e:[];return i.createElement(a.ZP,{name:"business_event",logClick:!0},i.createElement(u.Z,{className:d(),onClick:t.onClick},t.largeGallery&&o.length>0?this._renderGallery():null,i.createElement("div",{className:d("texts")},i.createElement("div",{className:d("title")},r.title),i.createElement("div",{className:d("rubric")},r.rubric),i.createElement("div",{className:d("time")},n.formattedDate)),!t.largeGallery&&o.length>0?i.createElement("div",{className:d("photo"),style:{backgroundImage:"url("+o[0].urlTemplate.replace("%s","M")+")"}}):null,i.createElement("div",{className:d("description")},r.description),r.features&&r.features.length>0?i.createElement("div",{className:d("feature")},i.createElement("div",{className:d("feature-value")},r.features[0].value),i.createElement("div",{className:d("feature-name")},r.features[0].name)):null))},t}(i.Component),p=(0,l.ZP)(m)},40157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(87363),i=n(60517),a=n(44748),o=n(21327),s=(0,a.Z)("business-events-list"),l=function(e){return r.createElement(i.ZP,{name:"events_list",logClick:!0},r.createElement("div",{className:s()},e.events.map(function(t){return r.createElement("div",{className:s("event"),key:t.id},r.createElement(o.Z,{event:t,onClick:function(){return e.onEventClick(t)},onPhotoClick:function(n){return e.onPhotoClick(t,n)},largeGallery:!0}))})))}},23893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ei});var r=n(18007),i=n(11912),a=n(87363),o=n(28216),s=n(85295),l=n(23282),c=n(44748),u=n(90585),d=n(31336),m=n(55057),p=n(60517),v=n(49267),f=n(87843),h=n(34788),g=n(37830),_=n(25161),y=n(81194),b=n(49180),E=(0,c.Z)("orgpage-categories-info-view"),k=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderCategory=function(e){let n;var r=t.props,i=r.result.region,o=i&&(n=(0,h._)({category:e.name},i.names)).category+" "+n.preposition+" "+n.prepositional,l=i&&_.z(e,i,r.config);return a.createElement(p.ZP,{key:e.name,name:"category",nodeState:{name:e.name},logClick:!0},a.createElement(b.Z,{ariaLabel:e.name,className:E("link"),title:o&&(0,s.Z)(o),href:g.m(r.config)?void 0:l,onLeftClick:function(){return null==r.onCategoryClick?void 0:r.onCategoryClick.call(r,e)}},a.createElement("div",{className:E("item")},a.createElement(y.Z,{ariaHidden:!0,view:"secondary-gray",size:"small"},(0,s.Z)(e.name)))))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props.result.categories;return e?a.createElement(p.ZP,{name:"categories",nodeState:{categories:e.map(function(e){return e.seoname}).join(", ")}},a.createElement("div",{className:E()},e.map(this._renderCategory))):null},t}(a.PureComponent),w=(0,d.ZP)(k),Z=n(34257),C=n(94542),N=(0,c.Z)("features-cut-view"),P=function(e){function t(t){var n;return(n=e.call(this,t)||this)._contentNode=a.createRef(),n._updateHeight=function(){var e=n.state,t=n._contentNode.current;if(t){var r=t.scrollHeight;n.setState({cutHeight:e.cutHeight?e.cutHeight:r,fullHeight:e.cutHeight?r:e.fullHeight,isAnimated:!!e.cutHeight})}},n._onToggleClick=function(){n.setState({isExpanded:!n.state.isExpanded},n._updateHeight)},n._renderExpandLink=function(){var e=n.state;return a.createElement(p.ZP,{name:"expand",nodeState:{expanded:e.isExpanded},logClick:!0},a.createElement(C.Z,{tag:"span",ariaExpanded:e.isExpanded,className:N("expand"),onClick:n._onToggleClick},e.isExpanded?"Свернуть":"Развернуть",a.createElement(Z.Z,{isFlipped:e.isExpanded})))},n.state={cut:t.features.length>t.maxElements,isExpanded:!1,isAnimated:!1,cutHeight:0,fullHeight:t.features.length>t.maxElements?0:void 0},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateHeight()},n.render=function(){var e=this.props,t=this.state,n=t.cut&&!t.cutHeight?e.features.slice(0,e.maxElements):e.features,r=t.cut&&!t.isExpanded?t.cutHeight:t.fullHeight;return a.createElement("div",{className:N()},a.createElement("div",{className:N("wrap",{animated:t.isAnimated}),style:{maxHeight:r}},a.createElement("div",{ref:this._contentNode},e.renderFeatures(n),t.cut&&!t.isExpanded?a.createElement("div",{className:N("fade")}):null)),t.cut?this._renderExpandLink():null)},t}(a.Component),S=n(1477),x=(0,c.Z)("cut-view"),T=function(e){function t(t){var n;return(n=e.call(this,t)||this)._contentNode=a.createRef(),n._updateHeight=function(){var e=n.props,t=n._contentNode.current;if(t){var r=t.scrollHeight,i=!!e.height&&r-e.height>50;n.setState({cut:i,cutHeight:i?r:void 0})}},n._onToggleClick=function(){n.setState({isExpanded:!n.state.isExpanded})},n._renderExpandLink=function(){var e=n.state,t=e.isExpanded?"Свернуть":"Развернуть";return a.createElement(p.ZP,{name:"expand",nodeState:{expanded:e.isExpanded},logClick:!0},a.createElement(C.Z,{ariaLabel:t,className:x("expand"),onClick:n._onToggleClick},t,a.createElement(Z.Z,{isFlipped:e.isExpanded})))},n.state={cut:!1,isExpanded:!1,cutHeight:0},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateHeight()},n.componentDidUpdate=function(e){var t=this.props;(t.height!==e.height||t.threshold!==e.threshold)&&this._updateHeight()},n.render=function(){var e=this.props,t=this.state,n=!t.cut||t.isExpanded?t.cutHeight:e.height;return e.height?a.createElement("div",{className:x()},a.createElement("div",{className:x("wrap"),style:{maxHeight:n}},a.createElement("div",{ref:this._contentNode},e.children,t.cut&&!t.isExpanded?a.createElement("div",{className:x("fade")}):null,a.createElement(S.Z,{onResize:this._updateHeight}))),t.cut?this._renderExpandLink():null):e.children},t}(a.Component),R=(0,d.ZP)(T),A=n(31651),I=n(47220),B=n(47402),O=n(46664),M=n(69272),L=n(76149),D=n(94975),F=n(97032),U=n(8601),z=n(1431),H=n(2693),q=n(22370),W=n(85130),G=(0,c.Z)("business-feature-a11y-additional-view"),j=function(e){var t=(0,d.ZR)(),n=e.a11y,r=e.onOpenReviewsClick,o=e.onWriteReviewsClick,s=e.showPhoto,l=a.useMemo(function(){return function(e){var n,r=e.map(function(e){var t,n=null==(t=e.copyright)?void 0:t.updateTime;return"string"==typeof n?Number(q.Tt(n.slice(0,-1))):n||0}),a=(n=Math).max.apply(n,(0,i._)(r))||void 0;return a&&W.FQ(new Date(a),t)}},[t]),c=a.useCallback(function(e,t){var n;s(t,{selectedTag:null==(n=e.tags)?void 0:n.find(function(e){return e.id===M.YM}),skipPreviewModeOnExit:!1})},[s,t]),u=a.useCallback(function(){var e=(null==n?void 0:n.photos)||[];if(0===e.length)return null;var t=l(e);return a.createElement("div",{className:G("photos")},a.createElement(H.Z,{clickStep:2,buttonSize:"m",itemsGap:8,className:G("photos")},e.map(function(e,t){return a.createElement(p.ZP,{key:t,name:"photo",logClick:!0},a.createElement("div",{"aria-hidden":!0,className:G("photo"),onClick:function(){return c(e,t)}},a.createElement("div",{className:G("photo-img"),style:{backgroundImage:"url("+e.url+")"}})))})),t?a.createElement("div",{className:G("last-photo-date")},"Последнее фото добавлено "+t):null)},[n,c,l]),m=a.useCallback(function(){var e=!!(null==n?void 0:n.hasReviews);return a.createElement("div",{className:G("reviews")},a.createElement(p.ZP,{name:e?"open_reviews":"write_reviews",logClick:!0},a.createElement(C.Z,{tag:"span",className:G("reviews-link"),onClick:e?r:o},e?"Посмотреть отзывы по теме":"Написать отзыв про доступность")))},[n,r,o]);return a.createElement("div",{className:G()},u(),m())},V=n(64247),K={writeReview:F.Z.editReview,openBusinessFeedback:U.Z.openBusinessFeedback},Q=o.$j(null,K),Y=(0,c.Z)("business-feature-a11y-group-view"),X=Q(function(e){var t,n,r=(0,d.ZR)(),i=e.result,o=e.group,s=o.viewFeatures,l=(0,D.Z)(function(){if(i.a11y)return Promise.resolve(i.a11y);var e=M.eR(r);return z.Z.getByBusinessId({businessId:i.id,photoLinks:(0,V.X)(i)},r).catch(function(){return[]}).then(function(t){var n;return{hasReviews:!!(null==(n=i.aspects)?void 0:n.some(function(t){return t.text===e})),photos:t.filter(function(e){var t;return null==(t=e.tags)?void 0:t.some(function(e){return e.id===M.YM})})}})},[r,i]),c=0!==s.bool.length||0!==s.valued.length,u=!l.error&&((null==(t=l.value)?void 0:t.hasReviews)||(null==(n=l.value)?void 0:n.photos.length)!==0),m=function(){e.openBusinessFeedback({result:i,type:"organization/edit-accessibility",context:{formContextId:"organization.features"}})};return a.createElement("div",{className:Y({"with-paddings":e.withPaddings,"last-group":e.isLastGroup})},a.createElement("div",{className:Y("header")},a.createElement("div",{className:Y("title")},a.createElement("div",{role:"heading","aria-level":3,className:Y("name")},o.name),e.noEdit?null:c?a.createElement(p.ZP,{name:"edit_availability",logClick:!0},a.createElement(C.Z,{className:Y("edit"),onClick:m},"Редактировать")):a.createElement(p.ZP,{name:"add_info",logClick:!0},a.createElement(C.Z,{tag:"span",className:Y("edit"),onClick:m},"Добавить информацию"))),l.loading?null:c||u?a.createElement("div",{className:Y("warning")},a.createElement(v.Z,{name:"alert-16",className:Y("warning-icon"),inline:!0}),a.createElement("div",{className:Y("warning-text")},"Рекомендуем связаться с организацией, чтобы уточнить актуальность данных перед посещением")):a.createElement("div",{className:Y("description")},"Поделитесь информацией, важной для людей с инвалидностью: есть ли в этом месте пандусы для колясок, автоматические двери, кнопка вызова персонала")),s.bool.length>0?a.createElement(P,{maxElements:L.Wd,features:s.bool,renderFeatures:e.renderBooleanList}):null,s.bool.length>0&&s.valued.length>0?a.createElement("div",{className:Y("separator")}):null,s.valued.length>0?a.createElement(R,{height:L.TM},e.renderValuedList(s.valued)):null,l.loading?null:a.createElement("div",{className:Y("additional")},a.createElement(j,{a11y:l.value,onWriteReviewsClick:function(){return e.writeReview(i)},onOpenReviewsClick:e.onOpenReviewsClick,showPhoto:e.onPhotosClick})),e.isLastGroup?null:a.createElement("div",{className:Y("separator")}))}),$=n(44365),J=n(33106),ee={changeSelectedAspectInReviews:F.Z.changeSelectedAspect,openBusinessFeedback:U.Z.openBusinessFeedback},et=(0,u.Z)(o.$j(null,ee),d.ZP,m.ZP),en={data_from_the_CB:"banks-ru-14",unknown:"about-24",car_park:"place-feature-parking-24",yandex_eda_qr_pay:"place-feature-closed-for-without-qr-24",ya_express_delivery:"market-24"},er=(0,c.Z)("business-features-view"),ei=et(function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._getTabViewFeatureGroups=function(){var e=t._sanitizeFeatureGroups(),n=t._getA11yFeatureGroup(e);n&&e.push(n);var r=t._getFeaturesWithoutGroup(e);if(0===r.length)return e;var i=t._getViewFeatures(r),a=t._getTopFeatureGroup(i);a&&e.unshift(a);var o=e.length>0,s=t._getOtherFeatureGroup(i,o);return s&&e.push(s),e},t._sanitizeFeatureGroups=function(){var e=t.props.result,n=e.features,r=e.featureGroups;return(null==r?void 0:r.length)&&(null==n?void 0:n.length)?r.reduce(function(e,r){var i=r.name,a=r.featureIds,o=n.filter(function(e){return a.includes(e.id)}),s=t._getViewFeatures(o);return(s.bool.length||s.valued.length)&&e.push({name:i,viewFeatures:s}),e},[]):[]},t._getA11yFeatureGroup=function(e){var n=M.wd(t.props.config);if(n&&e.every(function(e){return e.name!==n.group.name})&&n)return{name:n.group.name,viewFeatures:t._getViewFeatures(n.features)}},t._getTopFeatureGroup=function(e){var n=t._shouldShowAllFeatures()?e.bool:e.bool.filter(function(e){return e.important});if(0!==n.length)return{viewFeatures:{bool:n,valued:[]}}},t._getOtherFeatureGroup=function(e,n){var r=t._shouldShowAllFeatures()?[]:e.bool.filter(function(e){return!e.important});if(r.length||e.valued.length)return{name:n?"Прочее":void 0,viewFeatures:{bool:r,valued:e.valued}}},t._getFeaturesWithoutGroup=function(e){var n=t.props.result.features;if(!n||0===n.length)return[];if(0===e.length)return n;var r=e.reduce(function(e,t){var n=t.viewFeatures,r=n.bool,a=n.valued;return e.push.apply(e,(0,i._)(r.map(function(e){return e.id})).concat((0,i._)(a.map(function(e){return e.id})))),e},[]);return n.filter(function(e){return!r.includes(e.id)})},t._getPlaceFeatureIconName=function(e){var t=$.Su+e.replace(/_/g,"-")+"-24",n=t+"-flip";return $.wX.includes(n)?n:$.wX.includes(t)?t:en[e]},t._getViewFeatures=function(e){var n=e.filter(function(e){return e.name}),r=n.filter(function(e){return"bool"===e.type}),i=n.filter(function(e){return["enum","text"].includes(e.type)}),a=r.filter(function(e){return t._getPlaceFeatureIconName(e.id)}),o=r.filter(function(e){return!t._getPlaceFeatureIconName(e.id)});return{bool:a.concat(o),valued:i}},t._getOverviewFeatures=function(e){var n=t._getViewFeatures(e),r=n.bool,i=n.valued,a=t.props.isOrgpage?9:4,o=r.slice(0,a),s=t.props.isOrgpage?4:Math.min(5-o.length,3);return{bool:o,valued:i.slice(0,s)}},t._shouldShowAllFeatures=function(){var e=t.props;return e.isOrgpage||B.F(e.result)},t._onOpenReviewsClick=function(){var e,n,r=t.props,i=M.eR(r.config);r.onTabChange("reviews"),r.changeSelectedAspectInReviews(r.result,O.E,null==(n=r.result.aspects)?void 0:null==(e=n.find(function(e){return e.text===i}))?void 0:e.id)},t._onEditClick=function(){var e=t.props;e.openBusinessFeedback({result:e.result,type:"organization/edit-info",context:{formContextId:"organization.features"}})},t._renderCategories=function(){var e=t.props;return a.createElement(w,{result:e.result,onCategoryClick:e.onCategoryClick})},t._renderBooleanFeature=function(e){var n=t._getPlaceFeatureIconName(e.id);return a.createElement("div",{className:er("bool-item"),key:e.id},a.createElement("div",{className:er("bool")},a.createElement("div",{className:er("bool-icon",{defined:!!n})},a.createElement(v.Z,{name:n||"done-24",inline:!0,width:14,height:14})),a.createElement("div",{className:er("bool-text")},(0,s.Z)(e.name))))},t._renderBooleanList=function(e){return a.createElement(p.ZP,{name:"boolean"},a.createElement("div",{className:er("bool-list")},"tab"===t.props.view||t.props.isOrgpage?e.map(t._renderBooleanFeature):(0,l.Z)(e,2).map(function(e,n){return a.createElement("div",{className:er("bool-line"),key:n},e.map(t._renderBooleanFeature))})))},t._renderValuedFeature=function(e){if(!e.name)return null;var t="enum"===e.type?e.value.map(function(e){return e.name}).join(", "):e.value;return a.createElement("div",{className:er("valued"),key:e.id},a.createElement("div",{className:er("valued-content")},a.createElement("span",{className:er("valued-title")},(0,s.Z)(e.name),":"),a.createElement("span",{className:er("valued-value")},t)))},t._renderValuedList=function(e){return a.createElement(p.ZP,{name:"enum"},a.createElement("div",{className:er("valued-list")},e.map(t._renderValuedFeature)))},t._renderMoreInfoButton=function(){var e=t.props;return"tab"===e.view||e.hideMoreInfo?null:a.createElement(p.ZP,{name:"more_info",metrikaGoal:"deepuse",logClick:!0},a.createElement(f.default,{className:er("more-info",{noprint:!0}),view:"link",icon:a.createElement(v.Z,{name:"other-24",inline:!0}),onClick:function(){return e.onTabChange("features")},ariaLabel:"Подробнее об организации"},a.createElement(b.Z,{ariaHidden:!0,href:(0,I.S)(e.result,{sublanding:"features"},e.config)},"Подробнее об организации")))},t._renderGroupHeader=function(e,t){return e?a.createElement("div",{className:er("group-title")},a.createElement("div",{role:"heading","aria-level":3,className:er("group-name")},e),t):null},t._renderOverviewViewFeatures=function(e){var n=e.bool,r=e.valued;return 0===n.length&&0===r.length?null:a.createElement(a.Fragment,null,n.length>0?t._renderBooleanList(n):null,r.length>0?t._renderValuedList(r):null)},t._renderOverview=function(){var e,n,r,i=t.props,o=M.kF(i.config),s=o?null==(e=i.result.featureGroups)?void 0:e.find(function(e){return e.name===o}):void 0,l=(i.result.features||[]).filter(function(e){return null==s?void 0:s.featureIds.includes(e.id)}),c=(i.result.features||[]).filter(function(e){return!(null==s?void 0:s.featureIds.includes(e.id))});if(t._shouldShowAllFeatures()||(c=c.filter(function(e){return e.important}),l=l.filter(function(e){return e.important})),0===c.length&&0===l.length)return null;var u=t._getOverviewFeatures(c),d=t._getOverviewFeatures(l);return a.createElement(a.Fragment,null,t._renderOverviewViewFeatures(u),d.bool.length>0||d.valued.length>0?a.createElement("div",{className:er("separator")}):null,t._renderOverviewViewFeatures(d),a.createElement(J.Z,{name:"business-features",texts:null==(r=i.result.seoRobots)?void 0:null==(n=r.businessKeywordsFeatures)?void 0:n.filter(function(e){return!u.bool.find(function(t){return t.id===e.id})&&!u.valued.find(function(t){return t.id===e.id})&&!d.bool.find(function(t){return t.id===e.id})&&!d.valued.find(function(t){return t.id===e.id})}).map(function(e){return e.text})}))},t._renderEmptyContent=function(){return t.props.noEdit?null:a.createElement(a.Fragment,null,t._renderGroupHeader("Информация об организации",a.createElement(p.ZP,{name:"edit",logClick:!0},a.createElement(C.Z,{className:er("edit"),onClick:t._onEditClick},"Редактировать"))),a.createElement("div",{className:er("empty")},"Добавьте адрес, время работы, контакты и другую информацию, полезную тем, кто планирует посетить организацию"))},t._renderTab=function(){var e=t.props,n=t._getTabViewFeatureGroups(),r=t._renderEmptyContent();if(0===n.length)return r;var i=M.kF(e.config),o=n.map(function(n,r,o){var s=n.viewFeatures;return n.name===i?a.createElement(X,{key:r,group:n,withPaddings:!e.isWideCard,isLastGroup:r===o.length-1,result:e.result,renderBooleanFeature:t._renderBooleanFeature,renderBooleanList:t._renderBooleanList,renderValuedList:t._renderValuedList,onOpenReviewsClick:t._onOpenReviewsClick,onPhotosClick:e.onPhotosClick,noEdit:e.noEdit}):a.createElement(a.Fragment,{key:r},t._renderGroupHeader(n.name),s.bool.length>0?a.createElement(P,{maxElements:L.Wd,features:s.bool,renderFeatures:t._renderBooleanList}):null,s.bool.length>0&&s.valued.length>0?a.createElement("div",{className:er("separator")}):null,s.valued.length>0?a.createElement("div",{className:er("cut")},a.createElement(R,{height:L.TM},t._renderValuedList(s.valued))):null,r!==o.length-1?a.createElement("div",{className:er("separator")}):null)});return 1===n.length&&n[0].name===i?a.createElement(a.Fragment,null,r,o):o},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t="overview"===e.view,n=t?this._renderOverview():this._renderTab(),r=this._renderMoreInfoButton(),i=(n||e.isWideCard&&t)&&t?a.createElement(A.Z,{type:"h2",mediumBottomGutter:!e.isWideCard},"Особенности"):null;return n||i||r||e.isWideCard?a.createElement("div",{className:er({wide:e.isWideCard,view:e.view,orgpage:e.isOrgpage})},i,e.isWideCard?this._renderCategories():null,a.createElement(p.ZP,{name:"features"},n),r):null},t}(a.Component))},13978:(e,t,n)=>{"use strict";var r=n(87363),i=n(27192),a=n(6934),o=n(60517);t.Z=function(e){var t=e.data;return"direct"===t.type?e.showDirect?r.createElement(a.Z,{direct:t.advert,isInHeader:!0}):null:"advert-promo"===t.type?r.createElement(i.Z,{data:{type:"advert-promo",promo:t.advert},wide:e.wide}):t.advert.promoAction?r.createElement(o.ZP,{name:"promo_action",subtreeState:{advert:!0}},r.createElement(i.Z,{data:{type:"promo",promo:t.advert},wide:e.wide})):null}},14992:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(87363),i=n(94207),a=n(44748),o=n(85172),s=n(31336),l=n(60517),c=n(80120),u=n(94542),d=(0,a.Z)("business-header-awards-view"),m="goodPlaceYear",p=function(e){var t=(0,o.Fg)();(0,s.ZR)();var n=function(e){return e===m?"Хорошее место":"ultimaGuide"===e?"Ultima Guide":void 0},a=function(i,a,o,s){var p=r.createElement(r.Fragment,null,r.createElement("div",{className:d("award-icons")},a.map(function(e,n){var a,o,s;return a=i,o=e,s=n,r.createElement(l.ZP,{name:"award_icon",nodeState:{awardType:a,awardName:o},key:s},r.createElement("div",{className:d("award-icon")},(0,c.v)(a===m||"ultimaGuide"===a?a:o,16,t)))})),o&&!e.isOrgpage?null:r.createElement("div",{className:d("award-text")},n(i),s?" "+s:""));return e.onClick?r.createElement(u.Z,{className:d("award"),key:i,onClick:e.onClick,ariaLabel:n(i)},p):r.createElement("div",{className:d("award"),key:i},p)},p=e.result.awards;if(!p)return null;var v=e.result.awards?Object.values(e.result.awards).reduce(function(e,t){return(0,i.Z)(e.concat(Array.isArray(t)?t:[t]))},[]).length:0,f=e.iconsOnly||v>=3&&!e.isOrgpage;return r.createElement(l.ZP,{name:"business_awards"},r.createElement("div",{className:d()},r.createElement("div",{className:d("title",{hidden:!f})},"Награды",":"),Object.keys(p).map(function(e){var t=p[e],n=Array.isArray(t)?t:[t],r=e===m?p[e]:void 0;return a(e,n,f,r)})))}},93924:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(87363),i=n(28216),a=n(44748),o=n(60517),s=n(3780),l=n(94542),c=i.$j(function(e){return{config:e.config,timeContext:e.timeContext}}),u=(0,a.Z)("business-header-rating-view"),d=c(function(e){var t=e.result.ratingData,n=!!t.ratingValue,i=e.config.business.enableReview?e.onReviewsClick:void 0;return r.createElement(o.ZP,{name:"business_rating",nodeState:{hasData:n}},r.createElement("div",{className:u()},function(){let a;if(!n)return null;var c=t.ratingCount&&e.collapseStars&&!e.hideRatingCount?"("+t.ratingCount+")":t.ratingCount&&!e.collapseStars?(a={count:t.ratingCount}).count?a.count+" "+(a.count%10==1&&a.count%100!=11?"оценка":a.count%10>1&&a.count%10<5&&(a.count%100<10||a.count%100>20)?"оценки":"оценок"):"Ещё нет оценок":null;return r.createElement(r.Fragment,null,r.createElement(s.Z,{ratingValue:t.ratingValue,collapseStars:e.collapseStars}),c?r.createElement(o.ZP,{name:"rating_amount",logClick:!0},r.createElement(l.Z,{className:u("text",{clickable:!!i}),onClick:i},c)):null)}()||function(){let e;if(n)return null;var a=0===t.reviewCount;return r.createElement(r.Fragment,null,r.createElement("div",{className:u("text")},(e={count:t.reviewCount}).count?e.count+" "+(e.count%10==1&&e.count%100!=11?"отзыв":e.count%10>1&&e.count%10<5&&(e.count%100<10||e.count%100>20)?"отзыва":"отзывов"):"Ещё нет отзывов"),a&&i?r.createElement(o.ZP,{name:"reviews_add",logClick:!0},r.createElement(l.Z,{className:u("text",{clickable:!!i}),onClick:i},"Написать отзыв")):null)}()))})},9353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(18007),i=n(87363),a=n(31336),o=n(69452),s=n(44748),l=n(35645),c=(0,s.Z)("business-iframe"),u=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onLoad=function(){n.setState({isLoading:!1})},n._onError=function(){n.setState({isLoading:!1,isError:!0})},n.state={isLoading:!0,isError:!1},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.url!==this.props.url&&this.setState({isLoading:!0,isError:!1})},n.render=function(){var e=this.props.config.uatraits,t="MobileSafari"===e.BrowserName&&13>Number(e.OSVersion);return i.createElement("div",{className:c()},this.state.isLoading?i.createElement("div",{className:c("paranja",{spinner:!0})},this.props.placeholder):null,this.state.isError?i.createElement("div",{className:c("paranja",{error:!0})},i.createElement(o.Z,null,"Что-то пошло не так.\nПопробуйте обновить страницу\nили зайти позднее.")):null,i.createElement("iframe",{ref:this.props.forwardedRef,className:c("frame"),src:this.props.url,frameBorder:0,height:"100%",onLoad:this._onLoad,onError:this._onError,scrolling:t?"no":void 0}))},t}(i.PureComponent),d=(0,l.Z)((0,a.ZP)(u))},30353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(34788),i=n(18007),a=n(87363),o=n(44748),s=n(31336),l=n(60517),c=n(81554),u=n(6018),d=n(87843),m=n(49267),p=(0,o.Z)("business-links-view"),v=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderBusinessLink=function(e){var t=e.iconName?a.createElement(m.Z,{inline:!0,name:e.iconName}):null;return a.createElement(c.Z,{link:e,key:e.aref},function(n){return a.createElement(l.ZP,{name:"business_link",nodeState:{aref:e.aref,type:e.type,url:e.href},metrikaGoal:"goal_deepuse",logClick:!0},a.createElement(d.default,{className:p("link"),view:"link",icon:t,keepIconColor:!0,onClick:n,border:"hide"},e.text))})},t._renderGroupContent=function(e){return a.createElement("div",null,e.links.map(t._renderBusinessLink))},t._renderGroup=function(e){if(0===e.links.length)return null;if(1===e.links.length){var n=e.links[0];return t._renderBusinessLink((0,r._)({},n,{text:e.text,iconName:e.iconName}))}var i=e.iconName?a.createElement(m.Z,{className:p("icon"),inline:!0,name:e.iconName}):null;return a.createElement(l.ZP,{key:e.id,name:"business_links_group",nodeState:{id:e.id}},a.createElement(u.Z,{content:t._renderGroupContent(e),icon:i,keepIconColor:!0,value:e.links.length,hideCardBorder:!0,delimiter:null},function(t){return t.isExpanded?e.expandedText:e.text}))},t}return(0,i._)(t,e),t.prototype.render=function(){var e=this.props.groups;return 0===e.length?null:a.createElement("div",{className:p()},e.map(this._renderGroup))},t}(a.Component),f=(0,s.ZP)(v)},867:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),n(86886);var r=n(87363),i=(0,n(44748).Z)("business-menu-skeletons"),a=function(e){return r.createElement("div",{className:i({grid:e.isGrid,list:!e.isGrid})},r.createElement("div",{className:i("categories")},Array.from([,,,]).map(function(e,t){return r.createElement("div",{key:t,className:i("category")},r.createElement("div",{className:i("text1")}),r.createElement("div",{className:i("text2")}))})),r.createElement("div",{className:i("title")}),r.createElement("div",{className:i("products")},Array.from(Array(9)).map(function(e,t){return r.createElement("div",{key:t,className:i("product")},r.createElement("div",{className:i("image")}),r.createElement("div",{className:i("text1")}),r.createElement("div",{className:i("text2")}))})))}},1748:(e,t,n)=>{"use strict";var r=n(18007),i=n(87363),a=n(9053),o=function(e){function t(){return e.apply(this,arguments)}return(0,r._)(t,e),t.prototype.render=function(){var e,t=this.props.result,n=((null==(e=t.photos)?void 0:e.items)||[])[0],r=(t.features||[]).find(function(e){return"average_bill2"===e.id&&["text","enum"].includes(e.type)}),o=r&&("enum"===r.type?r.value.map(function(e){return e.name}).join():r.value);return i.createElement(i.Fragment,null,n?i.createElement("meta",{itemProp:"image",content:n.urlTemplate.replace("%s",a.I0.orig)}):null,o?i.createElement("meta",{itemProp:"priceRange",content:o}):null)},t}(i.Component);t.Z=o},30554:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(87363),i=n(85295),a=n(60517),o=n(44748),s=n(31336),l=n(49180),c=n(73999),u=n(47220),d=(0,o.Z)("business-moved"),m=(0,s.ZP)(function(e){var t=e.result,n=t.newAddress,o=t.businessProperties,s=o&&o.moved_to,m=e.onMovedClick;return n&&s?r.createElement(c.Z,{view:"info",analyticsType:"moved",rightSlot:r.createElement(a.ZP,{name:"go",logClick:!0},r.createElement(l.Z,{ariaLabel:"Перейти",className:d("button"),href:u.S({id:s},void 0,e.config),onLeftClick:function(){return m(s)}},"Перейти"))},r.createElement("div",{className:d("text")},(0,i.Z)("новый адрес"),": ",n)):null})},59655:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(18007),i=n(87363),a=n(28216),o=n(99091),s=n(90585),l=n(31336),c=n(60517),u=n(44748),d=n(77230),m=n(69423),p=n(49267),v={checkAuthorization:o.Z.checkAuthorization},f=new Set,h=(0,u.Z)("business-open-again-question"),g=(0,s.Z)(l.ZP,a.$j(null,v))(function(e){function t(t){var n;return(n=e.call(this,t)||this)._giveAnswer=function(e){var t=n.props;t.checkAuthorization("feedback",function(){var r=t.result;"temporary-closed"===r.status&&(d.Z.sendAnswer({answerType:r.status,answer:e,businessId:r.id,reqId:r.requestId},t.config),f.add(r.id),n.setState({answered:!0}))})},n.state={answered:f.has(t.result.id),visible:!f.has(t.result.id)},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.result.id!==this.props.result.id&&this.setState({answered:f.has(this.props.result.id),visible:!f.has(this.props.result.id)})},n.render=function(){var e=this.props.result;return"temporary-closed"!==e.status||e.isUserPotentialOwner||!this.state.visible?null:i.createElement(c.ZP,{name:"open_again"},i.createElement("div",{className:h("poll")},i.createElement(m.Z,{answered:this.state.answered,icon:i.createElement(p.Z,{name:"org-temporarly-closed-24",className:h("icon"),inline:!0}),question:"Организация снова открылась?",onAnswer:this._giveAnswer})))},t}(i.Component))},7582:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(87363),i=n(44748),a=n(31336),o=n(18188),s=function(e){var t=(0,a.ZR)(),n=(0,o._)(r.useState(function(){return Math.floor(2e3/Math.min(e.length,200))}),1)[0],i=(0,o._)(r.useState(""),2),s=i[0],l=i[1];return r.useEffect(function(){var t=e.slice(s.length).split(" ").shift();if(t){var r=setTimeout(function(){l(s+" "+t)},t.length*n);return function(){return clearTimeout(r)}}},[e,s,n]),t.mocks?e:s},l=n(49267),c=n(60517),u=(0,i.Z)("business-org-description-view"),d=function(e){(0,a.ZR)();var t=s(e.data.text);return r.createElement(c.ZP,{name:"org_descriptions",logClick:!0},r.createElement("a",{className:u({wide:e.wide}),href:e.data.url,target:"_blank",rel:"noopener"},r.createElement("div",{className:u("inner")},r.createElement("div",{className:u("headline")},r.createElement("div",{className:u("brand")},r.createElement(l.Z,{className:u("brand-icon"),name:"integration-yazeka-logo-16",inline:!0}),r.createElement("div",{className:u("brand-name")},"Yazeka")),r.createElement("div",{className:u("read-more")},r.createElement("div",{className:u("read-more-text")},"Читать далее"),r.createElement(l.Z,{className:u("read-more-icon"),name:"arrow-input-16-flip",width:12,height:12,inline:!0}))),r.createElement("div",{className:u("text")},r.createElement("div",{className:u("text-spacer")},e.data.text),r.createElement("div",{className:u("text-display")},t)))))}},92771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(18007),i=n(87363),a=n(90585),o=n(44748),s=n(31336),l=n(60517),c=n(6018),u=n(87843),d=n(72417),m=n(37830),p=n(49267),v=n(55057),f=n(85172),h=(0,a.Z)(s.ZP,v.ZP,f.ZP),g=(0,o.Z)("business-ownership-view"),_=h(function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._onBecomeOwnerClick=function(){var e=t.props;window.open(d.l(e.businessId,e.config),"_blank")},t._renderBecomeOwner=function(){var e=t.props;return i.createElement(u.default,{icon:i.createElement(p.Z,{name:"mark-nonactual-24",inline:!0}),view:"link",onClick:t._onBecomeOwnerClick},i.createElement(l.ZP,{name:"become_owner_link",logClick:!0},i.createElement("a",{className:g("title-link"),href:d.l(e.businessId,e.config),onClick:function(e){return e.preventDefault()}},"Вы владелец этой организации?")))},t._renderDropdownContent=function(){var e=t.props,n=e.isAdvert,r=e.config.advertLandingUrl,a=n?r?r+"?utm_source=webmaps&utm_medium=tip&utm_campaign=webmaps_gptip":null:"http://yandex.ru/support/sprav/manage/verified-owner.html";return i.createElement(u.default,{size:"small",border:"hide"},n?"Компания поднимется в результатах поиска, а зелёная метка сделает вас заметнее среди конкурентов":"Этот знак получают организации, владелец которых подтвержден и поддерживает данные на карточке в актуальном состоянии.",a&&!(0,m.m)(e.config)?i.createElement(l.ZP,{name:n?"order_link":"verify_link",logClick:!0},i.createElement("a",{className:g("link"),href:a,target:"_blank"}," "+(n?"Подключить для своей организации":"Подробнее"))):null)},t._renderDropdown=function(){var e=t.props,n=e.isAdvert;return i.createElement(c.Z,{content:t._renderDropdownContent(),icon:i.createElement(p.Z,{name:n?"mark-priority-24-flip":"mark-actual-24",theme:e.theme,inline:!0}),keepIconColor:!0,delimiter:null,hideCardBorder:!0},i.createElement("div",{className:g("title")},n?"Рекламировать компанию в Яндекс Картах":"Владелец следит за актуальностью информации"))},t._renderContent=function(){var e=t.props;return e.isAdvert||e.isVerified?t._renderDropdown():e.hideBecomeOwner?null:t._renderBecomeOwner()},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=this._renderContent();return t?i.createElement("section",{className:g({wide:e.isWideCard})},t):null},t}(i.PureComponent))},20630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(18007),i=n(87363),a=n(28216),o=n(44748),s=n(31336),l=n(10958),c=n(91713),u=n(60517),d=n(87843),m=n(36768),p=n(91410),v=n(49267),f={openBooking:p.Z.open},h=a.$j(null,f),g=(0,o.Z)("business-phones-dialog-view"),_=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderPhones=function(){var e=t.props;return e.phones.map(function(t,n){var r;return i.createElement(d.default,{title:(0,l.yZ)(t,e.config),icon:i.createElement(v.Z,{name:"call-24",inline:!0}),key:n},i.createElement(u.ZP,{name:"call_phone",logClick:!0,metrikaGoal:"goal_deepuse"},i.createElement("a",{href:"tel:"+(null!=(r=t.value)?r:t.number),className:g("link"),target:e.config.isAliceIframe?"_blank":"_parent",dir:"ltr"},t.number)))})},t._renderBookingLink=function(){var e=t.props,n=e.bookingCompanyInfo;return n?i.createElement(u.ZP,{name:"booking_button",logClick:!0,metrikaGoal:"goal_deepuse"},i.createElement(d.default,{iconUrl:m.G({name:"reservation-24"},e.config),onClick:function(){return e.openBooking({company:n,userBookings:e.userBookings},"booking")}},i.createElement("div",{className:g("link")},"Записаться онлайн"))):null},t._renderContent=function(){return i.createElement(u.ZP,{name:"phones_list"},t._renderBookingLink(),t._renderPhones())},t}return(0,r._)(t,e),t.prototype.render=function(){return i.createElement(c.Z,{title:"Все телефоны",content:this._renderContent(),hideOnContentClick:!!this.props.bookingCompanyInfo},this.props.children)},t}(i.PureComponent),y=h((0,s.ZP)(_))},5245:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(87363),i=(0,n(44748).Z)("business-photo-list-skeletons"),a=function(){var e=Array.from([,,,,,]).map(function(e,t){return r.createElement("div",{key:t,className:i("item")})});return r.createElement("div",{className:i()},r.createElement("div",{className:i("column")},e),r.createElement("div",{className:i("column")},e),r.createElement("div",{className:i("column")},e))}},14460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(18007),i=n(87363),a=n(44748),o=n(90585),s=n(31336),l=n(55057),c=n(60517),u=n(22370),d=n(85130),m=(0,a.Z)("business-post-card-view"),p=(0,s.ZP)(function(e){var t=e.post,n=u.wQ(new Date(t.publicationTime),0);return i.createElement("div",{className:m()},i.createElement("div",{className:m("content")},i.createElement("div",{className:m("text"),dir:"auto"},t.text),t.photos.length>0?i.createElement("div",{className:m("photo"),style:{backgroundImage:"url("+t.photos[0].urlTemplate.replace("%s","M")+")"}}):null),i.createElement("div",{className:m("date")},(0,d.o0)(n,e.config)))}),v=n(2693),f=n(81194),h=(0,a.Z)("add-action-view"),g=function(e){var t=e.onDetailsClick;return i.createElement("div",{className:h()},i.createElement("a",{"aria-label":e.text,className:h("content"),href:e.url,target:"_blank"},i.createElement("div",{className:h("children")},e.children),i.createElement("div",{className:h("link")},e.text)),t?i.createElement("div",{className:h("button")},i.createElement(f.Z,{view:"secondary-gray",size:"small",onClick:function(){return t()}},"Подробнее")):null)},_=n(61478),y=n(31651),b=n(7098),E=n(87843),k=n(49267),w=n(94542),Z=n(33106),C=n(66395),N=(0,a.Z)("business-event-card-view"),P=function(e){let t;var n,r,a,o,l=(0,s.ZR)(),c=e.event,u=c.photos[0],d=null==(n=C.sc(c,l))?void 0:n.text;return i.createElement("div",{className:N()},i.createElement("div",{className:N("content")},i.createElement("div",{className:N("info")},i.createElement("div",{className:N("title")},c.name),i.createElement("div",{className:N("type-description")},(e=>{switch(e.type){case"children":return"Для детей\n";case"cinema":return"Кино\n";case"concert":return"Концерт\n";case"conference":return"Конференция\n";case"excursion":return"Экскурсия\n";case"exhibition":return"Выставка\n";case"forum":return"Форум\n";case"lecture":return"Лекция\n";case"master_class":return"Мастер-класс\n";case"musical":return"Музыка\n";case"occasion":return"Мероприятие\n";case"quest":return"Квест\n";case"show":return"Шоу\n";case"sports":return"Спорт\n";case"stand_up":return"Стендап\n";case"tasting":return"Дегустация\n";case"thematic_dinner":return"Тематический ужин\n";case"training":return"Тренинг\n";case"webinar":return"Вебинар\n";default:return"Мероприятие"}})(t={type:c.type,minAge:c.minAge})+(t.minAge?" · "+t.minAge+"+":""))),c.photos.length?i.createElement("div",{className:N("photo"),style:{backgroundImage:"url("+(null==(o=u.urlTemplate)?void 0:o.replace("%s",(null==(r=u.possibleSizes)?void 0:r.find(function(e){return"M"===e}))||(null==(a=u.possibleSizes)?void 0:a[0])||"M"))+")"}}):null),d?i.createElement("div",{className:N("date")},d):null)},S=n(88265),x=(0,a.Z)("business-posts-card-view"),T=(0,o.Z)(s.ZP,l.ZP)(function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._openPostDialog=function(e){t.props.onPostClick({uri:e.uri})},t._openPostsListDialog=function(){t.props.onPostClick()},t._renderItem=function(e){return S.s(e.uri)&&"event"===e.itemType?i.createElement(c.ZP,{name:"business_post",nodeState:{type:e.type,itemType:e.itemType},logClick:!0,key:e.id},i.createElement(w.Z,{className:x("item"),onClick:function(){return t._openPostDialog(e)}},i.createElement(P,{event:e}))):i.createElement(c.ZP,{name:"business_post",nodeState:{itemType:"post"},logClick:!0,key:e.id},i.createElement(w.Z,{className:x("item"),onClick:function(){return t._openPostDialog(e)}},i.createElement(p,{post:S.s(e.uri)?S.l(e):e})))},t._renderCarousel=function(e){return i.createElement(v.Z,{theme:"black",clickStep:2,itemsGap:8,expandWidth:{left:80,right:80}},e.map(t._renderItem))},t._renderButton=function(){var e=t.props;return e.editPostUrl?i.createElement("div",{className:x("button")},i.createElement(_.Z,{url:e.editPostUrl})):null},t._renderItems=function(){var e=t.props;return e.previews?i.createElement("div",{className:x("items")},t.props.isWideCard?t._renderCarousel(e.previews.items):t._renderItem(e.previews.items[0])):null},t._renderAddPost=function(){var e=t.props;return i.createElement("div",{className:x("add-post")},i.createElement(g,{text:"Добавить новость",url:e.editPostUrl},i.createElement(b.Z,{logoUrl:e.logoUrl})))},t._renderSeeAllPostsButton=function(){var e,n,r=t.props,a=(null==(e=r.previews)?void 0:e.count)?"("+(null==(n=r.previews)?void 0:n.count)+")":"";return i.createElement(c.ZP,{name:"posts_see_all",logClick:!0},i.createElement("div",{className:x("see-all")},i.createElement(E.default,{view:"link",icon:i.createElement(k.Z,{name:"today-24",inline:!0}),onClick:t._openPostsListDialog},"Все новости "+a)))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=e.isWideCard;if(!e.previews&&!e.editPostUrl)return e.keywords?i.createElement(i.Fragment,null,i.createElement(y.Z,{type:"h2"},"Новости"),i.createElement(Z.Z,{name:"posts",texts:e.keywords})):null;var n=e.previews&&(t?e.previews.count>e.previews.items.length:e.previews.count>1);return i.createElement("div",{className:x({wide:t,add:!!(!e.previews&&e.editPostUrl)})},i.createElement(y.Z,{type:"h2"},"Новости"),i.createElement("div",{className:x("content")},e.previews?i.createElement(i.Fragment,null,this._renderItems(),this.props.editPostUrl?this._renderButton():null,n?this._renderSeeAllPostsButton():null):this.props.editPostUrl?this._renderAddPost():null),i.createElement(Z.Z,{name:"posts",texts:e.keywords}))},t}(i.Component))},36428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(87363),i=(0,n(44748).Z)("business-posts-skeletons"),a=function(){return r.createElement("div",{className:i()},Array.from([,,,,,]).map(function(e,t){return r.createElement("div",{key:t,className:i("item")},r.createElement("div",{className:i("date")}),r.createElement("div",{className:i("images")},r.createElement("div",{className:i("image")}),r.createElement("div",{className:i("image")}),r.createElement("div",{className:i("image")})),r.createElement("div",{className:i("text1")}),r.createElement("div",{className:i("text2")}),r.createElement("div",{className:i("button")}))}))}},22535:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(18007),i=n(87363),a=n(44748),o=n(31336),s=n(73999),l=n(3148),c=n(49267),u=n(4244),d=(0,a.Z)("business-quarantine-warning-view"),m=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderExpandButton=function(e){return i.createElement(i.Fragment,null,i.createElement(c.Z,{ariaLabel:e.isCollapsed?"Развернуть":"Свернуть",name:"arrow-down-8",className:d("expand-button",{collapsed:e.isCollapsed}),onClick:e.onClick,inline:!0}),e.isCollapsed?i.createElement("div",{"aria-hidden":!0,className:d("invisible-inset-button"),onClick:e.onClick}):null)},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=e.result.businessProperties;if(!t||!t.closed_for_quarantine&&!t.closed_for_visitors&&!t.closed_for_without_qr)return null;var n="Режим работы организации мог измениться. Свяжитесь с ней, чтобы уточнить.";if(t.closed_for_visitors){var r,a=(null!=(r=e.result.features)?r:[]).map(function(e){return e.id}).filter(Boolean),o=[];v(a,["food_delivery","food_product_delivery","delivery_medicines","delivery","goods delivery"])&&o.push(p("delivery",e.config)),v(a,["takeaway"])&&o.push(p("takeaway",e.config)),v(a,["pickup"])&&o.push(p("pickup",e.config)),v(a,["home_visit","mobile_tire_service"])&&o.push(p("homeVisit",e.config)),n=0===o.length?"Организация может работать дистанционно или с ограничением на посещение. Свяжитесь с ней, чтобы уточнить.":"Организация работает дистанционно: есть "+({options:o.join(", ")}).options+"."}t.closed_for_without_qr&&(n=i.createElement("span",null,"Возможно, организация работает дистанционно — уточняйте."));var c=t.closed_for_without_qr?"Вход по QR-коду":t.closed_for_visitors?"Закрыто для посещения":null;return i.createElement(s.Z,{view:"attention",analyticsType:"quarantine",leftSlot:i.createElement(l.Z,{view:"attention"})},c?i.createElement("div",{className:d("title")},c):null,i.createElement(u.Z,{lines:3,lineHeight:16,renderButton:this._renderExpandButton},n),t.closed_for_without_qr?i.createElement("a",{className:d("get-qr-code-link"),href:"https://yandex.ru/search/?text=как%20получить%20qr%20код%20",target:"_blank",onClick:function(e){return e.stopPropagation()}},"Как получить QR-код?"):null)},t}(i.Component);function p(e,t){return(e=>{switch(e.type){case"delivery":return"доставка";case"takeaway":return"еда навынос";case"pickup":return"самовывоз";case"homeVisit":return"выезд на дом";default:return""}})({type:e})}function v(e,t){return e.some(function(e){return t.includes(e)})}var f=(0,o.ZP)(m)},90721:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(87363),i=n(44748),a=n(60517),o=(0,i.Z)("business-rating-amount-view"),s=function(e){let t;return r.createElement(a.ZP,{name:"ratings_amount"},r.createElement("span",{className:o({summary:e.isSummary})},(t={count:e.ratingCount}).count?t.count+" "+(t.count%10==1&&t.count%100!=11?"оценка":t.count%10>1&&t.count%10<5&&(t.count%100<10||t.count%100>20)?"оценки":"оценок"):"Ещё нет оценок"))}},3780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(87363),i=n(90585),a=n(44748),o=n(49267),s=n(60517),l=n(31336),c=n(21469),u=n(14246),d=n(85172),m=function(e,t){var n=r.useRef(Intl.NumberFormat(e,t));return function(e){return n.current.format(e).replace(",",".")}},p=(0,a.Z)("business-rating-badge-view"),v=(0,i.Z)(l.ZP,d.ZP)(function(e){var t=m(e.config.lang,{maximumFractionDigits:1}),n=Math.round(2*e.ratingValue),i=Math.floor(n/2),a=!1;2*i!==n&&(a=!0);var l=e.size||"m",d=e.weight||"medium",v=e.collapseStars?1:5,f=e.ratingSpacing||"normal",h=t(e.ratingValue),g=Number(h)>v?v:h;return r.createElement(s.ZP,{name:"business_rating"},r.createElement("div",{className:p({size:l,weight:d})},r.createElement("div",{"aria-label":"Оценка "+g+" Из "+v,className:p("stars",{spacing:f})},Array(v).fill(null).map(function(t,n){var s=a&&n===i,l=n>=(a?i+1:i);return r.createElement(o.Z,{name:s?"place-half-star-16-fullsize-16-flip":"place-rating-star-16-fullsize-16",className:p("star",{full:!l&&!s,empty:l,half:s}),theme:s?e.theme:void 0,key:n,inline:!0})})),e.onlyStars?null:r.createElement("div",{className:p("rating")},r.createElement(u.Z,null,"Рейтинг"," "),r.createElement("span",{className:p("rating-text")},c.D$(e.ratingValue,e.config.lang,{min:1,max:1})))))})},93219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(87363),i=n(44748),a=n(60517),o=n(22471),s=n(90585),l=n(55057),c=n(31336),u=n(94542),d=n(49267),m=(0,i.Z)("business-rating-edit-view"),p=(0,s.Z)(l.ZP,c.ZP)(function(e){return r.createElement("div",{className:m()},o.w.map(function(t){let n;var i=t<=(e.rating||0);return r.createElement(a.ZP,{key:t,name:"star",nodeState:{score:t,selected:i},logClick:!0},r.createElement(u.Z,{ariaPressed:i,ariaLabel:(n={count:t}).count+" "+(n.count%10==1&&n.count%100!=11?"звезда":n.count%10>1&&n.count%10<5&&(n.count%100<10||n.count%100>20)?"звезды":"звезд"),onClick:function(){return e.onRatingClick(t)},className:m("star",{selected:i,size:e.size||"s",wide:e.isWideCard})},r.createElement(d.Z,{name:e.size&&"s"!==e.size?"star-36x33":"star-24",className:m("icon"),inline:!0})))}))})},43310:(e,t,n)=>{"use strict";var r=n(18007),i=n(87363),a=n(44748),o=n(31336),s=n(11920),l=n(52869),c=n(87843),u=n(63558),d=n(60517),m=n(75494),p=n(79039),v=n(35501),f=(0,a.Z)("business-similar-places"),h={padding:64},g=function(e){function t(t){(n=e.call(this,t)||this)._itemsLoaded=function(e){var t,r=null==(t=v.Y(e.items))?void 0:t.relatedPlaces;if(r&&0!==r.length){var i=r.find(function(e){return!!e.category}),a=r.filter(function(e){return!!e.photoUrlTemplate});i&&0!==a.length&&n.setState({items:a,category:i.category})}};var n,r,i=t.preloadedResults||[],a=i.find(function(e){return!!e.category});return n.state={items:i,category:(null==a?void 0:a.category)||(null==(r=t.category)?void 0:r.name)},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.items.length>0||(this._loadRelatedAction=l.Z.create(s.Z.fetch({mode:"uri",uri:this.props.result.uri,snippets:this.props.config.search.relatedSnippets,origin:"related"},this.props.config),{success:this._itemsLoaded}))},n.componentWillUnmount=function(){l.Z.cancel(this._loadRelatedAction)},n.render=function(){var e,t,n=this.state,r=n.category;if(0===n.items.length)return null;var a=this.props,o=a.onCategoryClick;return i.createElement(d.ZP,{name:a.analyticsName},i.createElement("div",{className:f()},"list"===a.view?i.createElement(m.Z,{items:n.items,category:a.category,placeholder:i.createElement(p.Z,null),onClick:a.onResultClick,onShowMoreClick:o?function(e){return o(e,{origin:"places-nearby"})}:void 0}):i.createElement(i.Fragment,null,i.createElement(u.Z,{searchBounds:null!=(t=a.result.bounds)?t:null,serpId:a.serpId,label:a.config.experiments.ui.similarPlacesChangeTitle?"Смотрите также":"Похожие места рядом",items:n.items,category:null==(e=a.category)?void 0:e.name,wide:a.wide,carouselOptions:a.wide?h:void 0}),r&&o&&!a.wide&&!a.config.experiments.ui.similarPlacesHideShowMoreButton?i.createElement("div",{className:f("show-all")},i.createElement(d.ZP,{name:"category",logClick:!0},i.createElement(c.default,{iconUrl:null,onClick:function(){return o({name:r},{origin:"places-nearby"})},view:"link"},"Посмотреть все"))):null)))},t}(i.PureComponent);t.Z=(0,o.ZP)(g)},37796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(87363),i=n(28216),a=n(44748),o=n(49267),s=n(28661),l=n(60517),c=n(94542),u=n(13923),d=n(33106),m=(0,a.Z)("business-story-entry-view"),p=function(e){var t,n,a,p,v=i.I0(),f=function(){v(u.Z.openStorytelling(e.result))};return r.createElement(l.ZP,{name:"business_discovery_story_entry",nodeState:{title:e.storytellingPreview.title,logId:e.result.logId,reqid:e.result.requestId,uri:e.result.uri},logClick:!0},r.createElement(c.Z,{className:m(),onClick:function(e){e.stopPropagation(),e.preventDefault(),f()},ariaHidden:!0},r.createElement("div",{className:m("title")},e.storytellingPreview.title),r.createElement("div",{className:m("description")},e.storytellingPreview.description),r.createElement("div",{className:m("images")},e.storytellingPreview.imageTemplates.slice(0,2).map(function(e,t){var n="url("+e.replace("%s","L")+")";return r.createElement("div",{key:t,className:m("image"),style:{backgroundImage:n}},0===t?r.createElement(o.Z,{className:m("play-icon"),name:"play-24",inline:!0}):null)}))),r.createElement(s.Z,{chunk:"storytelling"}),r.createElement(d.Z,{name:"storytelling",texts:null==(n=e.result.seoRobots)?void 0:null==(t=n.storyTellingKeywords)?void 0:t.filter(function(t){return t!==e.storytellingPreview.description})}),r.createElement(d.Z,{name:"storytelling-videos"},null==(p=e.result)?void 0:null==(a=p.storytellingData)?void 0:a.media.filter(function(e){return"video"===e.type}).map(function(e){return r.createElement("video",{key:e.id,pip:"false"},r.createElement("track",{kind:"captions",src:e.videoUrl}))})))}},14843:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(18007),i=n(87363),a=n(31336),o=n(4244),s=n(60517),l=n(44748),c=n(94542),u=(0,l.Z)("business-summary"),d=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderExpandButton=function(e){return i.createElement(s.ZP,{name:"expand",logClick:!0},i.createElement(c.Z,{tag:"span",className:u("expand-button"),onClick:e.onShowClick},"Ещё"))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=e.result;return t.summary?i.createElement(s.ZP,{name:"summary"},i.createElement("div",{className:u()},i.createElement(o.Z,{sharedKey:t.id,renderButton:this._renderExpandButton,lines:4,lineHeight:16,alwaysCollapsed:e.alwaysCollapsed},i.createElement("span",{className:u("text")},t.summary)))):null},t}(i.Component),m=(0,a.ZP)(d)},79039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(87363),i=n(36887),a=(0,n(44748).Z)("business-tab-placeholder"),o=function(){return r.createElement("div",{className:a()},r.createElement(i.Z,{view:"small",withoutMargin:!0}))}},93561:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(18007),i=n(87363),a=n(44748),o=n(31336),s=n(6241),l=n(91713),c=n(60517),u=n(87843),d=n(49267),m=(0,a.Z)("business-urls-dialog-view"),p=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderContent=function(){return i.createElement(c.ZP,{name:"urls"},t.props.urls.map(function(e,t){return i.createElement(u.default,{icon:i.createElement(d.Z,{name:"website-24-flip",inline:!0}),key:t,noSidePadding:!1},i.createElement(c.ZP,{name:"url",metrikaGoal:"deepuse",gaGoal:"site.contacts.click.website",logClick:!0,nodeState:{url:e}},i.createElement("a",{className:m("link"),href:e,target:"_blank",rel:"nofollow"},s.cropUrlForDisplay(e,0===t))))}))},t}return(0,r._)(t,e),t.prototype.render=function(){return i.createElement(l.Z,{title:"Все сайты",content:this._renderContent()},this.props.children)},t}(i.PureComponent),v=(0,o.ZP)(p)},20478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(34788),i=n(18007),a=n(11640),o=n(87363),s=n(44748),l=n(31336),c=n(55057),u=n(60517),d=n(6018),m=n(87843),p=n(6241),v=n(49267),f=(0,s.Z)("business-urls-view"),h=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._onUrlClick=function(e){e.stopPropagation()},t._renderUrl=function(e,n){var r=t.props.domainName,i=p.cropUrlForDisplay(e,n),a=t.props.newContacts;return o.createElement("div",{className:f("url")},o.createElement(u.ZP,{name:"site_link",metrikaGoal:t.props.metrikaGoal||"deepuse",gaGoal:"site.contacts.click.website",nodeState:{url:e},logClick:!0},o.createElement("a",{itemProp:"url",className:f("link",{expanded:!a}),href:e,onClick:t._onUrlClick,target:"_blank",rel:"nofollow"},o.createElement("span",{className:f("text")},r||i))))},t._renderDropdownContent=function(e){if(0===e.length)return null;var n=t.props,r=n.newContacts;return o.createElement("div",{className:f("list",{new:r,"hide-last-border":n.hideLastBorder})},e.map(function(i,a){return o.createElement(m.default,{key:a,className:r?void 0:f("regular"),view:r?void 0:"link",size:r?"large":"small",border:r&&!(n.hideLastBorder&&a===e.length-1)?"show":void 0},t._renderUrl(i,!1))}))},t._renderDropdown=function(){var e=t.props,n=e.urls,i=(0,a._)(n),s=i[0],l=i.slice(1),c=e.newContacts,u=n.length-1,m={content:t._renderDropdownContent(l),value:u,onClick:c?void 0:function(){},view:c?void 0:"link",icon:c?void 0:o.createElement(v.Z,{name:"website-24-flip",inline:!0}),size:c?"small":void 0,children:t._renderUrl(s,!0)};return o.createElement(d.Z,(0,r._)({},m,{hideCardBorder:c,delimiter:c?null:void 0}))},t}return(0,i._)(t,e),t.prototype.render=function(){return o.createElement(u.ZP,{name:"site_links"},o.createElement("div",{className:f({wide:this.props.isWideCard})},this._renderDropdown()))},t}(o.Component),g=(0,c.ZP)((0,l.ZP)(h))},58865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(18007),i=n(87363),a=n(90585),o=n(60517),s=n(44748),l=n(49267),c=n(31336),u=n(92616),d=n(3558),m=n(797),p=n(37830),v=n(85172),f=n(94542),h=(0,s.Z)("business-verified-badge"),g={link:"Подключить для своей организации",text:"Поднимает организацию в списке по профильным запросам.",title:"Приоритетное размещение"},_={link:"Подробнее",text:"Этот знак получают организации, владелец которых подтвержден и поддерживает данные на карточке в актуальном состоянии.",title:"Владелец следит за актуальностью информации"},y=(0,a.Z)(c.ZP,v.ZP)(function(e){function t(t){var n;return(n=e.call(this,t)||this)._icon=null,n._showTimeout=null,n._showPopup=function(e){if(e&&e.immediate){n.setState({isPopupShown:!0});return}n._showTimeout||(n._showTimeout=window.setTimeout(function(){return n.setState({isPopupShown:!0})},500))},n._hidePopup=function(){n._clearTimeout(),n.setState({isPopupShown:!1})},n._clearTimeout=function(){n._showTimeout&&(window.clearTimeout(n._showTimeout),n._showTimeout=null)},n._onClick=function(e){e.stopPropagation()},n._renderPopup=function(){var e=n.props,t=n.state,r=d.x(e.result),a=r?g:_,s=r?e.config.advertLandingUrl?e.config.advertLandingUrl+"?utm_source=webmaps&utm_medium=tip&utm_campaign=webmaps_gptip":null:"http://yandex.ru/support/sprav/manage/verified-owner.html";return i.createElement(u.Z,{isShown:t.isPopupShown,position:"right-bottom",restrictPosition:!0,onScroll:"reposition",showArrow:!1,type:"map-hint",offset:{main:-3,side:0},getTarget:function(){return n._icon},onClose:n._hidePopup},i.createElement(o.ZP,{name:r?"priority_advert_popup":"verified_popup",logClick:!0},i.createElement(f.Z,{className:h("order",{prioritized:r}),onMouseEnter:function(){return n._showPopup({immediate:!0})},onMouseLeave:n._hidePopup,onClick:n._onClick},i.createElement("div",{className:h("order-img")}),i.createElement("div",{className:h("order-title")},a.title),i.createElement("div",{className:h("order-text")},a.text),s&&!(0,p.m)(e.config)?i.createElement(o.ZP,{name:"order_link",logClick:!0},i.createElement("a",{href:s,target:"_blank",className:h("order-link")},a.link)):null)))},n.state={isPopupShown:!1},n}(0,r._)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._clearTimeout()},n.render=function(){var e=this,t=this.props,n=d.x(t.result),r=m.B(t.result);return n||r?i.createElement(i.Fragment,null,i.createElement(o.ZP,{name:n?"priority_advert_badge":"verified_badge"},i.createElement("span",{ref:function(t){e._icon=t},className:h({prioritized:n}),onMouseEnter:t.hidePopup?void 0:function(){return e._showPopup()},onMouseLeave:this._hidePopup,"aria-hidden":!0},i.createElement(l.Z,{name:n?"mark-priority-superscript-12-flip":"mark-actual-superscript-12",theme:t.theme,inline:!0}))),this._renderPopup()):null},t}(i.Component))},72146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(18007),i=n(87363),a=n(44748),o=n(55057),s=n(60517),l=n(87843),c=n(93522),u=n(31336),d=(0,a.Z)("business-working-intervals-view"),m=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderInterval=function(e,n){var r=t.props.isInCard,a=e.isToday?i.createElement("div",{className:d("current-icon")}):void 0,o=Array.isArray(e.text)?e.text:[e.text];return i.createElement(l.default,{className:r?void 0:d("period",{today:e.isToday}),size:"small",icon:r?a:null,iconUrl:r?void 0:null,key:n,border:"hide",noSidePadding:!!r&&void 0},i.createElement(c.Z,{isDisabled:!e.changedDate,position:["right"],text:"Праздничный день"},function(t){return i.createElement("div",{role:"row",className:d("item"),ref:t},e.changedDate?i.createElement("div",{role:"cell",className:d("day")},e.dayName,i.createElement("span",null,", "),i.createElement("span",{className:d("date")},e.changedDate)):i.createElement("div",{role:"cell",className:d("day")},e.dayName),i.createElement("div",{role:"cell",className:d("intervals",{weekend:e.isWeekend})},o.map(function(e,t){return i.createElement("div",{key:t,className:d("interval")},e.replace(/\s/g,""))})))}))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement(s.ZP,{name:"content"},i.createElement("div",{role:"table",className:d({wide:e.isWideCard,card:e.isInCard})},e.intervals.map(this._renderInterval)))},t}(i.Component),p=(0,o.ZP)((0,u.ZP)(m))},86340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(18007),i=n(87363),a=n(44748),o=n(70289),s=n(31336),l=n(60517),c=n(34257),u=n(91713),d=n(72146),m=function(e){function t(){return e.apply(this,arguments)}return(0,r._)(t,e),t.prototype.render=function(){return i.createElement(u.Z,{title:"График работы",content:i.createElement(d.Z,{intervals:this.props.intervals})},this.props.children)},t}(i.PureComponent),p=n(16230),v=n(94542),f=(0,a.Z)("business-working-status-flip-view"),h=function(e){function t(){return e.apply(this,arguments)}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=e.result,n=o.bL(t,e.config)||[],r=o.f4(t,e.config),a=n.length>0;return i.createElement(l.ZP,{name:"working_status",logClick:!0},function(e){var o=e.wrapClick;return i.createElement(m,{intervals:n},function(e){var n=e.onClick,s=e.isVisible;return i.createElement(i.Fragment,null,i.createElement(v.Z,{className:f({clickable:a}),onClick:a?o(n):void 0,ariaHasPopup:a},i.createElement(p.Z,{result:t}),a?i.createElement("div",{className:f("control")},i.createElement(c.Z,{isFlipped:s})):null),r?i.createElement("div",{className:f("hint")},r):null)})})},t}(i.PureComponent),g=(0,s.ZP)(h)},16230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(87363),i=n(31336),a=n(44748),o=n(70289),s=n(87342),l=(0,a.Z)("business-working-status-view"),c=function(e){var t=(0,i.ZR)(),n=o.lR(e.result,t,{showMoved:!0}),a=r.createElement("div",{className:l(n.state)},n.text);return"open"===e.result.status?r.createElement(s.Z,{tag:"div"},a):a}},95102:(e,t,n)=>{"use strict";var r=n(18007),i=n(87363),a=n(80129),o=n.n(a),s=n(31336),l=n(60517),c=n(76071),u=n(73442),d=n(10958),m=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onClick=function(e){var t=n.props;"tel"===t.type?n.setState({isTelButtonClicked:!0}):t.iframe&&!t.preferNewTab&&(e.preventDefault(),n.setState({isFrameOpened:!0}))},n._onIframeClose=function(){n.setState({isFrameOpened:!1})},n._renderFrame=function(){var e=n.props,t=n.state;if(!e.iframe||!e.value)return null;var r={border:"none",width:e.iframe.width,height:e.iframe.height},a=e.value;if(a.includes("/business/widget/request/company/")){var s=["utm_ya_campaign","utm_banner_type","utm_ya_rubric","yabizcmpgn","yclid"].reduce(function(t,n){return e.config.query[n]&&(t[n]=e.config.query[n]),t},{}),l=a.includes("?")?"&":"?",c=o().stringify(s);a=""+a+(c&&""+l+c)}return i.createElement(u.Z,{isOpen:t.isFrameOpened,href:a,iframeStyle:r,onClose:n._onIframeClose,fullView:!0})},n.state={isFrameOpened:!1,isTelButtonClicked:!1},n}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=this.state.isTelButtonClicked,n="tel"===e.type,r=n&&t?"+"+d.CN(e.value,"7 923 456 78 90"):e.title,a=n?t||e.config.uatraits.isPhone?"tel:+"+e.value:void 0:e.value;return i.createElement(l.ZP,{name:"cta_button",nodeState:{actionType:e.type,title:r,url:a},metrikaGoal:e.metrikaGoal,gaGoal:"site.main_action.click",logClick:!0},this._renderFrame(),i.createElement(c.Z,{view:e.view,type:"action_button",rel:"nofollow",text:r,url:a,target:n?void 0:"_blank",onClick:this._onClick,isStretched:e.isStretched,size:e.size}))},t}(i.PureComponent);t.Z=(0,s.ZP)(m)},47105:(e,t,n)=>{"use strict";n.r(t);var r=n(34788);n(28450);var i=n(87363),a=n(44748),o=n(70457),s=n(76071),l=n(31336),c=(0,o.Z)({resolved:{},chunkName:function(){return"bookmarks-action-button"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("bookmarks-action-button").then(n.bind(n,30079))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 30079}}),u=(0,a.Z)("bookmark-action-button");t.default=function(e){return(0,l.ZR)(),i.createElement(c,{subject:e.subject,additionalMetrikaGoal:e.additionalMetrikaGoal,key:"bookmark"},function(t){var n=t.saved,a=t.disabled,o=t.ref,l=t.onClick,c=t.onHover,d=t.isOpen,m=e.withText?{text:n?"Удалить":"Сохранить",ariaExpanded:d}:{ariaLabel:"Закладки",ariaExpanded:d};return i.createElement(s.Z,(0,r._)({type:"bookmark",onClick:l,onHover:c,icon:{name:n?"bookmark-filled-24":"bookmark-24",className:u("icon",{saved:n})},mods:{saved:n,disabled:a}},m,{nodeRef:o}))})}},73286:(e,t,n)=>{"use strict";var r=n(87363),i=n(28216),a=n(76071),o=n(97032);t.Z=function(e){var t=i.I0();return r.createElement(a.Z,{text:"Написать отзыв",icon:{name:"write-review-24"},type:"review",view:e.view||"primary",analytics:"write_review",onClick:function(){return t(o.Z.editReview(e.result))}})}},58495:(e,t,n)=>{"use strict";var r=n(34788),i=n(87363),a=n(76071);t.Z=function(e){var t={text:e.text||"Маршрут",icon:{name:"navi-24-flip"}};e.withoutIcon&&(t.text="Маршрут",delete t.icon),e.withoutText&&delete t.text;var n=["goal_deepuse"],o={analytics:"build_route",metrikaGoal:e.additionalMetrikaGoal?n.concat(e.additionalMetrikaGoal):n,gaGoal:"site.contacts.click.route"},s=e.url?{url:e.url,target:e.target}:{onClick:e.onClick};return i.createElement(a.Z,(0,r._)({},t,o,{isStretched:e.isStretched,type:"route",size:e.size,view:e.pessimizeColor?"secondary-blue":e.view||"primary",hint:e.withoutHint?null:"Проложить маршрут"},s))}},80243:(e,t,n)=>{"use strict";var r=n(34788),i=n(87363),a=n(28216),o=n(76071),s=n(57067),l=n(6090),c=n(31336),u={onClick:s.Z.open},d=a.$j(null,u);t.Z=d(function(e){(0,c.ZR)();var t="Отправить в телефон",n=e.withText?{text:t}:{ariaLabel:t};return i.createElement(l.Z,{openOptions:e.options},function(a){var s=a.onClick;return i.createElement(o.Z,(0,r._)({view:e.view,type:"send-to-phone",analytics:"send_to_phone",hint:t,icon:{name:"send-to-phone-24-flip"},onClick:s,metrikaGoal:e.metrikaGoal},n))})})},62198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(34788),i=n(18007),a=n(20224),o=n(87363),s=n(44748),l=n(76071),c=n(91375),u=n(31336),d=(0,s.Z)("share-action-button"),m=function(e){function t(){return e.apply(this,arguments)}return(0,i._)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.withText,i=(0,a._)(t,["withText"]),s="Поделиться",u=n?{text:s}:{ariaLabel:s};return o.createElement(c.Z,i,function(t){var n=t.onClick,i=t.isExpand;return o.createElement(l.Z,(0,r._)({type:"share",analytics:"share",hint:"Поделиться",icon:{name:"share-24-flip",className:d("icon")},onClick:n,metrikaGoal:e.props.metrikaGoal,ariaExpanded:i},u))})},t}(o.Component),p=(0,u.ZP)(m)},78339:(e,t,n)=>{"use strict";var r=n(87363),i=n(76071),a=n(31336),o=n(29375);t.Z=function(e){var t=(0,a.ZR)(),n=e.taxi,s=n.priceText?"от "+({price:n.priceText}).price:"",l=o.V(n.link,{ref:e.analyticsRefId},t);return r.createElement(i.Z,{type:"taxi",analytics:"get_taxi_button",text:s,icon:{name:t.isYango?"yango-taxi-24":"ya-taxi-24"},url:l,target:"_blank"})}},2027:(e,t,n)=>{"use strict";var r=n(87363),i=n(76071);t.Z=function(e){return r.createElement(i.Z,{type:"underground",text:"Схема метро",hint:"Открыть схему в Яндекс Метро",analytics:"metro_link",url:e.link.href,target:"_blank"})}},16854:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(18007),i=n(87363),a=n(44748),o=n(60517),s=n(2693),l=(0,a.Z)("card-actions-view"),c=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._preventBubbling=function(e){e.stopPropagation(),e.nativeEvent.stopPropagation()},t}return(0,r._)(t,e),t.prototype.render=function(){return i.createElement(o.ZP,{name:"actions"},i.createElement("div",{className:l()},i.createElement("div",{role:"presentation",className:l("bar",{"with-badge":this.props.hasBadge}),onClick:this._preventBubbling},i.createElement(s.Z,{itemsGap:8,buttonSize:"m",padding:this.props.hasBadge?[11,16,0,16]:16},i.Children.toArray(this.props.children)))))},t}(i.Component)},11811:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(18188),i=n(87363),a=n(28216),o=n(44748),s=n(60517),l=n(31651),c=n(81194),u=n(3780),d=n(91410),m=n(87843),p=n(49267),v=n(21511),f=n(23722),h=n(31336),g=n(94542),_=n(9053),y=n(53106),b=(0,o.Z)("card-booking-widget-view"),E=function(e){return i.createElement("div",{className:b("tabs-wrapper")},i.createElement("div",{className:b("tab")},i.createElement(s.ZP,{name:"services_tab",nodeState:{active:"services"===e.active},logClick:!0},i.createElement(c.Z,{view:"secondary-gray",size:"medium",onClick:e.onServicesClick,checked:"services"===e.active},"Услуги"))),i.createElement("div",{className:b("tab")},i.createElement(s.ZP,{name:"resources_tab",nodeState:{active:"resources"===e.active},logClick:!0},i.createElement(c.Z,{view:"secondary-gray",size:"medium",onClick:e.onResourcesClick,checked:"resources"===e.active},"Специалисты"))))},k=function(e){var t=(0,h.ZR)(),n=e.services.slice(0,3),o=n.some(function(e){return e.photoLink}),l=a.I0(),c=(0,v.HU)(),u=(0,r._)(i.useState(),2),m=u[0],p=u[1],_=n.map(function(e){return e.sourceId}).join(",");return i.useEffect(function(){var n=_.split(",");n&&0!==n.length&&f.Z.getNearestDates({serviceIds:n,permalink:e.companyInfo.permalink},t).then(function(e){!e||"error"in e||p(e)})},[t,e.companyInfo.permalink,_]),i.createElement("div",{className:b("services")},n.map(function(n){var r=n.price,a=w(t,o,c,n.photoLink);return i.createElement(s.ZP,{name:"service",key:n.sourceId,nodeState:{serviceId:n.sourceId},logClick:!0},i.createElement(g.Z,{className:b("service"),onClick:function(){l(d.Z.onPushState({company:e.companyInfo,page:"services",summary:{},selectedServices:[{id:n.sourceId,title:n.title}]}))}},a?i.createElement("div",{className:b("service-img")},a):null,i.createElement("div",{className:b("service-details")},i.createElement("div",{className:b("service-title")},n.title),r||n.volume?i.createElement("div",{className:b("service-info")},r?i.createElement("span",{className:b("service-price")},r+" "+(n.currency||"₽")):null,n.volume?i.createElement("span",{className:b("service-duration")},n.volume):null):null,m&&m[n.sourceId]?i.createElement("div",{className:b("service-nearest-date")},m[n.sourceId]):null)))}))};function w(e,t,n,r,a){if(!t&&!r)return null;if(r)return i.createElement("div",{className:b("img"),style:{backgroundImage:"url("+r.replace("{size}",_.I0.XS)+")"}});var o=n(a);return i.createElement(p.Z,{className:b("placeholder"),name:o,theme:e.theme,inline:!0})}var Z=function(e){var t=(0,h.ZR)(),n=(0,r._)(i.useState([]),2),o=n[0],l=n[1],c=o.some(function(e){return e.image}),m=a.I0(),p=(0,v.Nx)();return i.useEffect(function(){f.Z.getTopResources({permalink:e.companyInfo.permalink},t).then(function(e){!e||"error"in e||l(e.slice(0,3))})},[t,e.companyInfo.permalink]),i.createElement("div",{className:b("resources")},o.map(function(n){let r;var a=w(t,c,p,n.image,"spa"===e.companyInfo.categoryClass);return i.createElement(s.ZP,{name:"resource",key:n.id,nodeState:{resourceId:n.id},logClick:!0},i.createElement(g.Z,{className:b("resource"),onClick:function(){return m(d.Z.onPushState({company:e.companyInfo,page:"resource",summary:{},resource:n}))}},a?i.createElement("div",{className:b("resource-img")},a):null,i.createElement("div",{className:b("resource-details")},i.createElement("div",{className:b("resource-title")},n.name),n.nearestDate?i.createElement("div",{className:b("resource-nearest-date")},n.nearestDate):null,i.createElement("div",{className:b("resource-info")},n.rating?i.createElement("div",{className:b("resource-rating")},i.createElement(u.Z,{ratingValue:n.rating,collapseStars:!0})):null,n.reviewsCount?i.createElement("span",{className:b("resource-reviews-count")},(r={count:n.reviewsCount}).count?r.count+" "+(r.count%10==1&&r.count%100!=11?"оценка":r.count%10>1&&r.count%10<5&&(r.count%100<10||r.count%100>20)?"оценки":"оценок"):"Ещё нет оценок"):null))))}))},C=function(e){var t=a.I0(),n="services"===e.mode?"Все услуги для записи":"Все специалисты для записи";return i.createElement("div",{className:b("link")},i.createElement(s.ZP,{name:"show_all",nodeState:{mode:e.mode},logClick:!0},i.createElement(m.default,{view:"link",icon:i.createElement(p.Z,{name:"reservation-24",inline:!0}),onClick:function(){var n,r;(null==(n=e.companyInfo.metrika)?void 0:n.goals.cta)&&y.ZP.reachGoal({goal:null==(r=e.companyInfo.metrika)?void 0:r.goals.cta,options:{event:y.uR}}),t(d.Z.onPushState({company:e.companyInfo,page:e.mode,summary:{}}))}},n)))},N=function(e){var t=e.services&&e.services.length>0,n=(0,r._)(i.useState(t?"services":"resources"),2),a=n[0],o=n[1];return i.createElement(s.ZP,{name:"booking_widget"},i.createElement("div",{className:b({wide:e.wide})},i.createElement("div",{className:b("title")},i.createElement(l.Z,{type:"h2"},"services"===a?"Услуги для записи":"Специалисты для записи")),t?i.createElement(E,{active:a,onServicesClick:function(){return o("services")},onResourcesClick:function(){return o("resources")}}):null,i.createElement("div",{className:b("content")},"services"===a?i.createElement(k,{services:e.services,companyInfo:e.companyInfo}):i.createElement(Z,{companyInfo:e.companyInfo})),i.createElement("div",{className:b("link")},i.createElement(C,{mode:a,companyInfo:e.companyInfo}))))}},12462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(18007),i=n(87363),a=n(44748),o=n(31336),s=n(2693),l=n(60517),c=n(31651),u=n(21327),d=n(94542),m={left:80,right:80},p=(0,a.Z)("card-business-events-view"),v=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderEvent=function(e,n){return i.createElement(d.Z,{key:e.id,className:p("item",{carousel:n}),onClick:function(){return t.props.onEventClick(e,{forcePush:!0})}},i.createElement(u.Z,{event:e}))},t._renderHeader=function(){return i.createElement(c.Z,{type:"h2",rightContent:i.createElement(l.ZP,{name:"events_see_all",logClick:!0},i.createElement(d.Z,{className:p("see-all"),onClick:t.props.onShowAllButtonClick},"Смотреть все"))},"События")},t._renderCarousel=function(){var e=t.props;return i.createElement(s.Z,{padding:e.wide?0:16,itemsGap:16,expandWidth:e.wide?m:void 0},e.events.map(function(e){return t._renderEvent(e,!0)}))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props;return e.events,i.createElement(l.ZP,{name:"events_snippet",logClick:!0},i.createElement("div",{className:p({wide:e.wide,"with-header":!1})},null,i.createElement("div",{className:p("items",{single:!1})},this._renderCarousel())))},t}(i.Component),f=(0,o.ZP)(v)},6934:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(18007),i=n(87363),a=n(44748),o=n(54499),s=n(87843),l=n(75951),c=n(60517),u=n(49267),d=(0,a.Z)("card-direct-view"),m=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._onClick=function(){var e=t.props.direct.url;window.open(e,"_blank")},t}return(0,r._)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.direct;return i.createElement(c.ZP,{name:"advert",logClick:!0},i.createElement(s.default,{className:d(),icon:i.createElement(u.Z,{name:"mark-direct-mono-24",className:d("icon"),inline:!0}),keepIconColor:!0,noSidePadding:t.isInHeader,onClick:n.url?this._onClick:void 0},i.createElement(l.Z,{direct:n,isInCard:!0}),i.createElement(o.ZP,{url:null==(e=n.contactInfo)?void 0:e.counterUrl})))},t}(i.PureComponent)},37580:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(18007),i=n(87363),a=n(28216),o=n(44748),s=n(90585),l=n(31336),c=n(65569);n(94542);var u=(0,s.Z)(a.$j(function(e,t){return{distance:(0,c.Gs)(e,t.result)}}),l.ZP);(0,o.Z)("card-distance-to-user");var d=u(function(e){function t(){return e.apply(this,arguments)}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props;return e.distance&&e.distance,null},t}(i.Component))},6018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(18007),i=n(87363),a=n(44748),o=n(55057),s=n(30473),l=n(60517),c=n(41690),u=n(87843),d=n(6064),m=n(90585),p=n(31336),v=(0,m.Z)(p.ZP,o.ZP),f=(0,a.Z)("card-dropdown-view"),h=v(function(e){function t(t){var n;return(n=e.call(this,t)||this)._content=i.createRef(),n._card=i.createRef(),n._controlAnalyticsRef=i.createRef(),n._onMoreClick=function(e){if("A"!==e.target.nodeName){null==(t=n._controlAnalyticsRef.current)||t.logEvent("click"),e.preventDefault(),e.stopPropagation();var t,r=!n.state.isExpanded;n.setState({isExpanded:r}),null==n.props.onToggled||n.props.onToggled.call(n.props,r)}},n._collapseContent=function(){n._content.current&&(n._content.current.style.overflow="",n._card.current&&(n._card.current.style.overflow=""),n._animateContent(n._content.current.offsetHeight,0,n._content.current))},n._expandContent=function(){n._content.current&&(n.props.config.query["no-animation"]?setTimeout(function(){return n._onTransitionEnd()}):n._animateContent(0,n._content.current.offsetHeight,n._content.current))},n._animateContent=function(e,t,n){n.style[(0,s.r1)().styles.transition]="max-height 0.3s",n.style[(0,s.r1)().styles.transform]="",n.style.maxHeight=e+"px",n.getBoundingClientRect(),n.style.maxHeight=t+"px"},n._onTransitionEnd=function(e){(!e||e.target===n._content.current)&&n._content.current&&n._card.current&&(n._content.current.style[(0,s.r1)().styles.transition]="",n._content.current.style[(0,s.r1)().styles.transform]="none",n._content.current.style.maxHeight="",n._content.current.style.overflow="visible",n._card.current.style.overflow="visible")},n._renderContent=function(){var e=n.state.isExpanded,t=n.props;return e?i.createElement(l.ZP,{name:"content"},i.createElement("div",{className:f("content"),ref:n._content,onTransitionEnd:n._onTransitionEnd},t.content,void 0===t.delimiter?i.createElement("div",{className:f("delimiter")}):t.delimiter)):null},n._renderChildren=function(){var e=n.props,t=e.children;if(!t)return null;var r=!!(!e.arrowHidden&&e.content),a=n.state.isExpanded;return i.createElement("div",null,i.createElement(u.default,{ariaHidden:e.ariaHidden,ariaLabel:e.ariaLabel,className:e.className,title:e.title,view:e.view,size:e.size,iconUrl:e.iconUrl,icon:e.icon,iconClassName:e.iconClassName,keepIconColor:e.keepIconColor,subcontent:e.subcontent,onClick:e.onClick||(r&&!e.clickableValueOnly?n._onMoreClick:void 0),onAdditionalClick:n._onMoreClick,border:e.isLast&&!a||e.hideCardBorder?"hide":void 0,stretchBorder:e.stretchBorder,value:e.value,arrowView:r?a?"up":"down":void 0,noSidePadding:e.noSidePadding,skipBlurOnPress:e.skipBlurOnPress},(0,d.m)(t)?t({isExpanded:a}):t,r?i.createElement(l.ZP,{name:"control",nodeRef:n._controlAnalyticsRef,logClick:!0}):null),i.createElement("div",null))},n.state={isExpanded:!!t.isInitiallyExpanded},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this.props.isExpanded;"boolean"==typeof e&&this.state.isExpanded!==e&&this.setState({isExpanded:e})},n.render=function(){return i.createElement("div",{ref:this._card,className:f({wide:this.props.isWideCard})},this._renderChildren(),i.createElement(c.Z,{animationRef:this._content,onShow:this._expandContent,onHideStart:this._collapseContent},this._renderContent()))},t}(i.Component))},87843:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(34788),i=n(18007),a=n(87363),o=n(44748),s=n(55057),l=n(49267),c=n(33228),u=n(94542),d=n(31336),m=(0,o.Z)("card-feature-view"),p=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderIcon=function(){var e=t.props,n=e.iconUrl;if(null===n)return null;var r=e.iconClassName;return a.createElement("div",{className:m("icon-wrapper",{"no-color":e.keepIconColor})+(r?" "+r:"")},n?a.createElement(c.Z,{url:n}):e.icon)},t._renderMain=function(){var e=t.props;return a.createElement("div",{className:m("main")},t._renderIcon(),a.createElement("div",{className:m("content")},e.title?a.createElement("div",{className:m("title")},e.title):null,a.createElement("div",{className:m("main-content")},e.children),e.subcontent?a.createElement("div",{className:m("subcontent")},e.subcontent):null))},t._renderAdditional=function(){var e=t.props;return e.value||e.arrowView?a.createElement("div",{"aria-hidden":!0,className:m("additional"),onClick:e.onAdditionalClick},e.value?a.createElement("div",{className:m("value")},e.value):null,e.arrowView?a.createElement("div",{className:m("arrow",{view:e.arrowView})},a.createElement(l.Z,{name:"arrow-down-8",inline:!0})):null):null},t}return(0,i._)(t,e),t.prototype.render=function(){var e=this.props,t=e.subcontent,n=e.onClick,i=e.title?"medium":e.size||"large",o=null===e.icon||null===e.iconUrl,s=e.onClick?u.Z:"div",l=e.onClick?{ariaHidden:e.ariaHidden,ariaExpanded:e.arrowView&&"up"===e.arrowView,ariaLabel:e.ariaLabel,skipBlurOnPress:e.skipBlurOnPress}:{};return a.createElement(s,(0,r._)({},l,{className:m({view:e.view||"normal",size:i,type:e.type,subcontent:!!t,interactive:!!n,"has-title":!!e.title,disabled:e.disabled,"no-icon":o,"no-side-padding":!1!==e.noSidePadding&&(e.noSidePadding||e.isWideCard)})+(e.className?" "+e.className:""),onClick:n}),a.createElement("div",{className:m("wrapper")},this._renderMain(),this._renderAdditional()),a.createElement("div",{className:m("border",{border:e.border,stretch:e.stretchBorder||o})}))},t}(a.Component),v=(0,d.ZP)((0,s.ZP)(p))},3812:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var r=n(18007),i=n(87363),a=n(28216),o=n(80993),s=n(80129),l=n.n(s),c=n(44748),u=n(28342),d=n(69930),m=n(99091),p=n(36191),v=n(38901),f=n(37721),h=n(60517),g=n(49267),_=n(89318),y=(0,c.Z)("card-social-links-view"),b=function(e){var t=e.links,n=e.dark;return 0===t.length?null:i.createElement(h.ZP,{name:"social_links"},i.createElement("div",{className:y({dark:n})},t.map(function(e){var t=e.type,n=e.href;return i.createElement(h.ZP,{key:t,name:"social_link",nodeState:{type:t},logClick:!0},i.createElement("a",{itemProp:"sameAs",className:y("link"),href:n,target:"_blank",rel:"nofollow","aria-label":t},i.createElement(g.Z,{name:_.Qe(t),className:y("icon"),inline:!0})))})))},E=n(6018),k=n(8601),w=n(94542),Z={footer:function(e){return"подвал блока"}},C={openCommonFeedback:k.Z.openCommonFeedback,openBusinessFeedback:k.Z.openBusinessFeedback,openRoutePanel:p.Z.open,enableTrafficLayer:v.Z.enable,openBookmarksPanel:f.Z.openPanel,checkAuthorization:m.Z.checkAuthorization,setMobileViewState:m.Z.setMobileViewState},N=a.$j(function(e){return{config:e.config,absoluteUrl:d.q((0,o.bq)(e),e.config)}},C),P=(0,c.Z)("card-footer-view"),S=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._openBookmarks=function(){var e=t.props;e.checkAuthorization("favorites",function(){e.openBookmarksPanel({force:!0})})},t._openTraffic=function(){t.props.enableTrafficLayer()},t._getFooterActions=function(){var e=t.props;return{absoluteUrl:e.absoluteUrl,openBookmarks:t._openBookmarks,openRoutePanel:e.openRoutePanel,openTrafficPanel:t._openTraffic,addOrganization:function(){return e.openBusinessFeedback({context:{formContextId:"organization.footer"}})},reportMistake:e.openCommonFeedback}},t._renderSocialLinks=function(e){var n,r=null==(n=t.props.config.social)?void 0:n.links;return r?i.createElement("div",{className:P("social-links")},i.createElement(b,{links:r,dark:"narrow"===e})):null},t._renderActionLink=function(e){return i.createElement(h.ZP,{name:"link",logClick:!0,nodeState:{text:e.text,"with-action":!0}},i.createElement(w.Z,{role:"link",className:P("link"),onClick:e.action},e.text))},t._renderUrlLink=function(e){return i.createElement(h.ZP,{name:"link",logClick:!0,nodeState:{text:e.text}},i.createElement("a",{className:P("link"),href:e.url,target:"_blank"},e.text))},t._renderAltayLink=function(){var e=t.props.internalAltayLink;return e?i.createElement("a",{className:P("altay-link"),href:e,target:"_blank"},"Altay"):null},t._renderLink=function(e,n){return i.createElement("div",{className:P("link-wrap"),key:n},"action"in e?t._renderActionLink(e):t._renderUrlLink(e))},t._renderWideSection=function(e,n){return i.createElement("div",{className:P("column"),key:n},i.createElement("div",{className:P("column-header")},e.header),e.links.map(t._renderLink))},t._renderWideTop=function(){var e,n,r,a,o=t.props,s=t._getFooterActions();return i.createElement("div",{className:P("top")},i.createElement("div",{className:P("bold-column")},(e=o.config,[{text:"Сообщить об ошибке",action:s.reportMistake},{text:"Справка",url:e.feedback.helpUrl+"?lang="+e.lang}].filter(T)).map(t._renderLink)),i.createElement("div",{className:P("columns-general")},i.createElement("div",{className:P("columns")},x(s,o.config).map(t._renderWideSection)),i.createElement("div",{className:P("column-rest")},[{text:"О сервисе",url:(n=o.config).feedback.helpUrl},{text:"Пользовательское соглашение",url:null==(r=n.hosts.mapsUserAgreement)?void 0:r.replace("{{lang}}",n.lang)},{text:"Мобильное приложение",url:null==(a=n.mobile)?void 0:a.url},{text:"Правила рекомендаций",url:n.recommendationsLegalUrl}].filter(T).map(t._renderLink))))},t._renderWideBottom=function(){var e=t.props.getToday().getFullYear();return i.createElement("div",{className:P("bottom")},t._renderSocialLinks("wide"),i.createElement(h.ZP,{name:"disclaimer",logViewportEnter:"when appears on screen"},i.createElement("div",{className:P("disclaimer-info")},i.createElement("div",{className:P("disclaimer")},"Яндекс Карты — выбирайте, где поесть, куда сходить, чем заняться."),i.createElement("div",{className:P("copyright"),dir:"auto"},t.props.config.isYango?"© "+e+" Ridetech International B.V.":"© 2001–"+e+" ООО «Яндекс»"),t._renderAltayLink(),t._renderExtraBottom())))},t._renderExtraBottom=function(){var e=t.props.extraBottom;return e?i.createElement("div",{className:P("extra-bottom")},e):null},t._renderWide=function(){return i.createElement(i.Fragment,null,t._renderWideTop(),t._renderWideBottom())},t._renderNarrowDropdown=function(e,n){return i.createElement(E.Z,{size:"small",className:P("dropdown"),iconUrl:null,content:i.createElement("div",{className:P("section-items")},e.links.map(t._renderLink)),delimiter:null,hideCardBorder:!0,isInitiallyExpanded:t.props.config.uatraits.isRobot,key:n},e.header)},t._renderNarrow=function(){var e,n,r,a,o=t.props,s=t._getFooterActions(),l=t.props.getToday().getFullYear();return i.createElement(i.Fragment,null,i.createElement("div",{className:P("top",{narrow:!0})},i.createElement("div",{className:P("bold")},(e=o.config,[{text:"Сообщить об ошибке",action:(0,s.reportMistake)},{text:"Мобильное приложение",url:null==(n=e.mobile)?void 0:n.url}].filter(T)).map(t._renderLink)),x(s,o.config).map(t._renderNarrowDropdown)),t._renderSocialLinks("narrow"),i.createElement("div",{className:P("disclaimer-info")},i.createElement("div",{className:P("disclaimer")},"Яндекс Карты — выбирайте, где поесть, куда сходить, чем заняться."),i.createElement("div",{className:P("copyright"),dir:"auto"},o.config.isYango?"© "+l+" Ridetech International B.V.":"© 2001–"+l+" ООО «Яндекс»"),i.createElement("div",{className:P("bottom-links")},[{text:"Справка",url:(r=o.config).feedback.helpUrl+"?lang="+r.lang},{text:"О сервисе",url:r.feedback.helpUrl},{text:"Пользовательское соглашение",url:null==(a=r.hosts.mapsUserAgreement)?void 0:a.replace("{{lang}}",r.lang)},{text:"Правила рекомендаций",url:r.recommendationsLegalUrl}].filter(T).map(t._renderLink)),t._renderAltayLink()))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement(h.ZP,{name:"footer"},i.createElement("footer",{"aria-label":Z.footer(e.config),className:P({wide:e.wide})},e.wide?this._renderWide():this._renderNarrow()))},t}(i.PureComponent);function x(e,t){return[{header:"Сервисы",links:[{text:"Маршруты",action:e.openRoutePanel},{text:"Пробки",action:e.openTrafficPanel},{text:"Редактор Яндекс Карт",url:t.hosts.nmaps},{text:"Схема Метро",url:t.hosts.metro},{text:"Создать карту",url:t.hosts.constructor},{text:"API Карт",url:t.apiManual.url}].filter(T)},{header:"Персональное",links:[{text:"Закладки и мой транспорт",action:e.openBookmarks},{text:"Мои отзывы",url:t.ugcCabinet?t.ugcCabinet.url+"?utm_source=maps":void 0},{text:"Мои карты",url:t.hosts.constructor},{text:"Настройки",url:t.isYango?void 0:t.morda.url+"/tune/?"+l().stringify({retpath:e.absoluteUrl})}].filter(T)},{header:"Для бизнеса",links:[{text:"Личный кабинет",url:t.business.businessLandingUrl},{text:"Реклама в Картах",url:t.advertLandingUrl?t.advertLandingUrl+"?utm_source=webmaps&utm_medium=gp_label&utm_campaign=orgpage_label":void 0},{text:"Добавить свою организацию",action:e.addOrganization}].filter(T)}]}function T(e){return"url"in e?!!e.url:"action"in e&&!!e.action}var R=(0,u.ZP)(N(S))},63064:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(18007),i=n(11912),a=n(87363),o=n(31336),s=n(44748),l=n(60517),c=n(13975),u=n(24872),d=n(28661),m=n(2693),p=n(49267),v=n(1477),f=(0,s.Z)("proportion-view"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=a.createRef(),n._onResize=function(){var e=n.props,t=n._ref.current;t&&n.setState({height:Math.round(t.offsetWidth*e.height/e.width)})},n.state={},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._onResize()},n.componentDidUpdate=function(e){var t=this.props;(e.height!==t.height||e.width!==t.width)&&this._onResize()},n.render=function(){var e=this.props,t=this.state.height,n=e.height/e.width;return a.createElement("div",{className:f(),style:t?{height:t}:{paddingTop:""+100*n+"%"},ref:this._ref},a.createElement("div",{className:f("inner"),style:{position:"absolute",top:0}},e.children),a.createElement(v.Z,{onResize:this._onResize}))},t}(a.PureComponent),g=n(34435),_=n(49980),y=n(6507),b=n(9053),E=n(67942),k=n(76149),w=n(94542),Z=(0,s.Z)("card-header-media-view"),C={width:780,height:408},N=function(e){function t(t){var n;return(n=e.call(this,t)||this)._itemRef=a.createRef(),n._getAdvertDisplayingPhotos=function(){var e,t=n.props.result,r=t.advert,i={advert:!0,urlTemplate:(null==r?void 0:r.photo)||(null==(e=t.photos)?void 0:e.urlTemplate)||""};return i.urlTemplate?[i]:void 0},n._getDisplayingItems=function(){var e,t,r,a,o,s=n.props.result;return(0,k.Li)(s,{photos:(0,i._)((null==(e=s.advert)?void 0:e.photo)?[{urlTemplate:s.advert.photo,link:[]}]:[]).concat((0,i._)(null!=(a=null==(t=s.photos)?void 0:t.items)?a:[])),videos:null!=(o=null==(r=s.videos)?void 0:r.items)?o:[]}).slice(0,10)},n._shouldUseAutoScrollingCarousel=function(e){return!!(!n.props.disableAutoScrolling&&e>=4)},n._renderAutoScrollingCarousel=function(e){return a.createElement(g.Z,{view:n.props.view,photos:e,onPhotoClick:n.props.onItemClick,renderPhoto:n._renderItem})},n._renderItem=function(e,t,r,i,o){void 0===o&&(o=0);var s,u=n.state,d=!r||r<=o+u.preloadImagesCount,m=(0,b.Iy)({result:n.props.result},n.props.config);return a.createElement(l.ZP,{name:"photos",metrikaGoal:"deepuse",logClick:!0},a.createElement(w.Z,{ref:n._itemRef,className:Z("media"),onClick:i},(0,b.Ey)(e)?a.createElement(c.Z,{src:e.urlTemplate.replace("%s",b.I0[t]),alt:null!=(s=e.alt)?s:m,renderImmediately:d}):a.createElement(E.Z,{src:e.thumbnailUrl,alt:m,hideIcon:n.props.hideVideoIcon,renderImmediately:d})))},n._renderCarouselItem=function(e,t,r){var i=n.props,o="wide"===i.view,s=o&&r&&r.length<=2,l=(0,_.j9)(i.config),c=o?s?(l.wide-(r.length-1)*4)/r.length:320:"auto",u=n._renderItem(e,s?"XL":"L",t,function(){return i.onItemClick(o?t:void 0)});return(0,b.Ey)(e)&&e.advert?a.createElement(a.Fragment,null,a.createElement("div",{className:Z("advert-wrap")},a.createElement(h,C,u)),a.createElement("div",{className:Z("fade")})):a.createElement(a.Fragment,null,a.createElement("div",{className:Z("item"),style:{width:c},key:t},a.createElement("div",{className:Z("item-layout")},u)),a.createElement("div",{className:Z("fade")}))},n._renderLogo=function(){var e,t,r,i=n.props,o=i.result,s=(null==(e=o.advert)?void 0:e.logo)||(null==(t=o.businessImages)?void 0:t.logo.urlTemplate);return s&&("compact"!==i.view||i.showLogo)?a.createElement("div",{className:Z("logo")},a.createElement(c.Z,{src:s.replace("%s",b.I0.S),alt:"Логотип",backgroundSize:(null==(r=o.advert)?void 0:r.logo)?"cover":"contain",renderImmediately:!0})):null},n._renderItems=function(e){var t,r,i,o=n.props,s=o.result,l=((null==(t=s.photos)?void 0:t.count)||0)+((null==(r=s.videos)?void 0:r.items.length)||0)+((null==(i=s.advert)?void 0:i.photo)?1:0);return a.createElement("div",{className:Z("list"),itemScope:!0,itemType:"http://schema.org/ImageGallery"},"wide"===o.view?a.createElement(m.Z,{clickStep:2,itemsGap:4,children:e.map(n._renderCarouselItem)}):n._shouldUseAutoScrollingCarousel(e.length)?n._renderAutoScrollingCarousel(e):n._renderCarouselItem(e[0],0),"compact"!==o.view?a.createElement("div",{className:Z("label")},a.createElement("div",{className:Z("label-icon",{photos:!0})},a.createElement(p.Z,{name:"photo-24",inline:!0})),l):null,a.createElement(d.Z,{chunk:"photos"}))},n._renderPanorama=function(){var e=n.props.result.panorama;return e?a.createElement(a.Fragment,null,a.createElement("div",{className:Z("item")},a.createElement(u.Z,{panorama:e,view:"org"}),a.createElement("div",{className:Z("label")},a.createElement("div",{className:Z("label-icon",{panorama:!0})},a.createElement(p.Z,{name:"panorama-24-flip",inline:!0})),"Панорама")),a.createElement("div",{className:Z("fade")})):null},n._renderAddItem=function(){return n.props.disableUpload?null:a.createElement(l.ZP,{name:"add_photo",logClick:!0},a.createElement("div",{"aria-hidden":!0,className:Z("add-item"),onClick:n.props.onAddItemClick},a.createElement(p.Z,{name:"add-photo-24",inline:!0}),a.createElement("div",{className:Z("add-photo-label")},y.oz.addPhotosText)))},n.state={preloadImagesCount:0},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({preloadImagesCount:2})},n.render=function(){var e=this.props,t=e.result.advert,n="compact"!==e.view&&t&&(t.photo||t.logo)?this._getAdvertDisplayingPhotos():void 0,r=n||this._getDisplayingItems(),i=r.length>0,o=!!e.result.panorama;if(!i&&!o&&!e.onAddItemClick&&!e.disableUpload||!i&&o&&e.hidePanorama)return null;var s=!i&&!o;return a.createElement("div",{className:Z({"auto-scrolling":this._shouldUseAutoScrollingCarousel(r.length),view:e.view,panorama:o&&!i,"only-add-item":s,"advert-unit":!!n})},s?a.createElement(a.Fragment,null,this._renderAddItem(),e.disableUpload&&e.showLogo?this._renderLogo():null):a.createElement(a.Fragment,null,i?this._renderItems(r):this._renderPanorama(),this._renderLogo()))},t}(a.PureComponent),P=(0,o.ZP)(N)},34435:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(22678),i=n(34788),a=n(18007),o=n(87363),s=n(111),l=n(44748),c=n(2693),u=n(84566),d=n(39014),m=n(60517),p=n(93896),v=(0,l.Z)("card-photos-carousel"),f=function(e){function t(t){var n,a;return(n=e.call(this,t)||this)._scrollPauseTimeout=0,n._carouselRef=o.createRef(),n._slideToNextPhoto=function(e){n.setState(function(t){return{sliderPosition:(t.sliderPosition+1)%e}},function(){return null==n._setCarouselPosition?void 0:n._setCarouselPosition.call((0,r._)(n),n.state.sliderPosition)})},n._changeSlide=function(e,t){t||n.setState({sliderPosition:e})},n._pauseAnimation=function(){n.state.autoPlay&&n.setState({autoPlay:!1})},n._resumeAnimation=function(){var e;!n.state.autoPlay&&(null==(e=n.props.autoplay)||e)&&n.setState({autoPlay:!0})},n._onMouseEnter=function(){n.setState({isHovering:!0}),n._pauseAnimation()},n._onMouseMove=function(e){if(n.state.isHovering&&n._carouselRef.current){var t=n._carouselRef.current.getBoundingClientRect(),i=Math.floor((e.clientX-t.left)/(t.width/n.props.photos.length));i>=0&&i<n.props.photos.length&&i!==n.state.sliderPosition&&(n.setState({sliderPosition:i}),null==n._setCarouselPosition||n._setCarouselPosition.call((0,r._)(n),i,!1))}},n._onMouseLeave=function(){n.state.isHovering&&(n.setState({sliderPosition:0}),null==n._setCarouselPosition||n._setCarouselPosition.call((0,r._)(n),0,!1),n.setState({isHovering:!1}),n._resumeAnimation())},n._onSwipe=function(e){e.isSwiping?n._pauseAnimation():n._resumeAnimation()},n._onScroll=function(e){n._pauseAnimation(),window.clearTimeout(n._scrollPauseTimeout),e&&e.scrollTop<=0&&(n._scrollPauseTimeout=window.setTimeout(n._resumeAnimation,300))},n._renderDotsProgressBar=function(e){var t=Math.floor(n.state.sliderPosition);return o.createElement("div",{className:v("progress-dots",{small:2===e.length})},o.createElement("div",{className:v("progress-container"),style:{left:""+(e.length<=3?0:t===e.length-1?-((t-2)*8):-8*Math.max(0,t-1))+"px"}},e.map(function(e,n){return o.createElement("div",{key:n,className:v("dot",{active:n===t})})})))},n._renderSegmentsProgressBar=function(e){return o.createElement("div",{className:v("progress-segments")},o.createElement(u.Z,{currentSegment:n.state.sliderPosition,segments:e.map(function(){return{duration:3e3}}),run:n.state.autoPlay&&!n.state.isHovering,onTick:function(){return n._slideToNextPhoto(e.length)},size:"small"}))},n._renderAutoScrollingCarousel=function(e){var t=n.props.hoverSwipe?{onMouseEnter:n._onMouseEnter,onMouseMove:n._onMouseMoveThrottled,onMouseLeave:n._onMouseLeave}:{};return o.createElement(m.ZP,{name:"photos_carousel",nodeState:{index:n.state.sliderPosition}},o.createElement("div",(0,i._)({className:v()},t,{ref:n._carouselRef}),o.createElement(c.Z,{snap:!0,itemsGap:0,children:e.map(function(e,t){return o.createElement("div",{className:v("item",{view:n.props.view}),key:t},n.props.renderPhoto(e,"L",t,function(){return null==n.props.onPhotoClick?void 0:n.props.onPhotoClick.call(n.props)},n.state.sliderPosition))}),showArrows:"never",onScroll:n._changeSlide,onSwipeStart:function(){return n.setState({autoPlay:!1})},onSwipeEnd:function(){var e;return n.setState({autoPlay:null==(e=n.props.autoplay)||e})},setPositionRef:function(e){return n._setCarouselPosition=e},fullSize:!0}),o.createElement("div",{className:v("fade")}),"dots"===n.props.progressBarView?n._renderDotsProgressBar(e):n._renderSegmentsProgressBar(e),o.createElement(d.Z,{eventHandler:n._onScroll,throttleWait:100})))},n.state={sliderPosition:0,autoPlay:null==(a=n.props.autoplay)||a,isHovering:!1},n._onMouseMoveThrottled=(0,s.Z)(n._onMouseMove,64),n}(0,a._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.addSwipeListener(this._onSwipe)},n.componentWillUnmount=function(){this.props.removeSwipeListener(this._onSwipe),this._onMouseMoveThrottled.cancel()},n.render=function(){var e=this.props;return e.photos.length<2?o.createElement(o.Fragment,null,o.createElement("div",{className:v("item")},e.renderPhoto(e.photos[0],"L",0,function(){},0)),o.createElement("div",{className:v("fade")})):this._renderAutoScrollingCarousel(this.props.photos)},t}(o.PureComponent),h=(0,p.ZP)(f)},74910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(34788),i=n(20224),a=n(87363),o=(0,n(44748).Z)("card-media-preview"),s=function(e){var t=e.type,n=e.background,s=e.icon,l=e.label,c=e.onClick,u=e.seoLink,d=e.ariaHiddenLabel,m=(0,i._)(e,["type","background","icon","label","onClick","seoLink","ariaHiddenLabel"]);return a.createElement("button",(0,r._)({type:"button",className:o({type:t}),onClick:c},m),u,a.createElement("div",{className:o("background")},n),a.createElement("div",{className:o("icon")},s),a.createElement("div",{"aria-hidden":d,className:o("label")},l))}},46444:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(34788),i=n(87363),a=n(31336),o=n(72133),s=n(23432),l=n.n(s),c=n(74910),u=n(24872),d=n(49267),m=function(e){var t=e.panorama,n=e.seoLink,r=e.label,a=e.ariaHiddenLabel;return i.createElement(c.Z,{type:"panorama",background:i.createElement(u.Z,{panorama:t,view:"org"}),icon:i.createElement(d.Z,{name:"panorama-24-flip",inline:!0}),label:r,seoLink:n,ariaHiddenLabel:a})},p=(0,a.ZP)(function(e){var t,n=(0,a.ZR)();if(!e.panorama)return null;var s="Панорама",c=null==(t=e.panorama.alt)?void 0:t.includes(s),u=(0,o.Sp)(n)?l():m;return i.createElement(u,(0,r._)({},e,{panorama:e.panorama,label:s,ariaHiddenLabel:c}))})},79615:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(87363),i=n(44748),a=n(60517),o=(0,i.Z)("card-owners-banner-view"),s=function(e){return r.createElement("div",{className:o("wrapper")},r.createElement(a.ZP,{name:"owners_banner",nodeState:{bannerType:e.banner.type},logClick:!0},r.createElement("a",{href:e.banner.target,className:o("link"),target:"_blank"},r.createElement("div",{className:o("picture"),style:{backgroundImage:"url("+e.banner.bannerUrl+")"}}))))}},50003:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(34788),i=n(18007),a=n(87363),o=n(31336),s=n(55057),l=n(44748),c=n(10958),u=n(60517),d=n(54499),m=n(6018),p=n(87843),v=n(49267),f=n(94542),h=n(87342),g=(0,l.Z)("card-phones-view"),_=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onPhoneClick=function(e){null==e||e.stopPropagation(),n.setState({showCounter:!0})},n._renderNumberWithSpoiler=function(e,t){var r=n.props,i=e.number;if(e.extraNumber&&(i+=" (доб. "+({number:e.extraNumber}).number+")"),t)return i;var o=r.goal?["goal_deepuse",r.goal]:"goal_deepuse";return a.createElement("div",{className:g("number")},a.createElement("span",{dir:"ltr",itemProp:"telephone"},i),a.createElement(u.ZP,{name:"show_phone",metrikaGoal:o,gaGoal:"site.contacts.click.phone",logClick:!0},a.createElement(f.Z,{className:g("more-wrapper"),onClick:function(e){n.setState({opened:!0}),n._onPhoneClick(e)},dir:"auto"},a.createElement(h.Z,{className:g("more"),tag:"div"},"Показать телефон"))))},n._renderNumber=function(e){var t,r=n.props,i=r.goal?["goal_deepuse",r.goal]:"goal_deepuse",o=e.number;return e.extraNumber&&(o+=" (доб. "+({number:e.extraNumber}).number+")"),a.createElement(u.ZP,{name:"call_phone",metrikaGoal:i,gaGoal:"site.contacts.click.phone",logClick:!0},a.createElement("a",{href:"tel:"+(null!=(t=e.value)?t:o),target:r.config.isAliceIframe?"_blank":"_parent",className:g("phone-number-link"),onClick:n._onPhoneClick,itemProp:"telephone"},o))},n._renderPhone=function(e,t){return a.createElement("div",{className:g("phone"),ref:function(e){e&&e.setAttribute("x-ms-format-detection","none")}},a.createElement("div",{className:g("phone-number"),dir:"ltr"},n.props.config.uatraits.isPhone||n.props.isPhoneInitiallyExpanded?n._renderNumber(e):n._renderNumberWithSpoiler(e,n.state.opened||!t)),n.state.showCounter?a.createElement(d.ZP,{url:e.counter}):null)},n._renderPlaceholder=function(){var e=n.props,t=e.onEditClick,r=e.newContacts;return a.createElement(p.default,{icon:r?void 0:a.createElement(v.Z,{name:"call-24",inline:!0}),border:r?"hide":"show",value:t?a.createElement(f.Z,{className:g("add"),onClick:function(){return t("organization/edit-info")}},"Добавить"):null},a.createElement("div",{className:g("placeholder")},r?"Телефон не указан":"Нет информации"))},n._renderDropdown=function(e){var t=n.props,i=n.state,o=e[0],s=t.newContacts,l=(0,c.yZ)(o,t.config),u=a.createElement("div",{className:g("list",{new:s,expanded:!l})},e.slice(1).map(function(e,r){return a.createElement(p.default,{size:s?"large":"small",title:(0,c.yZ)(e,t.config),border:s?"show":void 0,key:r},n._renderPhone(e))})),d=i.opened&&e.length>1?e.length-1:void 0,f={size:s?"small":void 0,title:l,icon:s?void 0:a.createElement(v.Z,{name:"call-24",inline:!0}),value:d,children:n._renderPhone(o,!0)};return a.createElement(m.Z,(0,r._)({},f,{content:u,arrowHidden:!i.opened||1===e.length,hideCardBorder:s,delimiter:s?null:void 0,isInitiallyExpanded:n.props.isPhoneInitiallyExpanded,skipBlurOnPress:!0}))},n.state={opened:!!n.props.isPhoneInitiallyExpanded,showCounter:!1},n}return(0,i._)(t,e),t.prototype.render=function(){var e=this.props.phones;return a.createElement(u.ZP,{name:"phones"},a.createElement("div",{className:g({wide:this.props.isWideCard})},e&&0!==e.length?this._renderDropdown(e):this._renderPlaceholder()))},t}(a.Component),y=(0,s.ZP)((0,o.ZP)(_))},2596:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(18007),i=n(87363),a=n(44748),o=n(31336),s=n(74783),l=n(41144),c=n(60517),u=n(86792),d=n(31651),m=n(55057),p=(0,a.Z)("card-places-inside-view"),v=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderItems=function(e){var n=t.props;return e.map(function(e,t){return i.createElement(c.ZP,{name:"organization_card",metrikaGoal:"goal_deepuse",logClick:!0,key:t},i.createElement("div",{className:p("card")},i.createElement(u.Z,{item:e,size:"small",onClick:n.onClick,lazyImageLoad:t>4})))})},t._renderTransitionItem=function(){return t.props,i.createElement("div",{className:p("transition"),key:"transition","aria-label":"Показать все места"},i.createElement(l.Z,{item:{title:"Показать все места"},icon:{name:"building-24",className:p("icon")},size:"small",imageHeight:120,transition:!0,clickable:!0}))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement(c.ZP,{name:"places_inside"},i.createElement("div",{className:p({size:"small"})},i.createElement("div",{className:p("content")},i.createElement(d.Z,{type:"h2"},e.isOutdoor?"На территории":"Организации внутри"),i.createElement("div",{className:p("carousel-container",{wide:e.isWideCard})},i.createElement(s.Z,{isMobile:!1,items:e.items,renderItems:this._renderItems,renderTransitionItem:this._renderTransitionItem,onAllClick:e.onAllClick,size:"small",arrowTopVerticalOffset:60,hasPhotos:!0}))),this.props.allItemsButton))},t}(i.PureComponent),f=(0,o.ZP)((0,m.ZP)(v))},74783:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(34788),i=n(18007),a=n(87363),o=n(44748),s=n(2693),l=n(60517),c=n(94542),u=(0,o.Z)("card-popular-view"),d=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderItems=function(){var e=t.props;return e.renderItems(e.items.slice(0,e.hasPhotos?void 0:3))},t._renderCarousel=function(){var e=t.props,n=t._renderItems();return n.push(a.createElement(l.ZP,{name:"show_all",logClick:!0,key:"transition"},a.createElement(c.Z,{className:u("transition"),onClick:e.onAllClick},e.renderTransitionItem()))),a.createElement(l.ZP,{name:"carousel"},a.createElement(s.Z,(0,r._)({role:"list",roleItem:"listitem",clickStep:2,arrowStyle:{horizontalOffset:5,topVerticalOffset:e.arrowTopVerticalOffset},buttonSize:"normal"===e.size?"l":"m",theme:"normal"===e.size?"black":"white",itemsGap:"normal"===e.size?16:8,padding:"normal"===e.size?60:16},e.carouselOptions),n))},t._renderList=function(){return a.createElement(l.ZP,{name:"list"},a.createElement("div",{className:u("list")},t._renderItems()))},t._renderEmptyState=function(){return a.createElement(l.ZP,{name:"empty"},a.createElement("div",{className:u("empty")},"Ничего не нашлось"))},t}return(0,i._)(t,e),t.prototype.render=function(){return a.createElement("div",{className:u({size:this.props.size})},0===this.props.items.length?this._renderEmptyState():this.props.hasPhotos?this._renderCarousel():this._renderList())},t}(a.PureComponent)},62362:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(18007),i=n(87363),a=n(44748),o=n(90585),s=n(31336),l=n(55057),c=n(60517),u=n(31651),d=n(21469),m=n(87843),p=(0,a.Z)("card-realty-snippet-view"),v=(0,o.Z)(s.ZP,l.ZP)(function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderOffer=function(e){var n=e.url?"a":"div";return i.createElement("div",{className:p("offer"),key:e.text},i.createElement(m.default,{size:"small",border:"hide",iconUrl:null,noSidePadding:!0,value:i.createElement(c.ZP,{name:"offer",logClick:!0,nodeState:{name:e.text}},i.createElement(n,{className:p("price",{link:"a"===n}),href:e.url,target:"_blank"},(0,d.xG)(e.price,t.props.config.lang)))},e.text))},t._renderOffers=function(){var e=t.props.offers;return 0===e.length?null:i.createElement("div",{className:p("offers")},e.map(t._renderOffer))},t._renderCompany=function(){var e=t.props.company;return i.createElement("div",{className:p("company")},i.createElement("div",{className:p("company-name")},e.name),e.logo?i.createElement("img",{alt:"",className:p("logo"),src:e.logo}):null)},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props.isWideCard;return i.createElement(c.ZP,{name:"realty_snippet"},i.createElement("div",{className:p({wide:e})},i.createElement(u.Z,{type:"h2"},"Цены на квартиры"),this._renderCompany(),this._renderOffers()))},t}(i.Component))},28486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(34788),i=n(18007),a=n(87363),o=n(28216),s=n(90585),l=n(44748),c=n(31336),u=n(55057),d=n(74783),m=n(41144),p=n(10654),v=n(60517),f=n(75234),h=n(31651),g=n(47392),_=n(28342),y=n(94542),b=(0,l.Z)("card-related-products-view"),E=(0,s.Z)(o.$j(function(e){return{imagesContained:g.lL(e)}}),c.ZP,u.ZP,_.ZP)(function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._getRelatedProducts=function(){return t.props.result.matchedObjects||t.props.result.topObjects||{hasPhotos:!1,categories:[{categoryItems:[]}]}},t._isMatched=function(){return!!t.props.result.matchedObjects},t._renderLastUpdateInfo=function(){var e=t.props,n=g.zL(t._getRelatedProducts(),e.timeContext,e.config);return n?a.createElement("div",{className:b("right-content")},n):null},t._renderTitle=function(){var e,n=t._getRelatedProducts();return e=t._isMatched()?"food"===n.rubric?"Нашлось в меню":"Нашлось в списке товаров и услуг":"food"===n.rubric?"Меню":"Товары и услуги",a.createElement("div",{className:b("title")},a.createElement(h.Z,{type:"h2"},e),t._renderLastUpdateInfo())},t._renderItems=function(e){return e.some(function(e){return!!e.photoLink})?e.map(t._renderPhotoItem):e.map(t._renderListItem)},t._renderPhotoItem=function(e,n,r){let i;var o=t.props;return a.createElement(v.ZP,{name:"product_card",logClick:!0,key:n},a.createElement(f.Z,{item:e,imageAlt:(i={photoTitle:e.title,companyTitle:o.result.title,companyAddress:o.result.fullAddress}).photoTitle+", фото — "+i.companyTitle+(i.companyAddress?" ("+i.companyAddress+")":""),rubric:t._getRelatedProducts().rubric,onClick:function(){return o.onRelatedClick(e)},twoColumns:1===r.length,lazyImageLoad:n>4,size:2===r.length?"full-width":o.size,clickable:!!e.sourceUrl,imagesContained:o.imagesContained}))},t._renderListItem=function(e,n){var r=!!e.sourceUrl;return a.createElement(v.ZP,{name:"product_card",logClick:!0,key:n},a.createElement(y.Z,{className:b("list-item"),onClick:function(){return t.props.onRelatedClick(e)}},a.createElement(p.Z,{item:e,clickable:r,size:t.props.size,first:0===n})))},t._renderTransitionItem=function(){var e=t.props,n="food"===t._getRelatedProducts().rubric?"Посмотреть всё меню":"Посмотреть все товары и услуги";return a.createElement("div",{className:b("transition",{size:e.size}),key:"transition","aria-label":n},a.createElement(m.Z,{item:{title:n},icon:{name:"menu-book-24-flip",className:b("menu-icon")},size:e.size,imageHeight:"normal"===e.size?160:96,imagesContained:e.imagesContained,transition:!0}))},t._renderActiveView=function(e){var n=t.props,i=t._getRelatedProducts();return i.hasPhotos&&e.length<3?a.createElement("div",{className:b("matched")},e.map(function(e,n,r){return a.createElement("div",{className:b("matched-item"),key:n},t._renderPhotoItem(e,n,r))})):a.createElement("div",{className:b("top-items",{carousel:i.hasPhotos})},a.createElement(d.Z,(0,r._)({},n,{items:e,hasPhotos:i.hasPhotos,isMobile:!1,renderItems:t._renderItems,renderTransitionItem:t._renderTransitionItem,arrowTopVerticalOffset:("normal"===n.size?160:96)/2,size:n.size,carouselOptions:n.carouselOptions})))},t}return(0,i._)(t,e),t.prototype.render=function(){var e,t=this.props,n=this._getRelatedProducts(),r=g.Nh(null==(e=n.categories[0])?void 0:e.categoryItems);return a.createElement(v.ZP,{name:"related_products",nodeState:{rubric:n.rubric,type:this._isMatched()?"matched_objects":"top_objects"}},a.createElement("div",{className:b({size:t.size,wide:t.isWideCard})},a.createElement("div",{className:b("content")},this._renderTitle(),this._renderActiveView(r)),this.props.allItemsButton))},t}(a.PureComponent))},93722:(e,t,n)=>{"use strict";n.r(t);var r=n(34788),i=n(18007);n(63407);var a=n(87363),o=n(28216),s=n(70457),l=n(90585),c=n(55057),u=n(47220),d=n(46664),m=n(44748),p=n(76941),v=(n(16854),n(79039)),f=n(73286),h=n(93219),g=n(33021),_=n(97032),y=n(12629),b=n(36963),E=n(62142),k=n(10681),w=n(53106),Z=(0,s.Z)({resolved:{},chunkName:function(){return"reviews"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("reviews").then(n.bind(n,50446))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 50446}},{whenVisible:!0}),C=(0,s.Z)({resolved:{},chunkName:function(){return"reviews"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("reviews").then(n.bind(n,52147))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 52147}},{whenVisible:!0}),N=(0,s.Z)({resolved:{},chunkName:function(){return"reviews"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("reviews").then(n.bind(n,6257))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 6257}},{whenVisible:!0}),P=(0,s.Z)({resolved:{},chunkName:function(){return"booking"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("booking").then(n.bind(n,24104))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 24104}}),S=(0,m.Z)("card-reviews-view"),x={resetSelectedAspect:_.Z.resetSelectedAspect,resetSharedReview:_.Z.resetSharedReview,saveSharedReview:_.Z.saveSharedReview,editReview:_.Z.editReview,openRecommendations:y.Z.openRecommendations},T=(0,l.Z)(c.ZP,o.$j(function(e){return{config:e.config,timeContext:e.timeContext}},x)),R=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderSummary=function(e){var n,i=t.props,o=i.result.ratingData;return a.createElement("div",{className:S("summary")},a.createElement(C,(0,r._)({result:i.result,isUserOwner:i.result.isUserOwner,showMedia:i.showMedia,goodPlaceYear:null==(n=i.result.awards)?void 0:n.goodPlaceYear},o,e)))},t._renderPagination=function(e){if(!t.props.showPagination)return null;var n=u.S(t.props.result,{sublanding:"reviews"},t.props.config);if(!n)return null;var r=Math.ceil(e.count/e.pageSize);return a.createElement(E.Z,{maxPages:Math.min(r,12),currentPage:e.initialPage,url:n})},t._renderReviews=function(e){var n,i=t.props,o=i.result;if(0===o.ratingData.reviewCount||!o.modularCard.showReviews)return null;var s=e.sharedReview?e.reviews.filter(function(t){var n;return t.reviewId!==(null==(n=e.sharedReview)?void 0:n.reviewId)}):e.reviews,l=u.S(o,{sublanding:"reviews"},i.config);return a.createElement(k.a,null,a.createElement(N,(0,r._)({reviewsLink:l,org:o,showMedia:i.showMedia,showFriendsSuggest:i.showFriendsSuggest,scrollToReview:i.scrollToReview,onShowAllClick:i.showAll,renderAll:i.renderAll,isUserOwner:o.isUserOwner,openRecommendations:i.openRecommendations},e,{aspects:i.result.aspects,reviews:i.renderAll?s:s.slice(0,d.E),isVisible:i.isVisible,isSeo:!!(null==(n=o.ratingData)?void 0:n.ratingCount)})))},t._renderActions=function(e){var n=t.props,r=n.result,i=n.config.enableBooking&&r.booking&&("restaurant"!==r.booking.bookingType||n.config.experiments.ui.tableBooking)?(0,b.c)(r):void 0;if(!n.showActions)return null;var o=[e.userReview?null:a.createElement(f.Z,{key:"review",view:"air",result:r}),i?a.createElement(P,{key:"booking",bookingData:i,view:"air",onClick:function(){var e,t;(null==(e=n.result.metrika)?void 0:e.goals.cta)&&w.ZP.reachGoal({goal:null==(t=n.result.metrika)?void 0:t.goals.cta,options:{event:w.uR}})}}):null].filter(Boolean);return 0===o.length?null:a.createElement(p.Z,{position:"bottom",order:5,border:"never",zIndex:4},a.createElement("div",{className:S("actions")},o.reverse().map(function(e){return a.createElement("div",{key:null==e?void 0:e.key,className:S("actions-button")},e)})))},t._renderEmptyState=function(){return a.createElement("div",{className:S({"empty-tab":!0})},a.createElement(g.Z,{title:"Будьте первым!",text:"Оцените это место. Ваш отзыв поможет другим пользователям принять решение",action:a.createElement("div",{className:S("empty-rating")},a.createElement(h.Z,{rating:null,onRatingClick:function(e){return t.props.editReview(t.props.result,e)},size:"l"}))}))},t}(0,i._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.saveSharedReview(this.props.result)},n.componentWillUnmount=function(){this.props.resetSelectedAspect(this.props.result),this.props.resetSharedReview(this.props.result)},n.render=function(){var e=this,t=this.props;if(!t.config.business.enableReview)return null;var n=t.renderAll?d.W:d.E;return a.createElement(Z,{result:t.result,pageSize:n},function(n){var r=0!==n.count;if(n.isUserReviewLoading&&!r)return a.createElement("div",{className:S("placeholder")},a.createElement(v.Z,null));var i=n.isUserReviewLoading||!!n.userReview,o=n.isDeleted;return r||i||o||t.showReviewSuggestion?a.createElement("div",{className:t.sectionClassName},a.createElement("div",{className:S({wide:t.isWideCard})},e._renderSummary(n),e._renderReviews(n),e._renderPagination(n)),e._renderActions(n)):e._renderEmptyState()})},t}(a.PureComponent);t.default=T(R)},31651:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(87363),i=n(44748),a=n(55057),o=n(47760),s=(0,i.Z)("card-section-header"),l=(0,a.ZP)(function(e){var t=e.type;return r.createElement("div",{className:s({"small-bottom-gutter":e.smallBottomGutter,"medium-bottom-gutter":e.mediumBottomGutter,wide:e.isWideCard,type:e.type})},e.autofocus?r.createElement(o.t,{focusInvisible:!0},function(n){return r.createElement(t,{ref:n,className:s("title",{wide:e.isWideCard})},e.children)}):r.createElement(t,{className:s("title",{wide:e.isWideCard})},e.children),e.rightContent?r.createElement("div",{className:s("right-content")},e.rightContent):null)})},31553:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var r=n(18007),i=n(87363),a=n(28216),o=n(90585),s=n(74315),l=n(55057),c=n(60517),u=n(6018),d=n(34788),m=n(18188),p=n(44748),v=n(80993),f=n(674),h=n(7480),g=n(84399),_=n(87843),y=n(31336),b=n(6090),E=n(49267),k=n(50415),w=(0,p.Z)("card-push-view"),Z=function(e){function t(){return e.apply(this,arguments)}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props;return e.config.bunker.disableMobileDistribution?null:i.createElement(b.Z,{openOptions:{type:e.type,pushMessage:e.message}},function(t){var n=t.onClick;return i.createElement(c.ZP,{name:"service",logClick:!0,metrikaGoal:["goal_deepuse",e.metrikaGoal].filter(k.y)},i.createElement(_.default,{className:w("service"),view:"link",icon:i.createElement(E.Z,{name:"send-to-phone-24-flip",inline:!0}),onClick:n},"Отправить в телефон"))})},t}(i.Component),C=(0,y.ZP)(Z),N=n(36887),P=n(31540),S=a.$j(function(e){var t,n=(null==(t=e.share.data)?void 0:t.url)||(0,v.bq)(e);return{config:e.config,url:P.Lo(n)}}),x=(0,p.Z)("card-share-view"),T=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderDmsCoordinates=function(e){var t=(0,m._)(e,2),n=t[0],r=t[1];return i.createElement(_.default,null,i.createElement(c.ZP,{name:"dms_coordinates",subtreeMetrikaGoal:"goal_deepuse"},i.createElement(g.Z,{ariaHidden:!1,ariaLabel:"Координаты",view:"primary"},i.createElement("div",{className:x("text",{clickable:!0}),dangerouslySetInnerHTML:{__html:[P.wD(r)+(r>0?"N":"S"),P.wD(n)+(n>0?"E":"W")].join(", ")}}))))},t._renderShortUrl=function(){var e=t.props;return i.createElement(_.default,{className:x("short-link"),icon:i.createElement(E.Z,{name:"website-24-flip",inline:!0})},i.createElement(c.ZP,{name:"short_link"},i.createElement(g.Z,{ariaHidden:!1,ariaLabel:"Ссылка для шаринга",view:"primary"},i.createElement("div",{className:x("text")},i.createElement(h.Z,{url:e.url},function(t,n){return n?f._(t,e.config):i.createElement(N.Z,{view:"small",withoutMargin:!0})})))))},t._renderCoordinatesContent=function(e){var t=(0,m._)(e,2),n=t[0],r=t[1];return i.createElement(c.ZP,{name:"coordinates",subtreeMetrikaGoal:"goal_deepuse"},i.createElement(g.Z,{ariaHidden:!1,ariaLabel:"Координаты",view:"primary"},i.createElement("div",{className:x("text")},r.toFixed(6)+", "+n.toFixed(6))))},t._renderCoordinates=function(){var e=t.props;return e.coordinates?i.createElement(u.Z,{className:x("coordinates"),icon:i.createElement(E.Z,{name:"coordinates-24",inline:!0}),content:t._renderDmsCoordinates(e.coordinates),delimiter:null,isLast:!0},t._renderCoordinatesContent(e.coordinates)):null},t._renderPush=function(){var e=t.props;return e.push?i.createElement(C,(0,d._)({},e.push,{metrikaGoal:e.metrikaGoal})):null},t}return(0,r._)(t,e),t.prototype.render=function(){return i.createElement("div",{role:"menu",className:x()},this._renderPush(),this._renderShortUrl(),this._renderCoordinates())},t}(i.Component),R=S((0,y.ZP)(T)),A=n(37830),I={closeShare:s.Z.close},B=(0,o.Z)(a.$j(function(e,t){var n=e.share,r=n.data,i=n.isExpanded;return{config:e.config,isExpanded:(null==r?void 0:r.id)?r.id===t.id&&i:i}},I),l.ZP)(function(e){function t(){return e.apply(this,arguments)}(0,r._)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.closeShare()},n.render=function(){var e=this.props,t=A.m(e.config);return i.createElement(c.ZP,{name:"share"},i.createElement(u.Z,{isInitiallyExpanded:e.isExpanded,isExpanded:e.isExpanded,delimiter:e.noDelimiter?null:void 0,content:i.createElement(R,{coordinates:e.coordinates,push:!e.isWideCard||e.isWideCard&&t?e.push:void 0,metrikaGoal:e.metrikaGoal})}))},t}(i.PureComponent))},63558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(34788),i=n(18007),a=n(87363),o=n(28216),s=n(90585),l=n(44748),c=n(47220),u=n(523),d=n(31336),m=n(49180),p=n(60517),v=n(90721),f=n(3780),h=n(2693),g=n(58865),_=n(96309),y=n(33228),b=n(4384),E=n(89318),k=n(9053),w="rgba(0,0,0,.04)",Z=(0,l.Z)("orgpage-similar-item"),C=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hover=function(){n.setState({hovered:!0})},n._unhover=function(){n.setState({hovered:!1})},n._renderImage=function(){var e=n.props.item,t=n.state.hovered;if(e.photoUrlTemplate)return a.createElement(_.Z,{url:e.photoUrlTemplate.replace("%s",k.I0.M),alt:void 0,height:160,backgroundFallback:w,hovered:t,withParanja:!0});var r=null;return e.icon&&(r=E.Gr({type:"rubrics",name:e.icon,size:"normal"},n.props.config)),r||(r=E.Gr({type:"rubrics",name:"fallback",size:"normal"},n.props.config)),a.createElement(_.Z,{height:160,backgroundFallback:w,alt:void 0,hovered:t,withParanja:!0},a.createElement(y.Z,{url:r,className:Z("rubric-image")}))},n._renderRating=function(){var e=n.props.item;return a.createElement("div",{className:Z("rating")},e.rating?a.createElement(f.Z,{ratingValue:e.rating}):a.createElement(v.Z,{ratingCount:0}))},n.state={hovered:!1},n}return(0,i._)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=t.id?c.S({id:t.id,seoname:t.seoname},void 0,e.config):void 0;return a.createElement(p.ZP,{name:"organization_card",logClick:!0,nodeState:{logId:t.id,permalink:t.id,uri:t.uri,title:t.title},useParentState:!0},a.createElement(m.Z,{ariaLabel:t.title,href:n,onLeftClick:e.onClick},a.createElement("div",{className:Z(),onMouseEnter:this._hover,onMouseLeave:this._unhover},a.createElement("div",{className:Z("image")},this._renderImage()),a.createElement("div",{className:Z("info")},a.createElement("div",{className:Z("title")},t.title),a.createElement(g.Z,{result:t}),a.createElement("div",{className:Z("rubrics")},t.category||e.category),a.createElement("div",{className:Z("feature")},this._renderRating())))))},t}(a.Component),N=(0,d.ZP)(C),P=n(31651),S=n(22645),x={openSimilar:u.Z.openSimilar},T=(0,l.Z)("card-similar-carousel"),R=(0,s.Z)(o.$j(null,x),d.ZP)(function(e){function t(t){var n;return(n=e.call(this,t)||this)._onSimilarClick=function(e){var t=n.props;t.onClick?t.onClick(e):t.openSimilar(e,{includeBounds:t.searchBounds,serpId:t.serpId,wide:t.wide})},n._onMouseEnter=function(e){n.setState({hoveredItemIndex:e})},n._onMouseLeave=function(){n.setState({hoveredItemIndex:null})},n._renderItemContent=function(e,t){var r=n.props,i=e.id?c.S({id:e.id,seoname:e.seoname},{},r.config):void 0,o=e.photoUrlTemplate&&e.photoUrlTemplate.replace("%s",k.I0.M);return r.wide?a.createElement(N,{key:e.id,item:e,onClick:function(){return n._onSimilarClick(e)}}):a.createElement(m.Z,{ariaLabel:e.title,href:i,onLeftClick:function(){return n._onSimilarClick(e)}},a.createElement("div",{className:T("item"),onMouseEnter:function(){return n._onMouseEnter(t)},onMouseLeave:n._onMouseLeave},a.createElement("div",{className:T("image")},a.createElement(_.Z,{height:96,url:o,alt:void 0,hovered:n.state.hoveredItemIndex===t},!e.photoUrlTemplate&&e.iconUrl?a.createElement(y.Z,{url:e.iconUrl,className:T("icon-fallback")}):null)),a.createElement("div",{className:T("description")},a.createElement("div",{className:T("title")},e.title,a.createElement(g.Z,{result:e})),a.createElement("div",{className:T("extra")},e.rating?a.createElement(f.Z,{ratingValue:e.rating}):a.createElement(v.Z,{ratingCount:0}),e.category&&!e.price?a.createElement("div",{className:T("category")},e.category):null,e.price?a.createElement("div",{className:T("price")},"от "+({price:e.price}).price," ₽"):null))))},n._renderSearchItem=function(e,t){var r=S.V(n.props.searchResults);return a.createElement(b.Z,{result:r[t],position:t,key:t,threshold:0},function(){return n._renderItemContent(e,t)})},n._renderSimilarItem=function(e,t){return a.createElement(p.ZP,{name:"result_item",nodeState:{type:e.isAdvert?"yabs":"business",logId:e.logId,permalink:e.id,uri:e.uri,position:t},useParentState:!0,logClick:!0,key:t},n._renderItemContent(e,t))},n._renderItem=function(e,t){return n.props.searchResults?n._renderSearchItem(e,t):n._renderSimilarItem(e,t)},n.state={hoveredItemIndex:null},n}return(0,i._)(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=4+(e.wide?160:96)/2;return a.createElement(p.ZP,{name:"related_places"},a.createElement("div",{className:T({wide:e.wide})},a.createElement(P.Z,{type:"h2"},a.createElement("div",{className:T("label")},e.label)),a.createElement(h.Z,(0,r._)({key:t.map(function(e){return e.id}).join(","),clickStep:2,buttonSize:"m",arrowStyle:{topVerticalOffset:n},itemsGap:16,padding:16},e.carouselOptions),t.map(this._renderItem))))},t}(a.PureComponent))},75494:(e,t,n)=>{"use strict";var r=n(18007);n(48533);var i=n(87363),a=n(44748),o=n(52869),s=n(11920),l=n(31336),c=n(60517),u=n(70457),d=n(94542),m=(0,u.Z)({resolved:{},chunkName:function(){return"search-snippet"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search-snippet").then(n.bind(n,49809))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 49809}}),p=(0,a.Z)("card-similar-organizations-list-view"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this)._itemsLoaded=function(e){n.setState({results:e.items})},n._renderResult=function(e){return i.createElement(d.Z,{className:p("snippet"),onClick:function(){return n.props.onClick(e)},key:e.id},i.createElement(m,{result:e,hideNeurosummary:!0}))},n._renderShowAll=function(){var e=n.props.onShowMoreClick,t=n.props.category;return e&&t?i.createElement("div",{className:p("show-all")},i.createElement(c.ZP,{name:"category",logClick:!0},i.createElement(d.Z,{onClick:function(){return e(t)}},"Посмотреть все"))):null},n.state={results:null},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;this._loadResultsAction=o.Z.create(s.Z.fetch({id:e.items.map(function(e){return e.id}),origin:"related"},e.config),{success:this._itemsLoaded})},n.componentWillUnmount=function(){o.Z.cancel(this._loadResultsAction)},n.render=function(){var e=this.state;return e.results?i.createElement("div",{className:p()},e.results.map(this._renderResult),this._renderShowAll()):this.props.placeholder},t}(i.PureComponent);t.Z=(0,l.ZP)(v)},98041:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(18007),i=n(53070),a=n(65752),o=n(87363),s=n(44748),l=n(60517),c=n(49180),u=n(53127),d=n(76941),m=(0,s.Z)("card-title-view"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=o.createRef(),n._renderInner=function(e){var t=n.props,r=n._renderBadge(),i=t.dangerouslySetInnerHTML&&"string"==typeof e?o.createElement("span",{dangerouslySetInnerHTML:{__html:e}}):e;return t.onTitleClick?o.createElement(l.ZP,{name:"title",metrikaGoal:"deepuse",logClick:!0},o.createElement("span",{className:m("header-content")},o.createElement(c.Z,{className:m("title-link"),href:t.url,onLeftClick:t.onTitleClick},i),r)):o.createElement(o.Fragment,null,i,r)},n._renderBadge=function(){var e=n.props.renderBadge;return e?e():null},n.state={fixed:!1,offsetHeight:null,scrollHeight:null},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){!t.fixed&&this.state.fixed&&this._ref.current&&this.setState({offsetHeight:this._ref.current.offsetHeight,scrollHeight:this._ref.current.scrollHeight}),t.fixed&&!this.state.fixed&&this.setState({offsetHeight:null,scrollHeight:null})},n.render=function(){var e=this,t=this.props,n=this.state,r=t.sticky&&n.fixed?"one-line":t.truncateTitle?"few-lines":void 0,s=null==t.renderShare?void 0:t.renderShare.call(t),l={marginBottom:t.sticky&&n.fixed&&null!==n.scrollHeight&&null!==n.offsetHeight?""+(n.scrollHeight-n.offsetHeight)+"px":void 0},c=o.createElement("div",{className:m("wrapper",{view:t.view,transparent:t.transparent})},t.displayTitle&&t.displayTitle!==t.title?o.createElement(o.Fragment,null,o.createElement(u.Z,{className:m("hidden-title")},t.title),o.createElement("div",{ref:this._ref,className:m("title",{truncated:r,"wide-icons":!!s}),itemProp:"name",style:l},this._renderInner(t.displayTitle))):o.createElement(u.Z,{elementRef:this._ref,className:m("title",{truncated:r,"wide-icons":!!s}),itemProp:"name",style:l},this._renderInner(t.title)));return o.createElement(o.Fragment,null,o.createElement(d.Z,{header:!0,position:"top",order:0,disabled:!t.sticky,onFixedChange:function(t){return e.setState({fixed:t})}},t.withShutterControl?o.createElement(a.Z,null):null,o.createElement("div",{className:m("icons")},s?o.createElement("div",{className:m("share")},s):null,t.onClose?o.createElement("div",{className:m("close")},o.createElement(i.Z,{onClick:t.onClose,offset:{right:0,top:0},circle:!0,relative:!0})):null),c),t.noSubtitle?null:o.createElement("div",{className:m("subtitle",{view:t.view,"no-bottom-padding":t.noBottomPadding,transparent:t.transparent})},t.children))},t}(o.Component)},67543:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var r=n(34788),i=n(18007),a=n(87363),o=n(36897),s=n(31336),l=n(44748),c=n(99243),u=n(11640),d=n(16647),m=n(60517),p=n(87843),v=n(6018),f=n(36887),h=n(49267),g=n(94542),_=n(14246),y=(0,l.Z)("masstransit-stops-view"),b=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._getStopIcon=function(e){var t="metro"===e.type?e.color:void 0,n="metro"===e.type?"На "+(e=>{switch(e.type){case"trolleybus":return"троллейбусе";case"bus":return"автобусе";case"minibus":return"маршрутке";case"tramway":return"трамвае";case"underground":return"метро";case"water":return"пароме";case"funicular":case"cable":return"фуникулёре";case"suburban":case"railway":return"поезде";default:return"транспорте"}})({type:"underground"}):"На "+(e=>{switch(e.type){case"trolleybus":return"троллейбусе";case"bus":return"автобусе";case"minibus":return"маршрутке";case"tramway":return"трамвае";case"underground":return"метро";case"water":return"пароме";case"funicular":case"cable":return"фуникулёре";case"suburban":case"railway":return"поезде";default:return"транспорте"}})({type:"bus"});return a.createElement("span",{className:y("stop-icon"),style:{color:t}},a.createElement(h.Z,{name:t?"metro-stop-24":"masstransit-24",inline:!0,ariaHidden:!1,ariaLabel:n}))},t._renderStop=function(e){var n=t.props,r=n.goal?["goal_deepuse",n.goal]:"goal_deepuse";return a.createElement("div",{itemScope:!0,itemType:"metro"===e.type?"http://schema.org/SubwayStation":"http://schema.org/BusStop",className:y("stop",{type:e.type})},a.createElement("div",{className:y("stop-name")},e.name),a.createElement(m.ZP,{name:"metro"===e.type?"metro_route":"masstransit_route",nodeState:{kind:n.toponymKind},metrikaGoal:r,gaGoal:"site.contacts.click.route",logClick:!0},n.isDistanceUpdating?a.createElement("div",{className:y("stop-distance-spinner")},a.createElement(f.Z,{view:"small",withoutMargin:!0})):t._renderDistance(e)))},t._renderDistance=function(e){var n=t.props,r=e.distance,i=e.coordinates,o=e.name,s=t.props.onDistanceClick;return n.config.isAliceIframe?null:a.createElement(g.Z,{className:y("stop-distance"),ariaLabel:o+" Построить маршрут Пешком "+r,onClick:function(e){e.stopPropagation(),null==s||s(i,o)}},a.createElement("div",{className:y("stop-distance-icon")},a.createElement(h.Z,{name:"pedestrian-16-flip",className:y("stop-distance-icon-inner"),inline:!0})),a.createElement("div",{className:y("stop-distance-text")},r))},t._renderDropdown=function(e,n){return a.createElement("div",{className:y("list")},a.createElement(_.Z,{tag:"div"},t._renderStop(n)),e.map(function(e,n){return a.createElement(p.default,{icon:t._getStopIcon(e),border:"hide",key:n,keepIconColor:!0},t._renderStop(e))}))},t}return(0,i._)(t,e),t.prototype.render=function(){var e=this.props,t=e.stops.filter(function(e){return void 0===e.distanceValue||e.distanceValue>1});if(0===t.length)return null;var n=(0,u._)(t),r=n[0],i=n.slice(1),o="metro"===r.type?"metro":"masstransit";return a.createElement(m.ZP,{name:"masstransit"},a.createElement("div",{className:y({type:o,clickable:!e.nonInteractive})},a.createElement(v.Z,{content:this._renderDropdown(i,r),icon:this._getStopIcon(r),value:i.length,delimiter:e.withoutDelimiter?null:void 0,hideCardBorder:!0,arrowHidden:1===t.length,isLast:e.isLast,isInitiallyExpanded:e.config.uatraits.isRobot,ariaHidden:e.ariaHidden,ariaLabel:"metro"===o?"Метро рядом":"Остановки рядом",keepIconColor:!0},this._renderStop(r)),e.region?a.createElement("div",{style:{display:"none"}},t.map(function(t){var n=d.u(t,e.region,e.config);return a.createElement("a",{href:n,key:t.id},t.name)})):null))},t}(a.Component),E=(0,s.ZP)(b),k=n(18188),w=n(20596),Z=n(52869),C=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onUpdateSuccess=function(e){var t=n.props.stops.map(function(t,n){var i=e[n];return[(0,r._)({},t,{distance:i?i.text:t.distance}),i?i.value:0]}).filter(function(t,n){return!!e[n]}).sort(function(e,t){return(0,k._)(e,2)[1]-(0,k._)(t,2)[1]}).map(function(e){return(0,k._)(e,1)[0]});n.setState({stops:t,isDistanceUpdating:!1})},n._onUpdateFail=function(){n.setState({isDistanceUpdating:!1})},n.state={stops:t.stops.slice(),isDistanceUpdating:!0},n}(0,i._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;this._getDistanceAction=Z.Z.create(w.Z.getDistance({coordinates:e.coordinates,stops:e.stops},e.config),{success:this._onUpdateSuccess,fail:this._onUpdateFail})},n.componentWillUnmount=function(){Z.Z.cancel(this._getDistanceAction)},n.render=function(){return this.props.children(this.state)},t}(a.Component),N=(0,s.ZP)(C),P=n(31651),S=n(28216),x=n(99091),T=n(25562),R={setMobileViewState:x.Z.setMobileViewState,setMapLocation:x.Z.setMapLocation,setParkingLayer:T.Z.setLayer,updateLayerAvailability:T.Z.updateLayerAvailability},A=S.$j(function(e){return{isLayerShown:e.parking.isLayerShown,isLayerEnabled:e.parking.isLayerEnabled,config:e.config}},R),I=(0,l.Z)("card-parking-view"),B=A(function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._onShowParkingLayerClick=function(){var e,n,r=t.props,i=null==(n=r.config.layers.carparks)?void 0:null==(e=n.zoomRange)?void 0:e[0];i&&(r.setMapLocation({center:r.coordinates,zoom:i,duration:450}),r.updateLayerAvailability({isLayerEnabled:!0,isLayerShown:!0}),r.setMobileViewState("mini"))},t._onHideParkingLayerClick=function(){var e=t.props;e.setParkingLayer(!1),e.setMobileViewState("mini")},t}return(0,i._)(t,e),t.prototype.render=function(){var e=this.props,t=e.isLayerShown&&e.isLayerEnabled;return a.createElement(m.ZP,{name:"parking_control",nodeState:{checked:t},logClick:!0},a.createElement(p.default,{ariaHidden:!0,className:I({noprint:!0}),view:"link",icon:a.createElement(h.Z,{name:"parking-24",inline:!0}),onClick:t?this._onHideParkingLayerClick:this._onShowParkingLayerClick,border:"hide"},t?"Скрыть парковки":"Показать парковки"))},t}(a.Component)),O=n(55057),M=n(47402),L=n(56589),D=n(57442),F=n(29375),U=["entrance","house","street","metro_station","district"],z=(0,l.Z)("card-transit-view"),H=function(e){function t(t){var n;return(n=e.call(this,t)||this)._skipMasstransitUpdate=function(){var e=n.props.result;return"business"===e.type||"house"===e.kind&&(0,o.J)(e.coordinates,e.displayCoordinates)},n._onTaxiPriceLoaded=function(e){n.setState({taxi:e})},n._renderStops=function(e){if(0===e.length)return null;var t,i,o=n.props,s=o.result,l={goal:"business"===s.type?null==(i=s.metrika)?void 0:null==(t=i.goals)?void 0:t.route:void 0,onDistanceClick:o.onDistanceClick,region:s.region,stops:e,toponymKind:"toponym"===s.type?s.kind:void 0,withoutDelimiter:!0};return n._skipMasstransitUpdate()?a.createElement(E,l):a.createElement(N,{stops:l.stops,coordinates:s.displayCoordinates},function(e){var t=e.stops,n=e.isDistanceUpdating;return a.createElement(E,(0,r._)({},l,{stops:t,isDistanceUpdating:n}))})},n._renderTaxi=function(){var e,t=n.props;if(t.hideTaxi)return null;var r=n.state.taxi;if(!r||"error"in r)return null;var i=r.priceText?"от "+({price:r.priceText}).price:"",o=t.config.taxi.desktopRef,s=F.V(r.link,{ref:o},t.config);return a.createElement(c.Z,null,a.createElement(m.ZP,{name:"get_taxi_button",logClick:!0,metrikaGoal:"metrika"in t.result?null==(e=t.result.metrika)?void 0:e.goals.taxi:void 0},a.createElement(p.default,{type:"taxi",view:"link",className:z(),icon:a.createElement(h.Z,{name:t.config.isYango?"yango-taxi-24":"ya-taxi-24"}),onClick:function(){return window.open(s,"_blank")},border:"hide"},"Такси "+i)))},n._renderParking=function(){var e=n.props.result;return"business"!==e.type&&(M.F(e)||!U.includes(e.kind))||n.props.config.isAliceIframe?null:a.createElement(B,{coordinates:e.displayCoordinates})},n.state={taxi:null},n}return(0,i._)(t,e),t.prototype.render=function(){var e=this.props.result,t=e.metro||[],n=e.stops||[];if("business"===e.type&&L.W(e))return null;var r="business"===e.type||"metro_station"!==e.kind?this._renderStops(t):null,i=this._renderStops(n),o=this._renderParking(),s=this._renderTaxi(),l=!!(r||i||s||o);return this.state.taxi&&!l?(null==this.props.hideCard||this.props.hideCard.call(this.props),null):a.createElement("div",{"aria-label":"Как добраться",className:z()},l?a.createElement(P.Z,{type:"h2",mediumBottomGutter:!this.props.isWideCard},"Как добраться"):null,r,i,s,o,a.createElement(D.Z,{onLoad:this._onTaxiPriceLoaded,coordinates:e.displayCoordinates}))},t}(a.PureComponent),q=(0,s.ZP)((0,O.ZP)(H))},60355:(e,t,n)=>{"use strict";n.r(t);var r=n(34788),i=n(18007);n(15238);var a=n(87363),o=n(28216),s=n(39705),l=n(42054),c=n(44748),u=n(90585),d=n(70457),m=n(31336),p=n(85172),v=n(55057),f=n(53106),h=n(7942),g=n(67456),_=n(7719),y=n(37830),b=n(72417),E=n(47220),k=n(35890),w=n(51),Z=n(3558),C=n(37032),N=n(77705),P=n(797),S=n(44369),x=n(56589),T=n(46694),R=n(47402),A=n(38648),I=n(18551),B=n(46210),O=n(80845),M=n(66395),L=n(19479),D=n(91086),F=n(76458),U=n(66553),z=n(69245),H=n(81194),q=n(49267),W=n(63214),G=n(60517),j=n(62621),V=n(13978),K=n(48912),Q=n(23893),Y=n(30353),X=n(12462),$=n(14460),J=n(9353),ee=n(36251),et=n(97208),en=n(71190),er=n(87843),ei=n(63064),ea=n(79615),eo=n(46444),es=n(62362),el=n(43310),ec=n(31553),eu=n(51930),ed=n(63162),em=n(78155),ep=n(26018),ev=n(49180),ef=n(84829),eh=n(64117),eg=n(35149),e_=n(92771),ey=n(62341),eb=n(53521),eE=n(28486),ek=n(11811),ew=n(2596),eZ=n(3812),eC=n(79039),eN=n(59600),eP=n(43285),eS=n(30594),ex=n(40157),eT=n(93722),eR=n(67543),eA=n(32228),eI=n(97032),eB=n(66709),eO=n(8601);n(99243);var eM=n(36428),eL=n(5245),eD=n(31856),eF=n(90004),eU=n(17716),ez=n(25702),eH=n(37043),eq=n(51021),eW=n(15692),eG=n(44691),ej=n(33106),eV=n(6486),eK=n(10681),eQ=n(867),eY=n(76461),eX=n(56844),e$=n(78397),eJ=n(9391),e0=n(39014),e1=n(92688),e4=n(1748),e2=n(21511),e3=n(77558),e8=n(12314),e7=n(6507),e6=n(5835),e5=n(46557),e9=n(23129),te=n(27192);(0,d.Z)({resolved:{},chunkName:function(){return"promo-chunk"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo-chunk").then(n.bind(n,58148))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 58148}},{ssr:!1});var tt=(0,d.Z)({resolved:{},chunkName:function(){return"afisha"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("afisha").then(n.bind(n,66739))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 66739}},{fallback:a.createElement(W.Z,null)}),tn=(0,d.Z)({resolved:{},chunkName:function(){return"full"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("full").then(n.bind(n,96807))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 96807}},{fallback:a.createElement(eC.Z,null)}),tr=(0,d.Z)({resolved:{},chunkName:function(){return"chain"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("chain").then(n.bind(n,30177))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 30177}},{fallback:a.createElement(eC.Z,null)}),ti=(0,d.Z)({resolved:{},chunkName:function(){return"posts"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("posts").then(n.bind(n,39881))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 39881}},{fallback:a.createElement(eM.Z,null)}),ta=(0,d.Z)({resolved:{},chunkName:function(){return"photos"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("photos").then(n.bind(n,74618))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 74618}},{fallback:a.createElement(eL.Z,null),ssr:!1}),to=(0,d.Z)({resolved:{},chunkName:function(){return"photos"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("photos").then(n.bind(n,74618))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 74618}},{fallback:a.createElement(eL.Z,null),ssr:!0}),ts=(0,d.Z)({resolved:{},chunkName:function(){return"afisha"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("afisha").then(n.bind(n,45857))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 45857}}),tl=(0,d.Z)({resolved:{},chunkName:function(){return"stories-preview"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("stories-preview").then(n.bind(n,46109))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 46109}},{ssr:!1}),tc=(0,d.Z)({resolved:{},chunkName:function(){return"stories-preview"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("stories-preview").then(n.bind(n,52312))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 52312}},{ssr:!1}),tu=(0,d.Z)({resolved:{},chunkName:function(){return"stories-preview"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("stories-preview").then(n.bind(n,33260))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 33260}},{ssr:!1}),td=(0,d.Z)({resolved:{},chunkName:function(){return"business-infrastructure"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("business-infrastructure").then(n.bind(n,93416))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 93416}}),tm=(0,d.Z)({resolved:{},chunkName:function(){return"business-infrastructure"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("business-infrastructure").then(n.bind(n,91723))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 91723}}),tp=(0,d.Z)({resolved:{},chunkName:function(){return"business-infrastructure"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("business-infrastructure").then(n.bind(n,92557))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 92557}}),tv=(0,d.Z)({resolved:{},chunkName:function(){return"maps-booking-snippet"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("maps-booking-snippet").then(n.bind(n,96466))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 96466}}),tf=(0,d.Z)({resolved:{},chunkName:function(){return"hotels-booking-snippet"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("hotels-booking-snippet").then(n.bind(n,8373))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 8373}}),th=(0,d.Z)({resolved:{},chunkName:function(){return"tooltip"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("tooltip").then(n.bind(n,2068))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 2068}}),tg=(0,d.Z)({resolved:{},chunkName:function(){return"chain"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("chain").then(n.bind(n,24488))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 24488}}),t_={openCardEvent:eJ.Z.openCardEvent,writeReview:eI.Z.editReview,openBusinessFeedback:eO.Z.openBusinessFeedback},ty=(0,c.Z)("business-card-view"),tb=(0,u.Z)(eP.ZP,m.ZP,p.ZP,o.$j(function(e){var t=(0,g.b)(e);return{mapMode:e.map.mode,wide:(0,_.G)(e)&&!t,isSidebarWithPopup:t}},t_)),tE=function(e){function t(t){var n;return(n=e.call(this,t)||this)._mainRef=a.createRef(),n._contactsRef=a.createRef(),n._awardsRef=a.createRef(),n._advertOfferBannerRef=a.createRef(),n._realtyRef=a.createRef(),n._scrolledToHighlightedReview=!1,n._editPostUrl=(0,e5.T)(n.props.config,n.props.result.id),n._getShareOptions=function(){if(!(0,y.m)(n.props.config)){var e=n.props.result;return{type:"org",pushMessage:e.title+(e.address?". "+e.address:"")}}},n._onScroll=function(e){var t,r=(null!=(t=null==e?void 0:e.scrollTop)?t:0)>0;n.state.hideShutterControl!==r&&n.props.config.uatraits.isTurboApp&&n.setState({hideShutterControl:r})},n._scrollTo=function(e,t){var r=n.props.getScrollableNode();e&&r&&(0,z.Z)({targetElement:e,insideElement:r,offset:null==t?void 0:t.offset,duration:500},n.props.config)},n._onAddPhotosClick=function(){var e=n.props,t=e.result;t.id&&e.checkAuthorization("reviews",function(){var n;e.showAddPhotosForm({businessId:e.result.id,isUserOwner:e.result.isUserOwner,title:t.title,address:t.address,photo:null==(n=t.photos)?void 0:n.urlTemplate})})},n._onBrandingBannerClick=function(){var e=n.props,t=e.result,r=e.onBrandingClick;r&&t.brandingBanner&&t.brandingBanner.action&&r(t.brandingBanner.action,"preview_card")},n._onEditClick=function(e){var t=n.props;if(!e){var r=t.result;f.ZP.reachGoal({goal:"correct_inac"});var i=r.isUserOwner?b.l(r.id,t.config):void 0;if(i){window.open(i,"_blank");return}}t.onEditClick(e)},n._onPhotosClick=function(e){n.props.result.photos,n.props.onPhotosClick(void 0,e?{selectedTag:e}:void 0)},n._onEventPhotoClick=function(e,t){var r=e.action.blockData.images;if(r){var i=String(r.indexOf(t));n.props.showMedia({meta:{id:i,skipAdvert:!1},isPreviewMode:!1,medias:r.map(function(e,t){return{id:String(t),url:e.urlTemplate.replace("%s","XXL"),showReactions:!1}}),selectedId:i})}},n._onPostClick=function(e){var t=n.props;t.onPostClick&&t.onPostClick(e),t.onTabChange("posts")},n._onRelatedClick=function(e){e.sourceUrl&&window.open(e.sourceUrl)},n._openFullObjects=function(){var e=n._getTopObjectsTab()||n._getTopPlacesTab();e&&n.props.onTabChange(e)},n._openFullPlaces=function(){n._getTopPlacesTab()&&n.props.onTabChange("inside")},n._scrollToReviews=function(){var e=n.props;0===e.result.ratingData.reviewCount?e.writeReview(e.result):e.onTabChange("reviews")},n._scrollToContacts=function(){n._scrollTo(n._contactsRef.current)},n._scrollToOverviewAwards=function(){if("overview"===n.props.tab){n._scrollToAwards();return}n.setState({shouldScrollToAwards:!0},function(){return n.props.onTabChange("overview")})},n._scrollToOverviewAdvertOfferBanner=function(){if("overview"===n.props.tab){n._scrollToAdvertOfferBanner();return}n.setState({shouldScrollToAdvertOfferBanner:!0},function(){return n.props.onTabChange("overview")})},n._scrollToAwards=function(){var e=-n.props.getStickyElementsOffset("top");n._scrollTo(n._awardsRef.current,{offset:e})},n._scrollToAdvertOfferBanner=function(){n.setState({isAdvertOfferBannerExpanded:!0},function(){var e=-n.props.getStickyElementsOffset("top");n._scrollTo(n._advertOfferBannerRef.current,{offset:e})})},n._scrollToHighlightedReview=function(e,t){n._scrolledToHighlightedReview||(n._scrolledToHighlightedReview=!0,setTimeout(function(){var r=n.props.getScrollableNode();(0,z.Z)({targetElement:e,insideElement:r,offset:t.offset,duration:500,onEnd:function(){return e.classList.add("_highlighted")}},n.props.config)},0))},n._getRelatedProducts=function(e){return e.matchedObjects||e.topObjects},n._getAfishaWidget=function(){if(!n.props.config.business.enableAfisha)return null;var e=n.props.result,t=e.categories,r=e.references,i=n.props.filters,a=t&&t.find(function(e){return"cinemas"===e.class}),o=r&&r.find(function(e){return"afisha"===e.scope}),s=o&&o.id;if(!s||!a)return null;var l=(i||[]).filter(B.B).find(function(e){return"events"===e.id});return{id:s,initialMovieId:l?O.q(l)[0]:void 0}},n._getTopObjectsTab=function(){return(0,U.Bk)(n.props.result)},n._getTopPlacesTab=function(){return(0,U.IV)(n.props.result)},n._getRealtyIframeUrl=function(){var e=n.props,t=w.p(e.result,e.config);if(t){var r=e.config.query.realty_iframe||t.href;return"dark"===e.theme&&(r+=(r.includes("?")?"&":"?")+"theme=dark"),r.replace("https://m.realty.","https://realty.")}},n._getAdvertLandingUrl=function(){var e=n.props.config.advertLandingUrl;if(e)return e+"?utm_source=webmaps&utm_medium=org_card_link&utm_campaign=webmaps_org_card&permalink="+n.props.result.id},n._showCompetitors=function(){return!!(n.props.config.experiments.ui.similarPlacesShowCompetitors||n.props.result.modularCard.showCompetitors)},n._getTabs=function(){var e,t,i,o,s,l,c=n.props.result,u=n.props.config,d=!n.props.isSidebarWithPopup,m=!!n.props.isOrgpage,p=n._showCompetitors(),v=[{key:"overview",title:"Обзор",render:function(e,t){return n._renderOverviewTab({isTabShown:t})},href:E.S(c,{sublanding:void 0},u)}];if(eq.Ry("realty",c,m,u)){var f,h=null==(f=n.props.config.bunker.tooltipTexts)?void 0:f.realtyTab;v.push({key:"realty",title:"Недвижимость",titleNode:function(e){var t=e.ref;return a.createElement(a.Fragment,null,h?a.createElement(th,{zIndex:9999,position:"bottom",id:"realty-tab",offset:{main:-18,side:0},showArrow:!0,showOnMobile:!0,closeOnOutsideClick:!0,title:h.title,text:h.text,targetRef:function(){var e;return(null==t?void 0:null==(e=t.current)?void 0:e.parentElement)||null}}):null,"Недвижимость")},render:n._renderRealtyTab,count:c.realtyOffersCount,wide:!0,highlighted:!0,href:E.S(c,{sublanding:"realty"},u)})}return(eq.Ry("infrastructure",c,m,u)&&v.push({key:"infrastructure",title:"Инфраструктура",render:n._renderInfrastructureTab,href:E.S(c,{sublanding:"infrastructure"},u)}),eq.Ry("edadeal",c,m,u)&&v.push({key:"edadeal",title:"Каталог скидок",render:n._renderEdadeal,wide:!0,href:E.S(c,{sublanding:"edadeal"},u)}),eq.Ry("menu",c,m,u)?v.push({key:"menu",title:"Меню",render:function(){return n._renderFullItemsTab("menu")},wide:d,href:E.S(c,{sublanding:"menu"},u)}):eq.Ry("prices",c,m,u)&&v.push({key:"prices",title:"Товары и услуги",render:function(){return n._renderFullItemsTab("prices")},wide:d,href:E.S(c,{sublanding:"prices"},u)}),eq.Ry("inside",c,m,u)&&v.push({key:"inside",title:(null==c?void 0:null==(e=c.businessProperties)?void 0:e.is_outdoor)?"На территории":"Организации внутри",render:function(){return n._renderFullItemsTab("inside")},wide:!1,href:E.S(c,{sublanding:"inside"},u)}),eq.Ry("posts",c,m,u)&&v.push({key:"posts",title:"Новости",count:(null==(t=c.eventsPreviews)?void 0:t.count)||0,render:n._renderPostsTab,wide:d,href:E.S(c,{sublanding:"posts"},u)}),eq.Ry("gallery",c,m,u)&&v.push({key:"gallery",title:"Фото",count:(null!=(s=null==(i=c.photos)?void 0:i.count)?s:0)+(null!=(l=null==(o=c.videos)?void 0:o.items.length)?l:0),render:n._renderPhotosTab,wide:d,href:E.S(c,{sublanding:"gallery"},u)}),eq.Ry("events",c,m,u)&&v.push({key:"events",title:"События",render:n._renderEventsTab,wide:d,href:E.S(c,{sublanding:"events"},u)}),eq.Ry("reviews",c,m,u)&&v.push({key:"reviews",title:"Отзывы",count:c.ratingData.reviewCount,render:function(e,t){return n._renderReviewsTab({isTabShown:t})},wide:d,href:E.S(c,{sublanding:"reviews"},u)}),eq.Ry("chain",c,m,u)&&v.push({key:"chain",title:"Филиалы",render:n._renderChainTab,href:E.S(c,{sublanding:"chain"},u)}),v.push({key:"features",title:"Особенности",render:n._renderFeaturesTab,wide:d,href:E.S(c,{sublanding:"features"},u)}),p&&eq.Ry("related",c,m,u)&&v.push({key:"related",title:"Похожие места",render:n._renderSimilarPlacesTab,href:E.S(c,{sublanding:"related"},u)}),n.props.isOrgpage)?v.map(function(e){return(0,r._)({},e,{wide:d})}):v},n._onMetrikaReady=function(e){var t=n.props;(0,e1.z)({counter:e,result:t.result,config:t.config})},n._getAdvertUTMs=function(){return(0,F.Bq)(n.props.isOrgpage)},n._onAdvertOfferBannerExpandChange=function(e){n.setState({isAdvertOfferBannerExpanded:e})},n._getBookingServices=function(){var e,t,r,i,a,o,s,l,c=n.props.result,u=(null==(t=c.matchedObjects)?void 0:null==(e=t.categories[0])?void 0:e.categoryItems)&&(null==(i=c.matchedObjects.categories[0])?void 0:null==(r=i.categoryItems[0])?void 0:r.source);return"object"==typeof u&&"YANDEX_BOOKING"===u.id?null==(o=c.matchedObjects)?void 0:null==(a=o.categories[0])?void 0:a.categoryItems:null==(l=c.topObjects)?void 0:null==(s=l.categories[0])?void 0:s.categoryItems.filter(function(e){return"YANDEX_BOOKING"===e.source})},n._shouldShowPanorama=function(e){var t,r,i=n.props,a=i.result,o=!!((null==(t=a.photos)?void 0:t.count)||(null==(r=a.advert)?void 0:r.photo));return"top"===e&&!i.isOrgpage&&o&&!a.brandingBanner||!!("bottom"===e&&i.isOrgpage)},n._handleRealtyIframeMessage=function(e){var t,r=e.data;(null==(t=n._realtyRef.current)?void 0:t.contentWindow)===e.source&&"CALL_PHONE"===r.type&&(window.location.href="tel:"+r.phone)},n._shouldRenderCurrentPlaceholder=function(e){return"bottom"===e&&!n.state.hideBottomPlaceholder||"middle"===e&&!n.state.hideMiddlePlaceholder||"upper-middle"===e&&!n.state.hideUpperMiddlePlaceholder||"upper"===e&&!n.state.hideUpperPlaceholder||"upper-tab"===e&&!n.state.hideUpperTabPlaceholder},n._onDirectRender=function(e){"bottom"===e&&n.setState({hideBottomPlaceholder:!0}),"middle"===e&&n.setState({hideMiddlePlaceholder:!0}),"upper-middle"===e&&n.setState({hideUpperMiddlePlaceholder:!0}),"upper"===e&&n.setState({hideUpperPlaceholder:!0}),"upper-tab"===e&&n.setState({hideUpperTabPlaceholder:!0})},n._renderSection=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);return 0===i.length?null:a.createElement("div",{className:n.props.isOrgpage?void 0:ty("section")},i.map(function(e,t){return a.createElement(a.Fragment,{key:t},e)}))},n._renderGraySection=function(e){return n.props.isOrgpage?e:a.createElement("div",{className:ty("gray-section")},e)},n._renderBreadcrumbs=function(){var e=n.props,t=e.result.breadcrumbs;return!t||0===t.length||(0,y.m)(e.config)?null:a.createElement("div",{className:ty("breadcrumbs")},a.createElement(eS.default,{breadcrumbs:t}))},n._renderIfSwipableMedia=function(e){return e},n._renderOwnerSection=function(){if(!n.props.result.isUserOwner)return null;var e=n.props.config.experiments.ui,t=e.raiseCorrectInaccuracyBlock,r=e.showAdvertiseCompany,i=n._getAdvertLandingUrl(),o=r&&i&&!Z.x(n.props.result);return t||o?n._renderSection(a.createElement(a.Fragment,null,t?n._renderEditButton(!0):null,o?a.createElement("div",{className:ty("advertise",{noprint:!0,topMargin:!t})},a.createElement(H.Z,{view:"secondary-blue",size:"medium",icon:a.createElement(q.Z,{name:"mark-priority-24-flip"}),onClick:function(){return window.open(i,"_blank")},isStretched:!0},"Рекламировать компанию")):null)):null},n._renderSpecialOffer=function(e){var t,r,i,o=n.props,s=n.props.result,l=s.matchedObjects,c=C.U(s);if((0,e6.KR)(o.result,o.config.experiments))return a.createElement("div",{className:ty("advert-unit")},a.createElement(eG.Z,{advert:o.result.advert,metrikaGoal:null==(t=o.result.metrika)?void 0:t.goals.cta}));if(c&&!l&&!o.config.hideAdverts)return a.createElement("div",{className:ty("offers")},a.createElement(G.ZP,{name:"popular"},n._renderAdaptiveExtended(a.createElement(eu.Z,{items:c,ordClient:null==(i=s.advert)?void 0:null==(r=i.ordInfo)?void 0:r.client,view:o.isOrgpage?"wide":"narrow",advertBadgeUTMs:n._getAdvertUTMs()})),n._renderRelatedProductsLink({withMargin:!0,withBorder:!e})));var u=n._getBookingServices();return(null==u?void 0:u.length)&&s.booking&&"carwash"!==s.booking.bookingType?n._renderBookingWidget(u):null},n._renderBrandingBanner=function(e,t){var r=n.props.theme;return a.createElement(G.ZP,{name:"branding_banner",logClick:!0,nodeState:{branding:e.id}},a.createElement("img",{"aria-hidden":!0,alt:"",className:ty("branding-banner",{clickable:!!e.action,rounded:t}),src:"dark"===r&&e.urlDark||e.url,onClick:n._onBrandingBannerClick}))},n._renderBrandingBannerOverview=function(){var e=n.props.result.brandingBanner;return(null==e?void 0:e.position)!=="overview"||n.props.isOrgpage?null:n._renderSection(a.createElement("div",{className:ty("branding-banner-wrapper")},n._renderBrandingBanner(e,!0)))},n._renderAdaptiveExtended=function(e){return n.props.isOrgpage&&e?a.createElement("div",{className:ty("extend")},e):e},n._renderHeaderMedia=function(){var e=n.props;return n._renderIfSwipableMedia(n._renderAdaptiveExtended(a.createElement(a.Fragment,null,a.createElement(ei.Z,{view:e.isOrgpage?"wide":"normal",hideVideoIcon:e.isSidebarWithPopup,result:e.result,onItemClick:function(){return n._onPhotosClick()},onAddItemClick:n._onAddPhotosClick}),a.createElement(eB.Z,null,function(e){var t=e.setCloseButtonColor;return a.createElement(eH.v,{onChange:function(e){return t(e?"strict-white":"default")}})}))))},n._renderPromo=function(){var e,t=n.props,r=t.config.bunker.zapravkiPromo;return(null==r?void 0:r.enabled)&&(null==(e=t.result.features)?void 0:e.some(function(e){return"payment_from_car"===e.id&&e.value}))?a.createElement(e$.Z,{zapravkiPromo:r}):null},n._renderHeaderAdvert=function(){var e=n.props,t=N.i(e.result,e.config);return!t||(0,e6.KR)(e.result,e.config.experiments)?null:a.createElement(V.Z,{data:t,wide:e.wide,showDirect:!!e.result.modularCard.showDirectBanner})},n._renderPromoAction=function(){var e=n.props,t=e.result;return t.promo?a.createElement("div",{className:ty("promo-action")},a.createElement(G.ZP,{name:"promo_action",subtreeState:{advert:!1},subtreeLogViewportEnter:"when appears on screen"},a.createElement(te.Z,{data:{type:"promo",promo:t.promo},wide:e.wide,secondary:!0}))):null},n._renderHeader=function(e){var t,r,i=n.props,o=i.result,s=(0,D.lA)(o,i.mapMode,i.theme),l=!i.wide&&!s,c=a.createElement(a.Fragment,null,a.createElement(en.Z,{result:i.result,appShareOptions:n._getShareOptions(),onTitleClick:l?i.onDetailsClick:void 0,onRouteClick:i.onRouteClick,onCategoryClick:i.onCategoryClick,onReviewsClick:n._scrollToReviews,onAwardsClick:n._scrollToOverviewAwards,onAdvertOfferHintClick:n._scrollToOverviewAdvertOfferBanner,onMovedClick:i.onMovedClick,onClose:void 0,addToVisited:i.addToVisited,title:i.result.title,generateUrl:!0,withShutterControl:!1,view:"normal",sticky:!0,justTitle:"wide"===e.effectiveWidth}),i.wide?null:n._renderHighPriorityAdvertOfferBanner());return"wide"===e.effectiveWidth?c:a.createElement(a.Fragment,null,a.createElement(ej.Z,{name:"breadcrumbs"},n._renderBreadcrumbs()),c,n._renderTypo(),a.createElement(ec.default,{coordinates:o.displayCoordinates,push:{type:"org",message:o.title+(o.address?". "+o.address:""),uri:o.uri},metrikaGoal:null==(r=o.metrika)?void 0:null==(t=r.goals)?void 0:t["send-to-phone"]}),n._renderOwnersBanner())},n._renderOwnersBanner=function(){var e=n.props.result.ownersBanner;return e?n._renderSection(a.createElement(ea.Z,{banner:e})):null},n._renderAfisha=function(){if(!n.props.config.business.enableAfisha)return null;var e=n.props.result,t=e.afishaItems,r=n._renderAfishaLink();return n._renderRelatedProducts(!1)||n._renderAfishaWidget()||!t||0===t.length?r?n._renderSection(r):null:n._renderSection(n._renderAdaptiveExtended(a.createElement("div",{className:ty("afisha")},a.createElement(ts,{wide:!!n.props.isOrgpage,place:e,items:t}))),n._renderAfishaLink())},n._renderRelatedProducts=function(e){var t,r,i=n.props,o=i.result,s=n._getBookingServices();if((null==s?void 0:s.length)&&o.booking&&"carwash"!==o.booking.bookingType)return n._renderBookingWidget(s);var l=n._getRelatedProducts(o);return(null!=(r=null==l?void 0:null==(t=l.categories[0])?void 0:t.categoryItems.length)?r:0)===0||n._getAfishaWidget()?null:n._renderAdaptiveExtended(a.createElement(eE.Z,{result:o,onAllClick:n._openFullObjects,allItemsButton:n._renderRelatedProductsLink({wide:i.isOrgpage,withBorder:!e}),onRelatedClick:n._onRelatedClick,size:i.isOrgpage?"normal":"small",carouselOptions:i.isOrgpage?{padding:80}:void 0}))},n._renderBookingWidget=function(e){var t=(0,e2.oS)(n.props.result);return n._renderAdaptiveExtended(a.createElement(ek.Z,{services:e,companyInfo:t,wide:n.props.isOrgpage}))},n._renderPlacesInside=function(){var e,t=n.props,r=t.result,i=!!C.U(r);if(r.topObjects||r.matchedObjects||i||!r.topPlaces)return null;var o=E.S(r,{sublanding:"inside"},n.props.config);return n._renderSection(a.createElement(ew.Z,{isOutdoor:null==r?void 0:null==(e=r.businessProperties)?void 0:e.is_outdoor,items:r.topPlaces,onClick:t.onPlacesInsideClick,onAllClick:n._openFullPlaces,allItemsButton:n._renderPlacesInsideLink(),allItemsUrl:o}))},n._renderPlacesInsideLink=function(){return n.props.result.topPlaces?a.createElement(G.ZP,{name:"show_places_inside",logClick:!0},a.createElement("div",{className:ty("menu-link")},a.createElement(er.default,{ariaLabel:"Показать все места",view:"link",icon:a.createElement(q.Z,{name:"list-24-flip",inline:!0}),border:"hide",onClick:n._openFullPlaces},"Показать все места"))):null},n._renderPersonalFeedback=function(){return n.props.result.sources.every(function(e){return"personal_feedback"!==e.id})?null:a.createElement("div",{className:ty("personal-feedback")},a.createElement("div",{className:ty("personal-feedback-text")},"Спасибо, что обновили данные об этой организации. Сейчас исправления проходят проверку и видны только вам, а после станут доступны всем пользователям."))},n._renderMobileAdvert=function(){var e;return null==(e=n.props.config.banner)||e.blockIds.orgpageMobile,null},n._renderAfishaLink=function(){var e=n.props.result.afishaUrl;return e&&n.props.config.business.enableAfisha?a.createElement(eg.Z,{url:e}):null},n._renderBusinessLinks=function(){var e=n.props.result,t=e.status,r=e.businessLinks,i=e.topObjects,o=e.matchedObjects;if(!r||0===r.length||"open"!==t)return null;var s=i||o?r.filter(function(e){return"menu"!==e.type}):r,l=eb.j(s,n.props.config).filter(function(e){return!["delivery"].includes(e.id)});return 0===l.length?null:a.createElement(Y.Z,{groups:l})},n._renderBusinessAdvert=function(){var e=n.props,t=e.result.advert;if(t&&t.text&&!e.config.hideAdverts)return a.createElement("div",{className:ty("advert-unit")},a.createElement(K.Z,{data:t,advertBadgeUTMs:n._getAdvertUTMs()}))},n._renderAddPhotos=function(){var e=n.props,t=e.config,r=e.result;return t.hosts.photoUploadApi&&r.modularCard.showAddPhotoButton?a.createElement(G.ZP,{name:"add_photo",logClick:!0},a.createElement(er.default,{className:ty("add-photo",{noprint:!0}),border:"hide",view:"link",icon:a.createElement(q.Z,{name:"photo-24",inline:!0}),onClick:n._onAddPhotosClick,stretchBorder:!0},e7.oz.addPhotosText)):null},n._renderAfishaWidget=function(){var e=n._getAfishaWidget();return e?n._renderSection(n._renderAdaptiveExtended(a.createElement(tt,e))):null},n._renderFuelInfo=function(){var e=n.props.result.fuelInfo;return e?a.createElement(ep.Z,e):null},n._renderFeaturesTab=function(){return n._renderFeatures("tab")},n._renderFeatures=function(e){var t=n.props,r=t.result,i=(0,D.lA)(r,t.mapMode,t.theme);return a.createElement(Q.Z,{result:r,view:e,onCategoryClick:(0,y.m)(t.config)?void 0:function(e){return t.onCategoryClick(e,{})},hideMoreInfo:!!r.masstransitStop||!!i,isOrgpage:t.isOrgpage,onTabChange:t.onTabChange,onPhotosClick:t.onPhotosClick,noEdit:!r.modularCard.showFeedbackButton})},n._renderBeOwner=function(){var e=n.props,t=e.config,r=e.result;if(!t.hosts.sprav||r.isUserOwner||(0,y.m)(e.config)||e.isOrgpage)return null;var i=r.businessProperties;if((null==i?void 0:i.has_verified_owner)||!r.modularCard.showClaimOrganization||Z.x(r))return null;var o=b.l(r.id,t,"&utm_medium=org_card&utm_campaign=owner-button");return a.createElement("div",{className:ty("footer-link-wrapper")},a.createElement(G.ZP,{name:"sprav_link",logClick:!0},a.createElement("a",{href:o,target:"_blank",className:ty("footer-link"),"data-id":"become-owner"},"Стать владельцем в Яндекс Картах")))},n._renderAdvertOrderLink=function(){var e=n.props,t=e.result,r=n._getAdvertLandingUrl();return!r||Z.x(t)||(0,y.m)(e.config)?null:a.createElement("div",{className:ty("footer-link-wrapper")},a.createElement(G.ZP,{name:"advert_order_link",logClick:!0},a.createElement("a",{href:r,target:"_blank",className:ty("footer-link")},"Разместить рекламу")))},n._renderVerified=function(){var e=n.props,t=e.result;return e.config.hideAdverts||t.isUserOwner?null:a.createElement(e_.Z,{businessId:t.id,isVerified:P.B(t),isAdvert:Z.x(t),hideBecomeOwner:!t.modularCard.showClaimOrganization})},n._renderReviews=function(e){var t=n.props;return a.createElement(eT.default,{isVisible:null==e?void 0:e.isTabShown,renderAll:null==e?void 0:e.renderAll,result:t.result,showMedia:t.showMedia,showFriendsSuggest:null==e?void 0:e.showFriendsSuggest,showAll:"overview"===n.props.tab?function(){return n.props.onTabChange("reviews")}:void 0,showReviewSuggestion:"overview"===n.props.tab,scrollToReview:n._scrollToHighlightedReview,sectionClassName:ty("section"),showActions:null==e?void 0:e.renderAll,showPagination:(n.props.isOrgpage||!1)&&"business"===n.props.result.type&&"reviews"===n.props.tab})},n._renderAwards=function(e){var t=n.props;return a.createElement("div",{className:ty("awards",{wide:e}),ref:e?void 0:n._awardsRef},a.createElement(eD.Z,{result:t.result}))},n._renderAdvertOfferBanner=function(){var e;return(null==(e=n.props.result.advertOffer)?void 0:e.banner)?a.createElement("div",{ref:n._advertOfferBannerRef},a.createElement(eW.Z,{result:n.props.result,isExpanded:n.state.isAdvertOfferBannerExpanded,wide:!!n.props.isOrgpage,onExpandChange:n._onAdvertOfferBannerExpandChange})):null},n._renderHighPriorityAdvertOfferBanner=function(){return"high"!==S.V(n.props.result,n.props.config)?null:a.createElement(a.Fragment,null,n._renderAdvertOfferBanner())},n._renderLowPriorityAdvertOfferBanner=function(){return"low"!==S.V(n.props.result,n.props.config)?null:a.createElement(a.Fragment,null,n._renderSeparator(),n._renderSection(n._renderAdvertOfferBanner()))},n._renderReviewsOverview=function(e){return n._renderAdaptiveExtended(a.createElement(a.Fragment,null,n._renderAwards(),n._renderReviews((0,r._)({},e,{renderAll:!!n.props.config.uatraits.isRobot}))))},n._renderReviewsTab=function(e){return a.createElement(a.Fragment,null,n._renderAwards(!n.props.isSidebarWithPopup),n._renderReviews((0,r._)({},e,{renderAll:!0,showFriendsSuggest:!0})))},n._renderChain=function(){var e,t=n.props,r=t.result;if(!r.chain||(0,y.m)(t.config))return null;var i=r.region?k.w(r.chain,r.region,t.config):void 0;return a.createElement(G.ZP,{name:"chain",logClick:!0},a.createElement(er.default,{className:ty("chain",{noprint:!0}),border:"hide",view:"link",icon:a.createElement(q.Z,{name:"list-24-flip",inline:!0}),onClick:t.onChainClick,stretchBorder:!0},a.createElement(ev.Z,{ariaLabel:"Все филиалы сети",href:i},"Все филиалы сети")),(null==(e=t.result.seoRobots)?void 0:e.chainResults)?a.createElement(ej.Z,{name:"chain"},a.createElement(tg,{wide:n.props.wide,result:t.result,isLoading:!1,items:t.result.seoRobots.chainResults,onResultClick:l.Z,onEndReached:l.Z,placeholder:null,showAddresses:!0})):null)},n._renderDataSources=function(){var e=n.props.result.sources;return 0===e.length?null:a.createElement("div",{className:ty("sources")},a.createElement(ef.Z,{sources:e}))},n._renderBooking=function(){var e=n.props,t=e.result.userBookings;return t&&0!==t.length?n._renderSection(a.createElement(tv,{booking:t[0],searchResult:e.result,isWide:e.wide})):null},n._renderHotelsBooking=function(){var e,t=n.props,r=null==(e=t.result)?void 0:e.userHotelBookings;return(null==r?void 0:r.length)&&t.config.experiments.ui.hotelsBooking?n._renderSection(a.createElement(tf,{userHotelBookings:r,searchResult:t.result})):null},n._renderInfrastructureTab=function(){var e=n.props.result.infrastructure;return e?a.createElement("div",{className:ty("infrastructure")},e.categories?n._renderSection(a.createElement(td,{organization:n.props.result,categories:e.categories.data,title:e.categories.title})):null,n._renderSeparator(),e.info?n._renderSection(a.createElement(tm,{organizationId:n.props.result.id,data:e.info.data,title:e.info.title})):null):null},n._renderRealtyTab=function(){var e=n._getRealtyIframeUrl();return e?a.createElement(a.Fragment,null,a.createElement(J.Z,{ref:n._realtyRef,url:e,placeholder:a.createElement(eC.Z,null)}),a.createElement(e3.Z,{type:"message",listener:n._handleRealtyIframeMessage})):null},n._renderRealty=function(){var e,t,r=n.props,i=r.result.realty;if(!i||r.config.hideAdverts)return null;var o=null==(e=r.result.sources.find(function(e){return"promo"===e.id}))?void 0:e.href,s=null==(t=r.result.sources.find(function(e){return"realty_yandex"===e.id}))?void 0:t.href,l=o||s;return n._renderSection(a.createElement(es.default,{company:i.company,offers:i.offers}),l?a.createElement("a",{className:ty("menu-link"),href:l,target:"_blank"},a.createElement(er.default,{view:"link",icon:a.createElement(q.Z,{name:"website-24-flip",inline:!0}),border:"hide"},"Посмотреть все предложения")):null)},n._renderTypo=function(){var e=n.props,t=e.onTypoClick,r=e.requestQuery;return r&&t?a.createElement(eh.Z,{query:r,onClick:t}):null},n._renderDiscoveryRelevant=function(){return(0,y.m)(n.props.config)||n.props.result.discoveries&&n.props.result.discoveries.length>0?null:n._renderSection(a.createElement(em.Z,{result:n.props.result}))},n._renderDiscovery=function(){var e=n.props,t=e.result;return(0,y.m)(e.config)?null:n._renderSection(a.createElement(ed.Z,{result:t}))},n._renderMediaBlock=function(){var e=n.props.result;return e.advert&&(e.advert.logo||e.advert.photo)?n._renderHeaderMedia():e.brandingBanner&&"media"===e.brandingBanner.position?n._renderIfSwipableMedia(n._renderBrandingBanner(e.brandingBanner)):n._renderHeaderMedia()},n._renderPostsPreview=function(){var e,t,r,i,o,s=n.props,l=s.result,c=(null==(e=l.eventsPreviews)?void 0:e.items.length)?l.eventsPreviews:void 0,u=M.Fx(s.config,l.isUserOwner);return c||u||(null==(t=l.seoRobots)?void 0:t.postsKeywords)?n._renderSection(a.createElement($.Z,{previews:c,keywords:null==(r=l.seoRobots)?void 0:r.postsKeywords,logoUrl:(null==(i=l.advert)?void 0:i.logo)||(null==(o=l.businessImages)?void 0:o.logo.urlTemplate),onPostClick:n._onPostClick,editPostUrl:u?n._editPostUrl:void 0})):null},n._renderEditButton=function(e){var t,r=n.props,i=r.result;return(null==(t=r.result.masstransitStop)?void 0:t.type)==="underground"||i.modularCard.showFeedbackButton?a.createElement(G.ZP,{name:"edit",nodeState:{owner:i.isUserOwner},metrikaGoal:"deepuse",logClick:!0},a.createElement("div",{className:ty("edit",{noprint:!0})},a.createElement(H.Z,{view:"secondary-blue",size:"medium",icon:a.createElement(q.Z,{className:ty("edit-icon"),name:"edit-nofill-24",inline:!0}),onClick:function(){return n._onEditClick()},isStretched:!0},e?"Редактировать данные":"Исправить неточность"))):null},n._renderEvents=function(){var e=n.props,t=e.result.events;return t&&0!==t.length?a.createElement("div",{className:ty("section")},a.createElement(X.Z,{events:t,onEventClick:e.openCardEvent,onShowAllButtonClick:function(){return e.onTabChange("events")},wide:e.isOrgpage})):null},n._renderEventsTab=function(){var e=n.props.result.events;return e&&0!==e.length?a.createElement(ex.Z,{events:e,onEventClick:function(e){return n.props.openCardEvent(e)},onPhotoClick:n._onEventPhotoClick}):null},n._renderAttendanceBlock=function(){var e=n.props.result;return e.histogramData?n._renderSection(a.createElement(ey.Z,{data:e.histogramData,tzOffset:e.tzOffset})):null},n._renderRelatedProductsLink=function(e){void 0===e&&(e={});var t,r=n.props,i=r.result,o=r.config,s=r.requestCorrectedQuery,l=i.matchedObjects&&"drug"===i.matchedObjects.rubric,c=eb.j(i.businessLinks,o).find(function(e){return"order"===e.id}),u=l&&c&&c.links.find(function(e){return"booking"===e.type});if(u)return u.href+="&query="+encodeURIComponent(s),a.createElement("div",{className:ty("menu-link")},a.createElement(Y.Z,{groups:eb.j([u],o)}));if(!i.topObjects||(null==(t=i.topObjects.categories[0])?void 0:t.categoryItems.length)===0)return null;var d="food"===i.topObjects.rubric?"Посмотреть всё меню":"Посмотреть все товары и услуги";return a.createElement(G.ZP,{name:"show_menu",logClick:!0},a.createElement("div",{className:ty("menu-link",{margin:!!e.withMargin,wide:e.wide})},a.createElement(er.default,{ariaLabel:d,view:"link",icon:a.createElement(q.Z,{name:"menu-book-24-flip",inline:!0}),onClick:n._openFullObjects,border:"hide"},d)))},n._renderMediaPanorama=function(){var e=n.props.result,t=e.panorama;return t?a.createElement("div",{className:ty("panorama")},a.createElement(eo.Z,{panorama:t}),a.createElement("a",{className:ty("panorama-seolink"),href:E.S(e,{sublanding:"panorama"},n.props.config)},"Панорама")):null},n._renderEntranceStory=function(){var e=n.props;return"business"===e.result.type&&L.BQ(e.config,e.result)&&e.result.lastMileStory?a.createElement(tu,{result:e.result}):null},n._renderBusinessContacts=function(){var e=n.props,t=e.isOrgpage,r=n.props.config.experiments.ui.raiseCorrectInaccuracyBlock&&n.props.result.isUserOwner;return a.createElement(a.Fragment,null,a.createElement("div",{ref:n._contactsRef}),a.createElement(et.Z,{result:e.result,onEntrancesClick:e.onEntrancesClick,onRouteClick:x.W(e.result)?void 0:e.onRouteClick,onMovedClick:e.onMovedClick,onAddressClick:e.onAddressClick,onEditClick:n._onEditClick,isPhoneInitiallyExpanded:e.isPhoneInitiallyExpanded,hideEmptyBlocks:T.z(e.result)}),n._renderChain(),t?null:n._renderAddPhotos(),r?null:n._renderEditButton())},n._renderTransitSection=function(){var e=n.props;return a.createElement(eR.default,{result:e.result,requestCorrectedQuery:e.requestCorrectedQuery,onDistanceClick:e.onDistanceClick,wide:e.wide,hideTaxi:!e.config.enableTaxi||!e.result.modularCard.showTaxiButton})},n._renderRelevantBlock=function(){var e=n._renderDiscovery(),t=n._renderDiscoveryRelevant(),r=e||t;return a.createElement(a.Fragment,null,r?n._renderSeparator():null,e,t)},n._renderAboutSection=function(){var e,t=Z.x(n.props.result),r=n.props.config.experiments.ui.raiseOrgpageMobileBanner,i=n.props.config.experiments.ui.advInNarrowOrgCard,o=t||"upper-middle"!==i?null:n._renderDirect({bannerId:null==(e=n.props.config.banner)?void 0:e.blockIds.orgpageUpperMiddle,type:"upper-middle"});return a.createElement(a.Fragment,null,n._renderSection(n._renderPersonalFeedback()),n._renderSection(n._shouldShowPanorama("top")?n._renderMediaPanorama():null),n._renderSection(n._renderEntranceStory()),n._renderSeparator(),r?n._renderMobileAdvert():null,n._renderSection(n._renderBusinessContacts()),o?n._renderSection(o):null,"before-features"===n.props.config.experiments.ui.similarPlacesPosition&&n._showCompetitors()?n._renderSection(n._renderSimilarPlaces("carousel")):null,n.props.config.experiments.ui.relevantBlockPosition?null:n._renderRelevantBlock(),n._renderSeparator(),n._renderSection(n._renderTransitSection()),n._renderSeparator(),n._renderSection(n._renderBusinessAdvert()),n._renderSeparator(),R.F(n.props.result)?null:n._renderSection(n._renderFeatures("overview")),n._renderLowPriorityAdvertOfferBanner(),n._renderSeparator(),n.props.result.promo&&n.props.config.experiments.ui.snippetPromo?a.createElement(a.Fragment,null,n._renderSection(n._renderPromoAction())):null)},n._renderSeoLinks=function(){if(!n.props.result.seoRobots||!n.props.config.uatraits.isRobot)return null;var e,t,r=null==(e=n.props.result.seoRobots.businessesInHouse)?void 0:e.map(function(e){return{id:e.id,text:e.title,url:E.S(e,{},n.props.config)}}),i=null==(t=n.props.result.seoRobots.nearbyOrgs)?void 0:t.map(function(e){return{id:e.id,text:e.title,url:E.S(e,{},n.props.config)}});return a.createElement(a.Fragment,null,r?a.createElement("div",{"data-name":"businesses-in-house"},a.createElement(e9.Z,{links:r})):null,i?a.createElement("div",{"data-name":"nearby-orgs"},a.createElement(e9.Z,{links:i})):null)},n._renderOverviewTab=function(e){var t,r=n.props,i=r.isOrgpage,o=Z.x(r.result),s=n._renderAfishaWidget(),l=n._renderAfisha(),c=r.config.experiments.ui.advInNarrowOrgCard,u=null==(t=r.config.banner)?void 0:t.blockIds,d=i||!o&&"middle"===c?n._renderDirect({bannerId:"middle"!==c||o?null==u?void 0:u.orgpageMiddle:null==u?void 0:u.orgpageUpperMiddle,type:"middle"}):null,m=i||!o&&"bottom"===c?n._renderDirect({bannerId:"bottom"!==c||o?null==u?void 0:u.orgpageBottom:null==u?void 0:u.orgpageUpperMiddle,type:"bottom"}):null,p=!!n._renderSpecialOffer(!1),v=(0,e6.KR)(r.result,r.config.experiments),f=n._renderBusinessLinks(),h=n.props.config.experiments.ui.raiseOrgpageMobileBanner,g=n._showCompetitors();return a.createElement("div",{className:ty("shrink")},a.createElement("div",{className:ty("overview")},p&&v?n._renderSection(n._renderSpecialOffer(!f),f):null,n._renderBooking(),n._renderHotelsBooking(),n._renderSection(n._renderStories()),n._renderSeparator(),n._renderOwnerSection(),R.F(r.result)?n._renderSection(n._renderFeatures("overview")):null,n._renderBrandingBannerOverview(),n._renderInfrastructureCategories(),i?null:n._renderMasstransitEmptySchedule(),n._renderEvents(),n._renderPlacesInside(),p&&!v?n._renderSection(n._renderSpecialOffer(!f),f):null,n._renderSeparator(),n._renderPostsPreview(),n._renderSeparator(),p?null:n._renderSection(n._renderRelatedProducts(!f),f),l,n._renderPromo(),n._renderFuelInfo(),n._renderRealty(),s,n._renderSeparator(),n._renderAboutSection(),n._renderSeparator(),i?n._renderMediaPanorama():null,n._renderSeparator(),h?null:n._renderMobileAdvert(),n._renderSeparator(),n._renderInfrastructureInfo(),n._renderSection(n._renderVerified()),n._renderSeparator(),d?a.createElement(a.Fragment,null,n._renderSection(d),n._renderNoSeparator()):null,n._renderSeparator(),g&&"before-attendance"===n.props.config.experiments.ui.similarPlacesPosition?n._renderSection(n._renderSimilarPlaces("carousel")):null,"before-attendance"===n.props.config.experiments.ui.relevantBlockPosition?n._renderRelevantBlock():null,n._renderAttendanceBlock(),n._renderSeparator(),g&&!n.props.config.experiments.ui.similarPlacesPosition?n._renderSimilarPlaces("carousel"):null,n._renderSeparator(),n._renderReviewsOverview(e),i?null:m),n._renderGraySection(a.createElement(a.Fragment,null,n._renderBeOwner(),n._renderAdvertOrderLink(),i?null:n._renderDataSources())),i?m:null,n._renderSeoLinks())},n._renderContentPanelHeader=function(){var e,t,r=n.props,i=r.result;return!r.isOrgpage||(0,y.m)(r.config)?null:a.createElement(eU.Z,{showBack:!!r.showContentPanelHeaderBack,analyticsType:A.D(i,r.config.experiments),routeGoal:null==(t=i.metrika)?void 0:null==(e=t.goals)?void 0:e.route,border:!0,routeTo:x.W(i)?void 0:{value:i.title||"",coords:i.displayCoordinates,uri:i.uri,searchResult:i}})},n._renderFooter=function(){var e,t,r=n.props;if("overview"!==r.tab||(0,y.m)(r.config))return null;var i=null!=(t=null==(e=r.result)?void 0:e.sources)?t:[],o=i.length>0?a.createElement(ef.Z,{sources:i}):null;return n._renderAdaptiveExtended(a.createElement(a.Fragment,null,r.isOrgpage?a.createElement(eF.Z,{openedFrom:"wideCard"}):null,a.createElement(eZ.default,{extraBottom:o,wide:r.isOrgpage&&!0,internalAltayLink:r.result.internalAltayLink})))},n._renderFullItemsTab=function(e){var t=n.props,r=n._getRelatedProducts(t.result),i="menu"===e?a.createElement(eQ.Z,{isGrid:null==r?void 0:r.hasPhotos}):a.createElement(eC.Z,null);return n._renderSection(a.createElement(tn,{sublanding:e,onAddBusinessClick:function(){return t.openBusinessFeedback({type:"organization/add",context:{formContextId:"organization.footer"}})},onPlacesInsideClick:t.onPlacesInsideClick,placeholder:i,result:t.result,onRelatedClick:n._onRelatedClick,wide:t.wide,selectedItem:t.selectedRelatedProduct,showMedia:t.showMedia}))},n._renderChainTab=function(){var e=n.props;return n._renderSection(a.createElement(tr,{result:e.result,onResultClick:e.onSimilarResultClick}))},n._renderPhotosTab=function(e){var t=n.props.config.uatraits.isRobot?to:ta;return a.createElement(t,{isOrgpage:n.props.isOrgpage,onFullScreenEnter:n._onPhotosClick,onMediaClick:function(e,t){return n.props.onPhotosClick(e,{selectedTag:t,skipPreviewModeOnExit:!0})},placeholder:a.createElement(eL.Z,null),result:n.props.result,scrollToTop:e,narrow:n.props.isSidebarWithPopup})},n._renderPostsTab=function(e){var t,r=n.props;if(!(null==(t=r.result.eventsPreviews)?void 0:t.count))return null;var i=M.Fx(r.config,r.result.isUserOwner);return a.createElement(ti,{businessId:r.result.id,listUri:r.result.eventsPreviews.uri,selectedPost:r.selectedPost,placeholder:a.createElement(eM.Z,null),tab:r.tab,editPostUrl:i?n._editPostUrl:void 0,narrow:r.isSidebarWithPopup,onPostClick:n._onPostClick,scrollToTabTop:e})},n._renderEdadeal=function(){var e=n.props.result.businessLinks.find(function(e){return"#edadeal"===e.aref});return e?a.createElement(J.Z,{url:e.href+"&appsearch_header=1&embedNoAds=1",placeholder:a.createElement(eC.Z,null)}):null},n._renderSimilarPlaces=function(e){var t,r,i=n.props,o=n.props.result,s=i.config.experiments.ui.disableRelatedAdvertsSnippet?[]:(null==(t=o.relatedAdverts)?void 0:t.nearbyOnCard)||[],l=o.relatedPlaces||[],c=I.K(o,!!i.isOrgpage,i.config);return c?n._renderSection(a.createElement(el.Z,{analyticsName:"advert"===c?"list"===e?"low_relevance_list":"low_relevance_carousel":"similar_organizations",result:o,serpId:i.serpId,onResultClick:function(e){return i.onSimilarResultClick(e,{includeBounds:o.bounds,stackAction:"push"})},preloadedResults:s.length>0?s:l,wide:i.isOrgpage,view:e,category:"advert"===c?void 0:null==(r=o.categories)?void 0:r[0],onCategoryClick:"advert"===c?void 0:i.onCategoryClick})):null},n._renderSimilarPlacesTab=function(){return n._renderSimilarPlaces("list")},n._renderTabbedView=function(){var e,t=n.props,i=t.tab,o=n._getTabs();return n._renderAdaptiveExtended(a.createElement("div",{className:ty("tabs-view")},a.createElement(ee.Z,{key:t.result.id,animatedScrollTo:function(e){(0,z.Z)((0,r._)({},e,{targetElement:t.isOrgpage?n._mainRef.current:e.targetElement}),t.config)},getScrollableNode:t.getScrollableNode,initiallyScrollToTop:"overview"!==t.tab&&"inside"!==t.tab&&("reviews"!==t.tab||!(null==(e=t.config.query.reviews)?void 0:e.id)||n._scrolledToHighlightedReview)&&!t.config.experiments.ui.moreAdsOrgUpperTab,tab:o.find(function(e){return e.key===i})?i:"overview",onTabChange:t.onTabChange,tabs:o,wide:t.isOrgpage})))},n._renderInfrastructurePins=function(){var e=n.props.result.infrastructure;return(null==e?void 0:e.categories)?a.createElement(tp,{searchRequest:n.props.searchRequest,organization:n.props.result,categories:e.categories.data,onPlacemarkClick:n.props.onPlacemarkClick}):null},n._renderDirectPlaceholder=function(e){return e&&n.props.wide?a.createElement(e8.C,{type:"org-"+e}):null},n._renderDirect=function(e){var t=n.props,r=t.config,i=e.bannerId,o=e.type,s=e.onHide;if(!i||Z.x(t.result)||r.hideAdverts||!t.result.modularCard.showDirectBanner)return null;var l=n._shouldRenderCurrentPlaceholder(o);return a.createElement("div",{className:ty("direct-unit",{type:o})},l?n._renderDirectPlaceholder(o):null,a.createElement("div",{className:ty("banner-wrapper",{hidden:l})},a.createElement(eX.Z,{bannerId:i,bannerFirst:!0,onHide:s,onDisplay:function(){return n._onDirectRender(o)}})))},n._renderSeparator=function(){return n.props.isOrgpage?a.createElement("div",{className:ty("separator")}):null},n._renderNoSeparator=function(){return n.props.isOrgpage?a.createElement("div",{className:ty("no-separator")}):null},n._renderInfrastructureCategories=function(){var e,t=null==(e=n.props.result.infrastructure)?void 0:e.categories;if(!t)return null;var r=t.data.slice(0,n.props.isOrgpage?7:4);return n._renderSection(a.createElement(td,{organization:n.props.result,categories:r,title:t.title,onAllCategoriesClick:r.length<t.data.length?function(){return n.props.onTabChange("infrastructure")}:void 0}))},n._renderInfrastructureInfo=function(){var e,t=null==(e=n.props.result.infrastructure)?void 0:e.info;if(!t)return null;var r=t.data.slice(0,3);return a.createElement(a.Fragment,null,n._renderSection(a.createElement(tm,{organizationId:n.props.result.id,data:r,title:t.title,onFullDetailsClick:r.length<t.data.length?function(){return n.props.onTabChange("infrastructure")}:void 0})),n._renderSeparator())},n._renderMasstransitEmptySchedule=function(){var e=n.props;return T.z(e.result)?a.createElement("div",{className:ty("masstransit-empty-schedule")},a.createElement(eA.Z,{feedbackItem:e.result})):null},n._renderOrgpageHeader=function(){var e,t,r,i=n.props,o=i.result,s="overview"!==i.tab,l=a.createElement(eY.Z,{result:o,onAddressClick:i.onAddressClick,onReviewsClick:n._scrollToReviews,onAwardsClick:n._scrollToOverviewAwards,onMovedClick:i.onMovedClick,onAdvertOfferHintClick:n._scrollToOverviewAdvertOfferBanner,justTitle:s});return s?a.createElement(a.Fragment,null,i.config.experiments.ui.moreAdsOrgUpperTab?n._renderDirect({type:"upper-tab",bannerId:"R-I-142300-378"}):null,l):a.createElement(a.Fragment,null,n._renderDirect({bannerId:null==(e=i.config.banner)?void 0:e.blockIds.orgpageUpper,type:"upper"}),n._renderBreadcrumbs(),l,a.createElement("div",{className:ty("orgpage-actions")},a.createElement(j.Z,{result:o,view:"wide",appShareOptions:n._getShareOptions(),onRouteClick:i.onRouteClick})),n._renderHighPriorityAdvertOfferBanner(),n._renderMasstransitEmptySchedule(),a.createElement(ec.default,{coordinates:o.displayCoordinates,push:{type:(0,y.m)(i.config)?"profile":"org",message:o.title+(o.address?". "+o.address:""),uri:o.uri},metrikaGoal:null==(r=o.metrika)?void 0:null==(t=r.goals)?void 0:t["send-to-phone"]}),n._renderAdaptiveExtended(a.createElement(ez.Z,{key:o.id,result:o,onAddItemClick:n._onAddPhotosClick,onItemClick:i.onPhotosClick})),n._renderHeaderAdvert())},n._renderStories=function(){var e=n.props,t=e.result;return L.BQ(e.config,e.result)?a.createElement(tl,{result:t},function(e){return a.createElement(tc,(0,r._)({result:t},e))}):null},n._renderContent=function(){var e=n.props;return a.createElement(a.Fragment,null,a.createElement(eB.Z,null,function(t){return e.isOrgpage||"wide"===t.effectiveWidth?null:n._renderMediaBlock()}),a.createElement("div",{className:ty("main-wrapper")},a.createElement(eB.Z,null,e.isOrgpage?n._renderOrgpageHeader:n._renderHeader),n._renderTabbedView(),n._renderInfrastructurePins()))},n.state={hideShutterControl:!1,shouldScrollToAwards:!1,shouldScrollToAdvertOfferBanner:!1,isAdvertOfferBannerExpanded:!1,hideMobilePlaceholder:!1,hideUpperMiddlePlaceholder:!1,hideMiddlePlaceholder:!1,hideUpperPlaceholder:!1,hideUpperTabPlaceholder:!1,hideBottomPlaceholder:!1},n}(0,i._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.isOrgpage?f.ZP.reachGoal({goal:"orgpage"}):f.ZP.reachGoal({goal:"show_minicard"}),(0,eV.a)("searchResult").end(),setTimeout(function(){"contacts"===e.props.initialScrollTo?e._scrollToContacts():"reviews"===e.props.initialScrollTo&&e._scrollToReviews()},0)},n.componentDidUpdate=function(e){e.tab!==this.props.tab&&"overview"===this.props.tab&&(this.state.shouldScrollToAwards?(this._scrollToAwards(),this.setState({shouldScrollToAwards:!1})):this.state.shouldScrollToAdvertOfferBanner&&(this._scrollToAdvertOfferBanner(),this.setState({shouldScrollToAdvertOfferBanner:!1})))},n.render=function(){var e=this.props,t=e.result;return a.createElement(eK.a,null,a.createElement(v.kl,{value:e.wide},this._renderContentPanelHeader(),a.createElement("div",{className:ty({wide:e.isOrgpage}),ref:this._mainRef,itemScope:!0,itemType:"http://schema.org/LocalBusiness","data-object":"search-result","data-id":t.id,"data-log-id":t.logId,"data-coordinates":(0,s.s)(t.coordinates)},a.createElement(e4.Z,{result:t}),this._renderContent()),this._renderFooter(),t.metrika?a.createElement(h.Z,(0,r._)({},t.metrika,{orgId:t.id,onReady:this._onMetrikaReady})):null,a.createElement(eN.Z,{type:"search_card_page"}),a.createElement(e0.Z,{eventHandler:this._onScroll})))},t}(a.Component);t.default=tb(tE)},55057:(e,t,n)=>{"use strict";n.d(t,{kl:()=>o,nb:()=>l});var r=n(87363),i=(0,n(84641).Z)("wideCard",!1,function(e){return{isWideCard:e}}),a=i.connect,o=i.Provider,s=i.Context;function l(){return r.useContext(s)}t.ZP=a},75951:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(18007),i=n(87363),a=(0,n(44748).Z)("direct-advert-view"),o=function(e){function t(){return e.apply(this,arguments)}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=e.direct;return i.createElement("div",{className:a({link:!!(e.isInCard&&t.url)})},i.createElement("span",{className:a("title")},t.title),i.createElement("span",{className:a("text")},t.text),i.createElement("span",{className:a("bottom")},"Промо"))},t}(i.Component)},63162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(18007),i=n(87363),a=n(28216),o=n(90585),s=n(44748),l=n(28661),c=n(31336),u=n(37721),d=n(60517),m=n(31651),p=n(87843),v=n(87501),f=n(20513),h=n(33228),g=n(33647),_={showBookmarkPanel:u.Z.openPanel},y=(0,s.Z)("discovery-related-view"),b=(0,o.Z)(a.$j(function(e){return{rootFolder:e.bookmarks.rootFolder}},_),c.ZP)(function(e){function t(t){var n;return(n=e.call(this,t)||this)._getBookmarkFolders=function(){var e=n.props,t=e.rootFolder;return t?t.children.filter(function(t){return!!("children"in t&&f.JN(e.result.uri,t))}):[]},n._renderBookmarkIcon=function(e){var t=v.g1(e.icon,n.props.config);return i.createElement("div",{className:y("icon"),style:{color:t.color}},i.createElement(h.Z,{url:t.url}))},n._renderBookmarkItem=function(e,t){var r=n.props;return i.createElement(d.ZP,{name:"item",nodeState:{type:"bookmark",title:e.title},logClick:!0,logViewportEnter:"when 100% visible",key:e.id},i.createElement(p.default,{className:y("item"),size:"small",icon:n._renderBookmarkIcon(e),onClick:function(){return n.props.showBookmarkPanel({force:!0,activeFolderId:e.id})},arrowView:"right",border:"hide"},i.createElement("div",{className:y("title")},t?null:i.createElement(i.Fragment,null,i.createElement("span",{className:y("own-list")},"Ваш список:")," "),f.YQ(e,r.config))))},n._renderExpandButton=function(e){return i.createElement(d.ZP,{name:"expand",logClick:!0},i.createElement(p.default,{size:"small",onClick:function(){return n.setState({isExpanded:!0})}},i.createElement("div",{className:y("expand")},"Еще "+e)))},n._renderDiscoveries=function(){return n.props.result.discoveries?i.createElement("div",{className:y("discoveries")},i.createElement(g.Z,{discoveries:n.props.result.discoveries,from:"related"})):null},n._renderBookmarks=function(){var e,t=n._getBookmarkFolders();if(0===t.length)return null;var r=0===((null==(e=n.props.result.discoveries)?void 0:e.length)||0),a=!n.state.isExpanded&&t.length>4,o=Math.min(t.length,a?3:1/0);return i.createElement(i.Fragment,null,t.slice(0,o).map(function(e){return n._renderBookmarkItem(e,r)}),a?n._renderExpandButton(t.length-o):null)},n.state={isExpanded:!1},n}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=this._getBookmarkFolders(),n=e.result.discoveries||[];return 0===t.length&&0===n.length?null:i.createElement(d.ZP,{name:"discovery_related"},i.createElement("div",{className:y()},i.createElement(m.Z,{type:"h2"},n.length>0&&t.length>0?"Входит в списки и подборки":n.length>0?"Входит в подборки":"Входит в списки"),this._renderDiscoveries(),this._renderBookmarks(),i.createElement(l.Z,{chunk:"discovery"})))},t}(i.Component))},78155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(87363),i=n(44748),a=n(60517),o=n(33647),s=n(31651),l=(0,i.Z)("discovery-relevant-view"),c=function(e){return e.result.relevantDiscoveries&&0!==e.result.relevantDiscoveries.length?r.createElement(a.ZP,{name:"discovery_relevant"},r.createElement("div",{className:l()},r.createElement(s.Z,{type:"h2"},"Подборки похожих мест"),r.createElement(o.Z,{discoveries:e.result.relevantDiscoveries}))):null}},27192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(2267),i=n(18007),a=n(87363),o=n(44748),s=n(60517),l=n(6018),c=n(98901),u=n(92616),d=n(34257),m=n(53070),p=n(76458),v=n(49267),f=n(85172),h=n(94542),g=n(97255),_=n(65799),y=n(31336),b=(0,o.Z)("card-offer-view"),E=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=a.createRef(),n._advertRef=a.createRef(),n._analyticsRef=a.createRef(),n._switchPopup=function(){n.setState({isPopupVisible:!n.state.isPopupVisible})},n._toggleDropdown=function(){if(n.props.config.experiments.ui.cardBkoRedesign||n.props.config.experiments.ui.cardBkoRedesignWithHotels){var e,t=n.state.isDropdownExpanded?"close-adv-promo-detail":"open-adv-promo-details";null==(e=n._analyticsRef.current)||e.logEvent(t)}n.setState({isDropdownExpanded:!n.state.isDropdownExpanded})},n._renderTitleAdvertBadge=function(){return a.createElement("div",{className:b("title-label")},n._renderAdvertBadge())},n._renderAdvertBadge=function(){return"advert-promo"===n.props.data.type?a.createElement(h.Z,{className:b("label"),onClick:function(e){return e.stopPropagation()}},a.createElement(c.Z,{utms:(0,p.Bq)(n.props.wide),ordInfo:n.props.data.promo.ordInfo,ordRef:n._advertRef})):null},n._renderLink=function(){var e="advert-promo"===n.props.data.type?n.props.data.promo.url:n.props.data.promo.promoAction.url;return!e||/^\s*javascript/.test(e)?null:a.createElement(s.ZP,{name:"promotion_link",logClick:!0},a.createElement("a",{className:b("link"),target:"_blank",href:e},"Перейти на сайт"))},n._renderContent=function(e){var t=e.isBigTitleIcon,r=n.props,i=r.data,o="advert-promo"===i.type,s=o?i.promo.text:i.promo.promoAction.description,l=o?i.promo.title:i.promo.promoAction.name;return a.createElement("div",{className:b("content-wrapper",{wide:r.wide})},r.wide?a.createElement(m.Z,{onClick:n._switchPopup,size:"small"}):null,a.createElement("div",{className:b("content-header")},a.createElement("div",{className:b("details")},"Подробности акции:"),n.props.wide&&o?n._renderAdvertBadge():null),a.createElement("div",{className:b("content")},n._banner?a.createElement("div",{className:b("image-wrapper")},a.createElement("img",{alt:"",className:b("image"),src:n._banner})):null,a.createElement("div",{className:b("text-wrapper")},l&&r.config.experiments.ui.snippetPromo?a.createElement("div",{className:b("badge")},a.createElement(v.Z,{className:b("icon",{size:t?"m":"s"}),name:t?"mark-free-ads-24":"mark-free-ads-16",theme:r.theme,inline:!0}),a.createElement("span",null,l)):null,s?a.createElement("div",{className:b("text")},s):null,o&&i.promo.disclaimers?a.createElement("div",{className:b("disclaimer")},i.promo.disclaimers[0]):null,n._renderLink())))},n._renderNarrowCardContentOld=function(){var e=n.props,t=e.data,r="advert-promo"===t.type,i=r||t.promo.hasActiveAdvert&&!e.secondary,o=r?t.promo.title:i?t.promo.promoAction.name:"Акция";return a.createElement("div",{className:b()},a.createElement(l.Z,{icon:a.createElement(v.Z,{className:b("icon"),name:i?"mark-ads-24":"mark-free-ads-24",theme:e.theme,inline:!0}),iconClassName:b("icon-wrapper"),keepIconColor:!0,content:n._renderContent({isBigTitleIcon:!0}),hideCardBorder:!0,stretchBorder:!0,noSidePadding:!0,delimiter:null},a.createElement("div",{className:b("title",{secondary:!i})},o,r?n._renderTitleAdvertBadge():null)))},n._renderNarrowCardContent=function(){var e=n.props,t=e.data,r="advert-promo"===t.type;return a.createElement("div",{className:b()},a.createElement(h.Z,{onClick:n._toggleDropdown,className:b("advert-unit")},a.createElement(_.Z,{data:t,secondary:e.secondary,showOrdInfo:r,noSerp:!0}),a.createElement("div",{className:b("advert-arrow",{view:n.state.isDropdownExpanded?"up":"down"})},a.createElement(v.Z,{name:"arrow-down-8",inline:!0}))),a.createElement(g.Z,{isExpanded:n.state.isDropdownExpanded},n._renderContent({isBigTitleIcon:!1})))},n._renderWideCardContent=function(){var e=n.props,t=e.data,r="advert-promo"===t.type,i=r||t.promo.hasActiveAdvert&&!e.secondary,o=r?t.promo.title:i?t.promo.promoAction.name:"Акция",l=n.state.isPopupVisible;return a.createElement(h.Z,{ariaExpanded:l,className:b({wide:!0,secondary:!i}),ref:n._ref,onClick:n._switchPopup},a.createElement("div",{className:b("header")},a.createElement(v.Z,{name:i?"promo-profile-24":"mark-free-ads-24",className:b("icon",{secondary:!i}),theme:i?void 0:e.theme,inline:!0}),a.createElement("div",{className:b("title",{secondary:!i})},o,r?n._renderTitleAdvertBadge():void 0)),a.createElement("div",{className:b("more",{secondary:!i})},"Подробнее",a.createElement(d.Z,{isFlipped:!1})),a.createElement("img",{alt:"",src:n._banner,className:b("img-preloader")}),a.createElement(s.ZP,{name:"paranja",logClick:!0},a.createElement("div",{"aria-hidden":!0,className:b("paranja",{hidden:!l}),onClick:n._switchPopup})))},n.state={isPopupVisible:!1,isDropdownExpanded:!1},n}return(0,i._)(t,e),t.prototype.render=function(){var e=this,t=this.props.wide,n=this.props.config.experiments.ui.cardAdvertRedesign;return a.createElement(a.Fragment,null,a.createElement(s.ZP,{name:"promotion",logClick:t,nodeRef:this._analyticsRef},t?this._renderWideCardContent():n?this._renderNarrowCardContent():this._renderNarrowCardContentOld()),t?a.createElement(u.Z,{isShown:this.state.isPopupVisible,getTarget:function(){return e._ref.current},position:"bottom",onScroll:"close",offset:{main:-16,side:0},type:"map-hint",onClose:this._switchPopup,zIndex:1999,getExcludedNodes:function(){return e._advertRef.current}},a.createElement(s.ZP,{name:"popup"},this._renderContent({isBigTitleIcon:!0}))):null)},(0,r._)(t,[{key:"_banner",get:function(){var e;return"advert-promo"===this.props.data.type?this.props.data.promo.banner:null==(e=this.props.data.promo.promoAction.photo)?void 0:e.urlTemplate.replace("%s",this.props.data.promo.promoAction.photo.possibleSizes.find(function(e){return"XL"===e})||this.props.data.promo.promoAction.photo.possibleSizes[0])}}]),t}(a.Component),k=(0,f.ZP)((0,y.ZP)(E))},51930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(18007),i=n(11912),a=n(87363),o=n(44748),s=n(60517),l=n(31336),c=n(98901),u=n(2693),d=n(31651),m=n(96309),p=(0,o.Z)("card-special-offers-view"),v=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._getUniqueDisclaimers=function(){return Array.from(new Set(t.props.items.reduce(function(e,t){return t.disclaimer?(0,i._)(e).concat([t.disclaimer]):e},[])))},t._renderDisclaimers=function(e,t){return 0===e.length?null:a.createElement("div",{className:p("disclaimers")},1===e.length&&t?a.createElement("div",{className:p("disclaimer")},e[0]):a.createElement("ol",{className:p("disclaimer-list")},e.map(function(e,t){return a.createElement("li",{className:p("disclaimer"),key:t},e)})))},t._renderItem=function(e,t,n,r){var i=e.url?"a":"div",o=e.disclaimer&&(n.length>1||!r)?n.indexOf(e.disclaimer)+1:void 0;return a.createElement(s.ZP,{name:"offer",nodeState:{position:t,link:!!e.url},key:t},a.createElement(i,{target:"_blank",href:e.url,rel:"nofollow",className:p("item")},a.createElement(s.ZP,{name:"img",metrikaGoal:"super_deepuse",logClick:!0},a.createElement("div",{style:{outline:"none"},className:p("item-img")},a.createElement(m.Z,{ariaHidden:!0,height:"100%",url:e.img,alt:void 0,hovered:!1}))),a.createElement(s.ZP,{name:"url",metrikaGoal:"super_deepuse",logClick:!0},a.createElement("div",{className:p("item-name",{link:!!e.url})},o?a.createElement(a.Fragment,null,e.title," ",a.createElement("sup",{className:p("superscript")},o)):a.createElement(a.Fragment,null,e.title))),a.createElement("div",{className:p("item-price")},e.price)))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this,t=this.props,n="narrow"===t.view,r=this._getUniqueDisclaimers(),i=this.props.items.every(function(e){return!!e.disclaimer});return a.createElement("div",{className:p({view:t.view})},a.createElement("div",{className:p("title")},a.createElement(d.Z,{type:"h2",rightContent:t.config.bunker.disablePerformanceProductAdvertSign?void 0:a.createElement(c.Z,{height:n?void 0:"100%",utms:t.advertBadgeUTMs,ordInfo:{client:t.ordClient,token:this.props.items.map(function(e){return e.ordToken}).filter(Boolean)}})},"Витрина")),a.createElement(u.Z,{buttonSize:n?"m":"l",theme:n?"white":"black",arrowStyle:{topVerticalOffset:60},itemsGap:16,padding:n?16:80},t.items.map(function(t,n){return e._renderItem(t,n,r,i)})),this._renderDisclaimers(r,i))},t}(a.PureComponent),f=(0,l.ZP)(v)},88218:(e,t,n)=>{"use strict";var r=n(87363),i=n(28216),a=n(76071),o=n(35434);t.Z=function(e){var t=i.I0(),n="hotels-booking";return r.createElement(a.Z,{type:n,view:"announcement",text:"Номера и цены",rel:"nofollow",size:"medium",isStretched:!e.isWide,analytics:(""+n+"_button").replace(/-/g,"_"),metrikaGoal:e.metrikaGoal,onClick:function(){t(o.Z.open(e.result.id)),null==e.onClick||e.onClick.call(e)}})}},33089:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(18188),i=n(87363),a=n(85295),o=n(44748),s=n(31336),l=n(49267),c=n(21469),u=(0,o.Z)("online-business-features-view"),d={deliveryTime:"time-16",deliveryCost:"feature-delivery-16",minimumOrder:"feature-shop-16"},m=function(e){var t,n,o,m,v=(0,s.ZR)(),f=(t=i.useRef(null),o=(n=(0,r._)(i.useState(!1),2))[0],m=n[1],i.useEffect(function(){var e=t.current;if(e){var n=e.offsetWidth;Array.from(e.childNodes).reduce(function(e,t){return e+t.offsetWidth},0)>n&&m(!0)}},[]),{isOverflown:o,ref:t}),h=f.isOverflown,g=f.ref,_=null==e.children?void 0:e.children.call(e,h),y=function(e,t){if(!e)return[];var n=e.reduce(function(e,t){switch(t.id){case"processing_speed":e[t.id]=t.value[0].name;break;case"delivery_cost":case"free_delivery":case"minimum_order":e[t.id]=t.value}return e},{});return p.reduce(function(e,r){if(e.length>=2)return e;if("deliveryTime"===r){var i=n.processing_speed;i&&e.push({type:r,value:i})}else if("deliveryCost"===r){var a=n.delivery_cost,o=n.free_delivery;(a||o)&&e.push({type:r,value:a||"от "+({price:c.xG({value:0,currency:t.currencyCode},t.lang)}).price})}else if("minimumOrder"===r){var s=n.minimum_order;s&&e.push({type:r,value:s})}return e},[])}(e.features,v);return 0!==y.length||_?i.createElement("div",{className:u()},i.createElement("div",{className:u("features-wrap"),ref:g},null==e.children?void 0:e.children.call(e,h),y.map(function(e){return i.createElement("div",{key:e.type,className:u("feature")},i.createElement(l.Z,{className:u("feature-icon"),name:d[e.type],inline:!0}),(0,a.Z)(e.value))}))):null},p=["deliveryTime","deliveryCost","minimumOrder"],v=function(e){var t;return e.isNewDesign?i.createElement(m,e):i.createElement("div",{className:u()},null==(t=e.features)?void 0:t.slice(0,3).filter(function(e){return!!(e.important&&e.name)}).map(function(e){return i.createElement("div",{key:e.id,className:u("feature")},i.createElement("div",{className:u("feature-name")},(0,a.Z)(e.name)),i.createElement("div",{className:u("feature-value")},function(e){switch(e.type){case"bool":return e.value?"Да":"Нет";case"text":return e.value;case"enum":var t;return null==(t=e.value.at(0))?void 0:t.name}}(e)))}))}},76461:(e,t,n)=>{"use strict";var r=n(34788),i=n(18007);n(38111);var a=n(87363),o=n(44748),s=n(70457),l=n(53127),c=n(31336),u=n(49180),d=n(37830),m=n(10958),p=n(21166),v=n(44369),f=n(60517),h=n(76941),g=n(58865),_=n(22535),y=n(93924),b=n(14843),E=n(59655),k=n(86340),w=n(30554),Z=n(53035),C=n(14992),N=n(93510),P=n(37796),S=n(95570),x=n(98773),T=n(7582),R=n(25121),A=(0,s.Z)({resolved:{},chunkName:function(){return"business-owner"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("business-owner").then(n.bind(n,93081))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 93081}}),I=(0,o.Z)("orgpage-header-view"),B=function(e){function t(t){var n;return(n=e.call(this,t)||this)._address=a.createRef(),n._updateAddress=function(){n._address.current&&n.setState({hasNewline:n._address.current.offsetHeight>20})},n._showNumber=function(){n.setState({showPhone:!0})},n._renderAddress=function(){let e;var t=n.state,i=n.props,o=i.result,s=i.config,l=p.K(o,!0);if(!l)return null;var c=o.region&&(e=(0,r._)({address:l},o.region.names)).address+" на карте "+e.genitive,m=d.m(s),v=!i.result.modularCard.showContacts;return a.createElement(f.ZP,{name:"address",logClick:!0},a.createElement(u.Z,{ariaLabel:c,className:I("address",{"no-hover":m,disabled:v}),onLeftClick:i.onAddressClick,href:m?void 0:Z.D(o,s),title:c},a.createElement("div",{ref:n._address},a.createElement("span",null,o.address),a.createElement("span",{style:{display:t.hasNewline?"block":void 0}},o.additionalAddress?(t.hasNewline?"":" • ")+o.additionalAddress:""))))},n._renderBusinessStoryEntry=function(){var e;return(null==(e=n.props.result.storytellingData)?void 0:e.previewData)?a.createElement("div",{className:I("story-entry")},a.createElement(P.Z,{storytellingPreview:n.props.result.storytellingData.previewData,result:n.props.result})):null},n._renderContacts=function(){var e,t,r=n.state,i=n.props,o=i.result,s=m.Po(o,i.config),l=null==o?void 0:null==(t=o.metrika)?void 0:null==(e=t.goals)?void 0:e.call;return a.createElement("div",{className:I("contacts")},o.status&&o.modularCard.showWorkHours?a.createElement("div",{className:I("working-status")},a.createElement(k.Z,{result:o})):null,0!==s.length&&o.modularCard.showContacts?a.createElement("div",{className:I("contact")},a.createElement(N.Z,{phones:s,goal:l,show:r.showPhone,onShowClick:n._showNumber})):null,n._renderAddress())},n._renderBadge=function(){var e=n.props;return e.config.hideAdverts?null:a.createElement(g.Z,{result:e.result})},n._renderTitle=function(){var e=n.props.result;return a.createElement(h.Z,{header:!0,position:"top",order:1,wide:!0},a.createElement("div",{className:I("header-wrapper")},a.createElement(l.Z,{className:I("header"),itemProp:"name"},e.title,n._renderBadge())))},n._renderOrgDescription=function(){var e=n.props.result.orgDescription;return e?a.createElement("div",{className:I("org-description")},a.createElement(T.Z,{data:e,wide:!0})):null},n.state={hasNewline:!1,showPhone:!1},n}(0,i._)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateAddress()},n.componentDidUpdate=function(e,t){t.showPhone!==this.state.showPhone&&this._updateAddress()},n.render=function(){var e,t,n,r,i,o,s=this.props,l=s.result;if(!l.title)return null;if(s.justTitle)return a.createElement(f.ZP,{name:"header"},this._renderTitle());var c=null==(e=l.storytellingData)?void 0:e.previewData;return a.createElement(f.ZP,{name:"header"},this._renderTitle(),l.summary&&!c?a.createElement("div",{className:I("summary")},a.createElement(b.Z,{result:l})):null,a.createElement("div",{className:I("wrapper")},a.createElement("div",{className:I("wrapper-rating")},a.createElement(y.Z,{result:l,showHints:!0,onReviewsClick:s.onReviewsClick})),a.createElement("div",{className:I("wrapper-awards")},a.createElement(C.Z,{isOrgpage:!0,result:l,onClick:function(){return null==s.onAwardsClick?void 0:s.onAwardsClick.call(s)}})),"low"===v.V(l,s.config)&&(null==(t=l.advertOffer)?void 0:t.cardHint)?a.createElement("div",{className:I("wrapper-advert-offer-hint")},a.createElement(S.Z,{hint:null==(n=l.advertOffer)?void 0:n.cardHint,result:l,onClick:(null==(r=l.advertOffer)?void 0:r.banner)?s.onAdvertOfferHintClick:void 0})):null),a.createElement(R.Z,{result:l}),this._renderOrgDescription(),l.modularCard.showFriendsLiked&&l.friendsLikes?a.createElement("div",{className:I("friends-likes")},a.createElement(x.Z,{friendsLikes:l.friendsLikes,onClick:s.onReviewsClick,permalink:s.result.id})):null,this._renderBusinessStoryEntry(),this._renderContacts(),a.createElement("div",{className:I("moved")},a.createElement(w.Z,{result:l,onMovedClick:s.onMovedClick})),a.createElement("div",{className:I("open-again")},a.createElement(E.Z,{result:l})),a.createElement("div",{className:I("warning")},a.createElement(_.Z,{result:l})),a.createElement("div",{className:I("spacer")}),l.isUserPotentialOwner?a.createElement(A,{className:I("owner-badge"),businessId:l.id,class:null==(o=l.categories)?void 0:null==(i=o[0])?void 0:i.class,source:"orgpage"}):null)},t}(a.PureComponent);t.Z=(0,c.ZP)(B)},25702:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(18007),i=n(87363),a=n(44748),o=n(31336),s=n(60517),l=n(49267),c=n(2693),u=n(13975),d=n(9053),m=n(49980),p=n(94542),v=n(6507),f=n(65779),h=n(67942),g=n(76149),_=(0,a.Z)("orgpage-media-view"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this)._prepareMedia=function(e){var t=n._prepareVideos(e.videos),r=n._preparePhotos(e.photos);return(0,g.Li)(e,{photos:r,videos:t})},n._prepareVideos=function(e){return(null==e?void 0:e.items.map(function(e){return{type:"video",videoUrl:e.videoUrl,thumbnailUrl:e.thumbnailUrl,size:{width:e.width,height:e.height}}}))||[]},n._preparePhotos=function(e){return e&&e.items?e.items.map(function(e){return{type:"photo",url:e.urlTemplate.replace("%s",d.I0.XXL),alt:e.alt}}):[]},n._getTileWidth=function(){var e=n.state.items.length,t=(0,m.j9)(n.props.config).wide;return e<=1?t:2===e?(t-2)/2:320},n._renderItem=function(e,t,r,a){var o,c,m,p=n.props,v=p.result,g=p.onItemClick,y=((null==(o=v.photos)?void 0:o.count)||0)+((null==(c=v.videos)?void 0:c.items.length)||0)-Math.min(r.length,10);return i.createElement("div",{className:_("item"),style:{width:n._getTileWidth()},key:t},i.createElement(s.ZP,{name:"photo",nodeState:{id:t},logClick:!0},i.createElement("div",{"aria-hidden":!0,className:_("media"),onClick:function(){return g(t)}},"photo"===e.type?i.createElement(u.Z,{src:e.url,alt:null!=(m=e.alt)?m:(0,d.Iy)({result:v},n.props.config),renderImmediately:t<2}):t===a?i.createElement(f.Z,{fromBlock:"business-header",src:e.videoUrl,mode:"preview",posterSrc:e.thumbnailUrl}):i.createElement(h.Z,{src:e.thumbnailUrl,alt:(0,d.Iy)({result:v},n.props.config),renderImmediately:t<2}))),r.length-1===t&&y>0?i.createElement(s.ZP,{name:"photo_gallery",logClick:!0},i.createElement("div",{"aria-hidden":!0,className:_("overlay"),onClick:function(){return g()}},i.createElement(l.Z,{name:"gallery-24",className:_("gallery-icon"),inline:!0}),i.createElement("span",null,"Еще "+y))):null)},n._renderPlaceholder=function(){return i.createElement("div",{key:"placeholder",className:_("empty"),style:{width:n._getTileWidth()}})},n._renderLogo=function(){var e,t,r,a=n.props.result,o=(null==(e=a.advert)?void 0:e.logo)||(null==(t=a.businessImages)?void 0:t.logo.urlTemplate);return o?i.createElement("div",{className:_("logo")},i.createElement(u.Z,{src:o.replace("%s","S"),alt:"Логотип",backgroundSize:(null==(r=a.advert)?void 0:r.logo)?"cover":"contain",renderImmediately:!0})):null},n._renderAddItem=function(){var e=n.props.onAddItemClick;return i.createElement(s.ZP,{name:"add_photo",logClick:!0},i.createElement(p.Z,{tag:"span",className:_("button"),onClick:e},i.createElement(l.Z,{name:"photo-24",className:_("button-image"),inline:!0}),i.createElement("h2",{className:_("button-text")},v.oz.addPhotosText)))},n.state={items:n._prepareMedia(t.result)},n}return(0,r._)(t,e),t.prototype.render=function(){var e=this,t=this.state.items.slice(0,10),n=t.findIndex(function(e){return"video"===e.type});return i.createElement(s.ZP,{name:"photos"},i.createElement("div",{className:_(),itemScope:!0,itemType:"http://schema.org/ImageGallery"},this._renderLogo(),this._renderAddItem(),i.createElement(c.Z,{className:_("carousel"),theme:"black",clickStep:2,itemsGap:2},0===t.length?[this._renderPlaceholder()]:t.map(function(t,r,i){return e._renderItem(t,r,i,n)}))))},t}(i.PureComponent),b=(0,o.ZP)(y)},93510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(18007),i=n(87363),a=n(44748),o=n(31336),s=n(60517),l=n(34257),c=n(85295),u=n(10958),d=n(84399),m=n(49267),p=(0,a.Z)("orgpage-phone-view"),v=function(e){var t,n=e.phone,r=e.onClick;(0,o.ZR)();var a=n.number;n.extraNumber&&(a+=" (доб. "+({number:n.extraNumber}).number+")");var l=null;if(n.type&&"phone"!==n.type){var v=u.ve(n.type);l=n.info?i.createElement(i.Fragment,null," (",v,")"):i.createElement("span",{className:p("type")},v)}return i.createElement(s.ZP,{name:"phone",key:n.number},i.createElement("div",{className:p()},i.createElement("div",{className:p("number"),dir:"auto"},n.info||l?i.createElement("div",{className:p("info")},n.info?(0,c.Z)(n.info):null,l):null,i.createElement("span",{dir:"ltr"},a)),i.createElement("div",{className:p("buttons")},i.createElement(d.Z,{text:n.number,noIcon:!0,view:"primary"},i.createElement(m.Z,{name:"copy-24",className:p("link",{copy:!0}),inline:!0})),i.createElement(s.ZP,{name:"call_phone",logClick:!0},i.createElement("a",{href:"tel:"+(null!=(t=n.value)?t:n.number),onClick:r},i.createElement(m.Z,{name:"call-24",className:p("link",{call:!0}),inline:!0}))))))},f=n(92616),h=n(54499),g=n(94542),_=n(87342),y=(0,a.Z)("orgpage-phones-view"),b=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=i.createRef(),n._switchPopup=function(){n.setState({popupVisible:!n.state.popupVisible})},n._closePopup=function(){n.setState({popupVisible:!1})},n._renderPhoneOther=function(e){return i.createElement(v,{key:e.number,phone:e,onClick:n._closePopup})},n._renderPhoneMain=function(e){var t=e.number;return e.extraNumber&&(t+=" (доб. "+({number:e.extraNumber}).number+")"),i.createElement("div",{className:y("phone-number"),dir:"ltr"},t)},n._renderPopup=function(e){var t=n.state.popupVisible;return i.createElement(f.Z,{isShown:t,getTarget:function(){return n._ref.current},onClose:n._closePopup,showArrow:!1,restrictPosition:!0,position:["bottom-right","top-right"],offset:{main:0,side:-16},onScroll:"close",type:"map-hint"},i.createElement(s.ZP,{name:"popup"},i.createElement("div",{className:y("phones")},e.map(n._renderPhoneOther))))},n._renderShowPhoneButton=function(){var e=n.props;if(e.show)return null;var t=e.goal?["goal_deepuse",e.goal]:"goal_deepuse";return i.createElement(s.ZP,{name:"show_phone",metrikaGoal:t,gaGoal:"site.contacts.click.phone",logClick:!0},i.createElement(g.Z,{className:y("more"),onClick:e.onShowClick},i.createElement(_.Z,{tag:"span"},"Показать телефон")))},n._renderExpandPhonesButton=function(){var e=n.state.popupVisible;return i.createElement("div",{className:y("control")},i.createElement(l.Z,{isFlipped:e}))},n.state={popupVisible:!1},n}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=e.phones,n=e.show,r=t.length>1,a=r&&e.show;return i.createElement("div",{className:y({clickable:r,hidden:!n}),ref:this._ref},i.createElement(s.ZP,{name:"phones",logClick:a,nodeState:{hidden:!n}},i.createElement(g.Z,{ariaExpanded:this.state.popupVisible,className:y("content"),onClick:a?this._switchPopup:void 0},i.createElement(s.ZP,{name:"principal"},i.createElement(i.Fragment,null,this._renderPhoneMain(t[0]),r?this._renderExpandPhonesButton():null,this._renderShowPhoneButton(),n?i.createElement(h.ZP,{url:t[0].counter}):null)))),this._renderPopup(t))},t}(i.PureComponent),E=(0,o.ZP)(b)},86792:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(34788),i=n(18007),a=n(87363),o=n(44748),s=n(89318),l=n(47220),c=n(31336),u=n(41144),d=n(3780),m=n(49180),p=(0,o.Z)("place-inside-view"),v={small:120,normal:160},f=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._renderAdditionalInfo=function(){var e=t.props;return"small"===e.size?null:a.createElement("div",{className:p("additional")},e.item.rating?a.createElement("div",{className:p("rating")},a.createElement(d.Z,{ratingValue:parseFloat(e.item.rating)})):null,e.item.floor?a.createElement("div",{className:p("floor")},a.createElement("div",{className:p("floor-text")},{floor:e.item.floor}.floor+" этаж")):null)},t}return(0,i._)(t,e),t.prototype.render=function(){var e=this.props,t=s.Gr({type:"rubrics",name:"building",size:"normal"===e.size?"large":"small"},e.config),n=l.S({id:e.item.permalink,seoname:e.item.seoname},{},e.config);return a.createElement("div",{className:p({size:e.size,view:e.view})},a.createElement(m.Z,{ariaLabel:e.item.category,href:n,onLeftClick:function(){return e.onClick(e.item.permalink)}},a.createElement(u.Z,{item:(0,r._)({},e.item,{description:"normal"===e.size?e.item.description:void 0}),size:e.size,imageHeight:v[e.size],icon:{url:t},additional:this._renderAdditionalInfo(),lazyImageLoad:e.lazyImageLoad,clickable:!0,first:e.first,view:e.view})))},t}(a.PureComponent),h=(0,c.ZP)(f)},10654:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(87363),i=n(44748),a=n(60517),o=(0,i.Z)("related-item-list-view"),s=function(e){return r.createElement(a.ZP,{name:"list_item"},r.createElement("div",{className:o({size:e.size,clickable:e.clickable,first:e.first,view:e.view})},r.createElement("div",{className:o("content")},r.createElement("div",{className:o("title"),title:e.item.title},e.item.title),r.createElement("div",{className:o("subtitle")},e.item.volume?r.createElement("span",{className:o("volume")},e.item.volume):null,e.item.description?r.createElement("span",{className:o("description"),title:e.item.description},e.item.description):null)),r.createElement("div",{className:o("price")},e.item.price?e.item.price+" "+(e.item.currency||"₽"):"цена не указана")))}},41144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(18007),i=n(87363),a=n(44748),o=n(96309),s=n(60517),l=n(99243),c=n(85172),u=n(49267),d=n(33228),m=n(9053),p=n(21953),v=n(94542),f=(0,a.Z)("related-item-photo-view"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getPhotoLink=function(e){var t=n.props.item.photoLink||n.props.item.imageUrl;if(t)return t.replace(/%s/,e).replace(/{size}/,e)},n._onPhotoClick=function(e){var t=n.props;e&&(null==t.showPhoto||t.showPhoto.call(t,t.item,e))},n._renderAnalyticsWrapper=function(e){return n.props.showPhoto&&n.props.item.photoLink?i.createElement(s.ZP,{name:"show_more",logClick:!0},e):e},n._renderImage=function(){var e=n.props,t=n._renderAnalyticsWrapper(i.createElement(p.Z,null,function(t){return i.createElement(o.Z,{height:"snippet"===e.view?"100%":e.imageHeight,url:e.transition?void 0:n._getPhotoLink("small"!==n.props.size||t.has.retinaDisplay?m.I0.M:m.I0.S),alt:e.alt,ariaHidden:!0,hovered:!!(e.clickable&&n.state.hovered),contain:e.imagesContained},n._renderIcon({transition:e.transition}))}));return e.lazyImageLoad?i.createElement(l.Z,null,t):t},n._renderMain=function(){var e=n.props;return i.createElement("div",{className:f("main")},i.createElement("div",{className:f("title"),title:e.item.title},e.item.title),e.item.description?i.createElement("div",{className:f("description"),title:e.item.description},e.item.description):null)},n._renderIcon=function(e){var t,r,a,o,s,l,c=(void 0===e?{}:e).transition,m=n.props;if(m.item.photoLink||!((null==(t=m.icon)?void 0:t.url)||(null==(r=m.icon)?void 0:r.name)))return null;var p=[f("icon",{transition:c}),null==(a=m.icon)?void 0:a.className].filter(Boolean).join(" ");return(null==(o=m.icon)?void 0:o.url)?i.createElement(d.Z,{className:p,url:m.icon.url}):(null==(s=m.icon)?void 0:s.name)?i.createElement(u.Z,{name:m.icon.name,className:p,theme:(null==(l=m.icon)?void 0:l.useTheme)?m.theme:void 0,inline:!0}):null},n.state={hovered:!1},n}return(0,r._)(t,e),t.prototype.render=function(){var e=this,t=this.props,n="snippet"===t.view?void 0:{height:t.imageHeight},r=!!t.showPhoto&&this._getPhotoLink("orig"),a=r?v.Z:"div";return i.createElement(s.ZP,{name:t.transition?"transition_item":"photo_item",nodeState:{hasPhoto:t.transition?void 0:!!t.item.photoLink}},i.createElement(a,{className:f({size:t.size,"two-columns":t.twoColumns,clickable:t.clickable,view:t.view,first:t.first}),onClick:function(){return e._onPhotoClick(r)},onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})}},i.createElement("div",{className:f("image",{"without-bg":t.imagesContained}),style:n},this._renderImage()),i.createElement("div",{className:f("info")},this._renderMain(),t.additional)))},t}(i.PureComponent),g=(0,c.ZP)(h)},75234:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(18007),i=n(87363),a=n(44748),o=n(89318),s=n(31336),l=n(41144),c=(0,a.Z)("related-product-view"),u={small:96,normal:160,"full-width":96,tiny:96},d=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._onClick=function(e){var n=t.props;n.item.sourceUrl?window.open(n.item.sourceUrl):n.onClick&&n.onClick(e)},t._renderAdditionalInfo=function(){var e=t.props.item;return i.createElement("div",{className:c("additional")},i.createElement("span",{className:c("price")},e.price?e.price+" "+(e.currency||"₽"):"цена не указана"),i.createElement("span",{className:c("volume")},e.volume))},t}return(0,r._)(t,e),t.prototype.render=function(){var e=this.props,t=o.Gr({type:"rubrics",name:"food"===e.rubric?"restaurants":"fallback",size:"normal"},e.config)||"";return i.createElement("div",{role:"presentation",className:c({size:e.size,stretch:e.twoColumns,view:e.view}),onClick:this._onClick},i.createElement(l.Z,{item:e.item,size:e.size,alt:e.imageAlt,imageHeight:e.twoColumns?104:u[e.size],icon:{url:t,className:c("icon")},additional:this._renderAdditionalInfo(),clickable:e.clickable,twoColumns:e.twoColumns,lazyImageLoad:e.lazyImageLoad,first:e.first,view:e.view,imagesContained:e.imagesContained,showPhoto:e.showPhoto}))},t}(i.PureComponent),m=(0,s.ZP)(d)},26018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(18007),i=n(11912),a=n(87363),o=n(99111),s=n(44748),l=n(21469),c=n(31336),u=n(55057),d=n(6018),m=n(93522),p=n(85130),v=n(65456),f=n(60517),h=n(51605),g=[{aliases:["АИ-92","АИ 92"],match:/92/,defaultName:"АИ-92"},{aliases:["АИ-95","АИ 95"],match:/95/,defaultName:"АИ-95"},{aliases:["АИ-98","АИ 98"],match:/98/,defaultName:"АИ-98"},{aliases:[],match:/ДТ/,defaultName:"ДТ"}],_=(0,s.Z)("search-fuel-info-view"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this)._setHoverState=function(){n.setState({hovers:n._partialHover},function(){return n._partialHover=[]})},n._setHover=function(e,t){var r=n.state.hovers;n._partialHover[e]=t,!!r[e]!==n._partialHover[e]&&n._setHoverDebounced()},n._renderValue=function(e){var t=0===e.price.value?"–":l.D$(e.price.value,n.props.config.lang,{min:2,max:2});return a.createElement("div",{className:_("value")},t)},n._renderRates=function(e,t){void 0===t&&(t=0);var r=n.state.hovers;return 0===e.length?null:a.createElement("div",{className:_("rates",{additional:0!==t})},e.map(function(e,i){return a.createElement("div",{key:i,className:_("rate",{"has-value":!!e.price.value})},a.createElement(m.Z,{text:e.name,position:"top",isDisabled:!r[i+t]},function(r){return a.createElement("div",{className:_("name"),ref:(0,h.l)(r,function(e){var r=!!e&&e.offsetWidth<e.scrollWidth;n._setHover(i+t,r)})},e.name)}),n._renderValue(e))}))},n._renderDropdown=function(e){return a.createElement(d.Z,{content:n._renderRates(e.slice(4),4),iconUrl:null,delimiter:null,arrowHidden:e.length<=4,hideCardBorder:!0},n._renderRates(e.slice(0,4)))},n._renderInfo=function(){let e;var t=n.props,r=t.source,i=(0,p.p6)(new Date(1e3*t.timestamp),t.config,{isShortDate:!1});return a.createElement("div",{className:_("info")},r?(0,v.Z)("Обновлено "+(e={date:i,source:"__link"}).date+" по данным "+e.source,{__link:a.createElement(f.ZP,{name:"search_partner_link",logClick:!0,nodeState:r},a.createElement("a",{href:r.url,target:"_blank",className:_("info-link")},r.name))}):"Обновлено "+i)},n.state={hovers:[]},n._partialHover=[],n._setHoverDebounced=(0,o.Z)(n._setHoverState,100),n}(0,r._)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._setHoverDebounced.cancel()},n.render=function(){var e,t,n=this.props,r=(e=n.items,(t=g.map(function(t){var n,r;return n=e.find(function(e){return t.aliases.includes(e.name)}),r=e.find(function(e){return t.match.test(e.name)}),n||r||{name:t.defaultName,price:{value:0,text:"0",currency:"RUB"}}})).every(function(e){return 0===e.price.value})?e:(0,i._)(t).concat((0,i._)(e.filter(function(e){return!t.includes(e)})))),o=n.isWideCard;return a.createElement(f.ZP,{name:"fuel_info",logClick:!0},a.createElement("div",{className:_({bordered:!o,wide:o})},o?this._renderRates(r):this._renderDropdown(r),this._renderInfo()))},t}(a.PureComponent),b=(0,u.ZP)((0,c.ZP)(y))},25121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(18188),i=n(87363),a=n(28216),o=n(44748),s=n(94542),l=(n(70901),n(21368),n(49267)),c=n(31336),u=n(92616),d=n(91410),m=n(60517),p=n(96309),v=n(85172),f=n(22370),h=n(85130),g=function(e,t){if(!e.datetime)return!1;var n=f.x2(f.$_(t));return new Date(e.datetime).getTime()>n.getTime()},_=(0,o.Z)("table-booking-widget"),y=function(e){var t,n=e.result,o=(0,c.ZR)(),f=(0,v.Fg)(),y=a.I0(),b=(0,r._)(i.useState(!1),2),E=b[0],k=b[1],w=i.useRef(null),Z=n.userBookings,C=Z?Z.filter(function(e){return g(e,o)}).sort(function(e,t){return new Date(e.datetime).getTime()-new Date(t.datetime).getTime()}):[],N=o.experiments.ui.tableBookingWidget,P=function(e){y(d.Z.onPushState({page:"record",bookingId:e,origin:"record"}))},S=function(e){var t="dark"===f?e.iconUrlDark:e.iconUrl;return t?i.createElement(p.Z,{url:t,alt:void 0,height:24}):i.createElement(l.Z,{name:"calendar-24",inline:!0})},x=function(){k(!1)},T=function(){k(!E)},R=function(e){x(),P(e)},A=function(e){return i.createElement(m.ZP,{name:"booking_widget",logClick:!0},i.createElement(s.Z,{className:_("widget"),onClick:function(){return R(e.id)}},i.createElement("div",{className:_("icon")},S(e)),i.createElement("div",{className:_("content")},i.createElement("div",{className:_("date")},e.title),i.createElement("div",{className:_("title",{status:e.status})},e.subtitle)),i.createElement("div",{className:_("arrow")},i.createElement(l.Z,{name:"arrow-right-8-flip",inline:!0}))))};return(null==(t=n.booking)?void 0:t.bookingType)==="restaurant"&&C.length&&N&&o.experiments.ui.tableBooking?i.createElement("div",{className:_()},i.createElement("div",{className:_("bordered-widget")},C.length>1?function(){let e;if(!C.length)return null;var t=C[0];return i.createElement(m.ZP,{name:"booking_summary",logClick:!0},i.createElement(s.Z,{className:_("widget"),onClick:T,ref:w},i.createElement("div",{className:_("icon")},S(t)),i.createElement("div",{className:_("content")},i.createElement("div",{className:_("date")},"Ваши бронирования"),i.createElement("div",{className:_("title",{status:t.status})},("cancelled"===(e={type:t.status,date:(0,h.p6)(new Date(t.datetime),o),time:(0,h.mr)(new Date(t.datetime))}).type?"Отменена":"Ближайшая")+" "+e.date+" · "+e.time)),i.createElement("div",{className:_("arrow",{expanded:E})},i.createElement(l.Z,{name:"arrow-down-8",inline:!0}))))}():A(C[0])),C.length?i.createElement(u.Z,{position:"bottom-left",type:"balloon",className:_("popup"),showArrow:!0,getTarget:function(){return w.current},isShown:E,onClose:x,isDropdown:!0,view:"secondary"},i.createElement("div",{className:_("list-content")},i.createElement(i.Fragment,null,C.map(function(e){return i.createElement("div",{className:_("list-item"),key:e.id},A(e))})))):null):null}},52255:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,o:()=>a});var r=n(18188),i=["112x132","154x103","204x204","224x264","231x155","244x405","300x300","322x215","336x116","344x194","344x228","352x150","378x196","387x455","400x225","408x408","483x322","488x810","500x500","516x290","540x405","672x232","688x387","688x456"];function a(e,t){var n={width:1/0,height:1/0};return i.map(function(e){var t=(0,r._)(e.split("x").map(function(e){return Number(e)}),2);return{name:e,width:t[0],height:t[1]}}).forEach(function(r){var i=e<=r.width&&t<=r.height,a=r.width*r.height<n.width*n.height;i&&a&&(n=r)}),n.name}function o(e,t){return t?e.replace(/\/orig$/,"/smart_crop_"+t):e}},67942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(18188),i=n(87363),a=n(49267),o=n(44748),s=n(13975),l=n(31336),c=n(52255),u=(0,o.Z)("video-thumbnail"),d=function(e){var t=(0,l.ZR)(),n=i.useRef(null),o=e.small||t.uatraits.isTouch,d=(0,r._)(i.useState(),2),m=d[0],p=d[1];return i.useEffect(function(){if(n.current){var t=(0,c.o)(n.current.clientWidth,n.current.clientHeight);p((0,c._)(e.src,t))}},[e.src]),i.createElement("div",{className:u({scale:e.scale}),ref:n},e.hideIcon?null:i.createElement(a.Z,{className:u("icon",{small:o}),name:o?"play-16":"play-24",inline:!0}),m?i.createElement(s.Z,{src:m,renderImmediately:e.renderImmediately,alt:e.alt}):null)}},69423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(87363),i=n(60517),a=n(44748),o=n(94542),s=(0,a.Z)("yes-no-poll"),l=function(e){if(e.answered)return r.createElement("div",{className:s()},r.createElement("div",{className:s("gratitude")},"Спасибо, вы помогаете делать Карты лучше!"));var t=e.onAnswer;return r.createElement(i.ZP,{name:"yes_no_poll",useParentState:!0},r.createElement("div",{className:s({view:e.view})},e.icon?r.createElement("div",{className:s("icon")},e.icon):null,r.createElement("div",{className:s("question")},e.question),t?r.createElement("div",{className:s("answers")},r.createElement(i.ZP,{name:"answer_yes",logClick:!0,useParentState:!0},r.createElement(o.Z,{className:s("answer"),onClick:function(){return t("yes")}},"Да")),r.createElement("div",{className:s("separator")}),r.createElement(i.ZP,{name:"answer_no",logClick:!0,useParentState:!0},r.createElement(o.Z,{className:s("answer"),onClick:function(){return t("no")}},"Нет"))):null))}},22471:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var r=[1,2,3,4,5]},80120:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(87363),i=n(49267),a=["goodPlaceYear"],o={16:{goodPlaceYear:"reward-badge-yndx-16-v2025-28x16",ultimaGuide:"reward-badge-ultima-16"},24:{goodPlaceYear:"reward-badge-yndx-24-v2025-42x24",ultimaGuide:"reward-badge-ultima-40x24"},48:{goodPlaceYear:"reward-badge-yndx-248-no-gradient",ultimaGuide:"reward-badge-ultima-80x48"}};function s(e,t,n,s){if(!o[t][e])return null;var l=a.includes(e)?"light":n;return r.createElement(i.Z,{name:o[t][e],className:s,inline:!0,theme:l})}},84714:(e,t,n)=>{"use strict";n.d(t,{z:()=>u});var r=n(69272),i=n(90845),a=n(86442),o=n(6598),s=n(80845),l=n(22370),c=n(44283);function u(e,t){var n=!!r.LS.getUserA11yFilters(t.authorization);return{filters:function e(t,n){return t.filter(i.u).map(function(t){if("date"===t.type)return t.id+":"+t.dateFrom.replace(/-/g,"")+(t.dateTo?"-"+t.dateTo.replace(/-/g,""):"");if("datetime"===t.type)return t.id+":"+(t.from?""+Math.round(new Date(t.from).getTime()/1e3):"")+"-"+(t.to?""+Math.round(new Date(t.to).getTime()/1e3):"");if("worktime"===t.type){if((0,i.u)(t.values.openNow))return e([t.values.openNow],n)[0];if((0,i.u)(t.values.open24h))return e([t.values.open24h],n)[0];if((0,i.u)(t.values.openInNextTwoHours)){var r=l.x2(l.$_(n)),u=new Date(r.getTime()+c.t9);return e([(0,o.Z)(t.values.openAt,r,u)],n)[0]}return e([t.values.openAt],n)[0]}return"price"===t.type?t.id+":"+(t.from!==t.minValue?t.from:"")+"-"+(t.to!==t.maxValue?t.to:""):"boolean"!==t.type&&(0,a.f)(t)?t.id+":"+(0,s.q)(t).join(","):t.id+":1"})}(e,t),emptyFilters:n?e.filter(function(e){return!(0,i.u)(e)&&r.LS.isA11yFilter(e)}).map(function(e){return e.id+":__web-maps-empty-filter__"}):[]}}},46210:(e,t,n)=>{"use strict";function r(e){return"pictured"===e.type}n.d(t,{B:()=>r})},6598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>function e(t,n,i,a){return!(null==a?void 0:a.skipDefaultInterval)&&n&&i&&i.getTime()-n.getTime()<9e5?e(t,n,new Date(n.getTime()+9e5)):(0,r._)({},t,{from:n?n.toISOString():null,to:i?i.toISOString():null})}});var r=n(34788)},9053:(e,t,n)=>{"use strict";n.d(t,{Iy:()=>i,Ey:()=>r,I0:()=>a});var r=function(e){return"urlTemplate"in e};function i(e,t){var n,r,i,a,o=e.result,s={title:o.title,address:o.address};return"business"===o.type&&(s.category=null==(r=o.categories)?void 0:null==(n=r.at(0))?void 0:n.name.toLocaleLowerCase(),s.regionPreposition=null==(i=o.region)?void 0:i.names.preposition,s.regionPrepositional=null==(a=o.region)?void 0:a.names.prepositional),s.title+(s.address?" ("+s.address+")":"")+(s.category?", "+s.category:"")+(s.regionPrepositional?" "+s.regionPreposition+" "+s.regionPrepositional:"")}var a={XXS:"XXS_height",XS:"XS_height",S:"S_height",M:"M_height",L:"L_height",XL:"XL_height",XXL:"XXL_height",orig:"orig"}},46664:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,W:()=>i});var r=3,i=50},21166:(e,t,n)=>{"use strict";function r(e,t){var n=t?e.fullAddress:e.address;return n&&t&&e.postalCode&&(n+=", "+e.postalCode),n&&e.additionalAddress&&(n+=" • "+e.additionalAddress),n}n.d(t,{K:()=>r})},44369:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var r=n(3558),i=n(77705);function a(e,t){return(0,r.x)(e)||(0,i.i)(e,t)?"low":"high"}},77705:(e,t,n)=>{"use strict";function r(e,t){var n,r;return t.hideAdverts?void 0:e.direct?{type:"direct",advert:e.direct}:(null==(n=e.promo)?void 0:n.hasActiveAdvert)&&t.experiments.ui.snippetPromo?{type:"promo",advert:e.promo}:(null==(r=e.advert)?void 0:r.promo)?{type:"advert-promo",advert:e.advert.promo}:void 0}n.d(t,{i:()=>r})},37032:(e,t,n)=>{"use strict";function r(e){return e.advert&&e.advert.products&&0!==e.advert.products.length?e.advert.products:void 0}n.d(t,{U:()=>r})},64247:(e,t,n)=>{"use strict";function r(e){var t;return null==(t=e.photos)?void 0:t.items.map(function(e){return e.urlTemplate})}n.d(t,{X:()=>r})},47402:(e,t,n)=>{"use strict";function r(e){return!!("features"in e&&(e.features||[]).find(function(e){return"type_parking"===e.id}))||!!("categories"in e&&(e.categories||[]).find(function(e){return"car park"===e.class}))}n.d(t,{F:()=>r})},797:(e,t,n)=>{"use strict";function r(e){if("similar"===e.type)return!1;var t=e.businessProperties;return!!(t&&t.has_verified_owner)}n.d(t,{B:()=>r})},70289:(e,t,n)=>{"use strict";n.d(t,{bL:()=>_,lR:()=>g,f4:()=>y});var r=n(11912),i=n(26786),a=n(64381),o=n(22370),s=n(85130),l=n(19013),c=n(13882),u=n(584),d=n(83946),m=n(84314);function p(e,t){(0,c.Z)(1,arguments);var n=(0,l.Z)(e);return Math.round(((0,u.Z)(n,t).getTime()-(function(e,t){(0,c.Z)(1,arguments);var n,r,i,a,o,s,p,v,f=(0,m.j)(),h=(0,d.Z)(null!==(n=null!==(r=null!==(i=null!==(a=null==t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null==t?void 0:null===(o=t.locale)||void 0===o?void 0:null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:f.firstWeekContainsDate)&&void 0!==r?r:null===(p=f.locale)||void 0===p?void 0:null===(v=p.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==n?n:1),g=function(e,t){(0,c.Z)(1,arguments);var n,r,i,a,o,s,p,v,f=(0,l.Z)(e),h=f.getFullYear(),g=(0,m.j)(),_=(0,d.Z)(null!==(n=null!==(r=null!==(i=null!==(a=null==t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null==t?void 0:null===(o=t.locale)||void 0===o?void 0:null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:g.firstWeekContainsDate)&&void 0!==r?r:null===(p=g.locale)||void 0===p?void 0:null===(v=p.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==n?n:1);if(!(_>=1&&_<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setFullYear(h+1,0,_),y.setHours(0,0,0,0);var b=(0,u.Z)(y,t),E=new Date(0);E.setFullYear(h,0,_),E.setHours(0,0,0,0);var k=(0,u.Z)(E,t);return f.getTime()>=b.getTime()?h+1:f.getTime()>=k.getTime()?h:h-1}(e,t),_=new Date(0);return _.setFullYear(g,0,h),_.setHours(0,0,0,0),(0,u.Z)(_,t)})(n,t).getTime())/6048e5)+1}var v=n(23855),f=n(3151),h=["break","opening_soon","closing_soon"];function g(e,t,n){void 0===n&&(n={});var r,i=e.status,a=e.currentWorkingStatus,o=n.short?null==a?void 0:a.shortText:null==a?void 0:a.text;return{text:n.showMoved&&(null==(r=e.businessProperties)?void 0:r.moved_to)?"Организация переехала":"open"===i?null!=o?o:"График работы не указан":({"possible-closed":"Возможно, больше не работает","temporary-closed":"Временно не работает","permanent-closed":"Больше не работает"})[i],state:{closed:"open"!==i||!!(a&&!a.isOpenNow),"changing-soon":!!a&&!!a.tag&&a.tag.some(function(e){return h.includes(e)}),"no-data":!o}}}function _(e,t){if(e.workingTime){var n=o.x2(o.$_(t)).getDay(),u=function(e,t){if(!e)return{};var n=[];e.unusual_hours&&(n=n.concat(e.unusual_hours)),e.valid_schedule&&(n=n.concat(e.valid_schedule));var r=o.x2(o.$_(t));return n.reduce(function(e,n){var i=(0,v.Z)(n),a=function(e){return(0,c.Z)(1,arguments),(0,l.Z)(e).getDay()}(i),o=p(i,{weekStartsOn:1})===p(r,{weekStartsOn:1});return!e[a]&&o&&(e[a]=(0,s.p6)(i,t)),e},{})}(e.businessProperties,t);return(0,r._)(e.workingTime.slice(1)).concat([e.workingTime[0]]).map(function(e,r){var s,l=(r+1)%7,c=(0,i.Z)(a.sb[l].slice(0,2));return e?1===e.length&&0===o.Hg(e[0].to,e[0].from)?(s="Круглосуточно",c+=" 00:00-23:59"):(s=e.map(function(e){var t=e.from,n=e.to;return o.BB(t)+" – "+o.BB(n)}),c+=" "+e.map(function(e){var t=e.from,n=e.to;return o.BB(t)+"-"+o.BB(n)}).join(",")):(s="Выходной",c=""),{dayName:(0,a.G7)(t,a.sb[l]),text:s,isWeekend:!e,isToday:n===l,changedDate:u[l],meta:c}})}}function y(e,t){var n=e.businessProperties;if(n){var r=o.x2(o.$_(t)),i=(n.unusual_hours||[]).some(function(e){return(0,f.Z)((0,v.Z)(e),r)}),a=(n.valid_schedule||[]).some(function(e){return(0,f.Z)((0,v.Z)(e),r)});if(i||a)return a?"Сегодня организация работает по праздничному графику":"Сегодня график работы мог поменяться из-за праздника"}}},98773:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(34788),i=n(87363),a=n(44748),o=n(60517),s=n(58535),l=n(94542),c=n(37552),u=n.n(c),d=(0,a.Z)("search-friends-likes-view"),m=Array(13).fill(null).map(function(e,t){return-(26*t)}),p=function(e){return i.createElement(o.ZP,{name:"friends_likes",logClick:!0},i.createElement(l.Z,{className:d({clickable:!!e.onClick}),onClick:e.onClick},i.createElement("div",{className:d("icons")},[Number(e.permalink),Number(e.permalink)+1].map(function(e,t,n){return i.createElement("div",{key:t,className:d("icon"),style:{zIndex:n.length-t,backgroundImage:"url("+u()+")",backgroundPositionX:m[e%14],backgroundSize:"338px 24px",backgroundRepeat:"no-repeat"}})})),i.createElement("div",{className:d("text")},"Нравится похожим на вас людям")))},v=function(e){var t=e.friends.slice(0,2);return i.createElement(o.ZP,{name:"friends_likes",logClick:!0},i.createElement(l.Z,{className:d({clickable:!!e.onClick}),onClick:e.onClick},i.createElement("div",{className:d("icons")},t.map(function(e,t,n){return i.createElement("div",{key:e.publicId||t,className:d("icon"),style:{zIndex:n.length-t}},i.createElement(s.Z,(0,r._)({size:"s"},e.avatarUrl?{backgroundImage:e.avatarUrl.replace("{size}","islands-68")}:{seed:e.name,char:e.name[0]})))})),i.createElement("div",{className:d("text")},0===e.bold.length?e.text:e.bold.reduce(function(t,n,r){var a,o=n.position+n.size;return t.push(i.createElement("span",{className:d("bold")},e.text.slice(n.position,o))),t.push(e.text.slice(o,null==(a=e.bold[r+1])?void 0:a.position)),t},[e.text.slice(0,e.bold[0].position)]))))},f=function(e){var t,n,r;return(null==(t=e.friendsLikes)?void 0:t.type)==="suggest_ratings"?i.createElement(p,{permalink:e.permalink,onClick:e.onClick}):(null==(r=e.friendsLikes)?void 0:null==(n=r.friends)?void 0:n.length)?i.createElement(v,{onClick:e.onClick,friends:e.friendsLikes.friends,text:e.friendsLikes.text,bold:e.friendsLikes.bold}):null}},65799:(e,t,n)=>{"use strict";n.d(t,{$:()=>v,Z:()=>f});var r=n(87363),i=n(44748),a=n(49267),o=n(31336),s=n(14246),l=n(87342),c=n(98901),u=n(18188),d=function(e){void 0===e&&(e=2);var t,n,i=r.useRef(null),a=(0,u._)(r.useState(!1),2),o=a[0],s=a[1],l=(0,u._)(r.useState(""),2),c=l[0],d=l[1],m=(0,u._)(r.useState(0),2),p=m[0],v=m[1],f=r.useRef(null);return r.useEffect(function(){if(i.current){var t=i.current,n=t.textContent||"";if(!f.current&&n&&(f.current=n),!f.current||f.current===n){t.style.display="",t.style.display="-webkit-inline-box",t.style.webkitLineClamp=String(e),t.style.webkitBoxOrient="vertical",t.style.overflow="hidden";var r=t.offsetHeight,a=t.scrollHeight>r;if(s(a),a){var o,l=document.createElement("div");l.style.cssText="\n          position: absolute;\n          visibility: hidden;\n          width: "+t.offsetWidth+"px;\n          font-size: "+getComputedStyle(t).fontSize+";\n          font-family: "+getComputedStyle(t).fontFamily+";\n          line-height: "+getComputedStyle(t).lineHeight+";\n          white-space: "+getComputedStyle(t).whiteSpace+";\n          letter-spacing: "+getComputedStyle(t).letterSpacing+";\n          display: -webkit-inline-box;\n          -webkit-line-clamp: "+e+";\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        ",document.body.appendChild(l);for(var c=0,u=n.length,m=0;c<=u;)o=Math.floor((c+u)/2),l.textContent=n.substring(0,o)+"...",l.scrollHeight<=r?(m=o,c=o+1):u=o-1;document.body.removeChild(l),v(m),d(n.substring(0,m)+"...")}else d(n)}}},[e,null==(t=i.current)?void 0:t.textContent]),{ref:i,isTruncated:o,visibleText:c,maxVisibleChars:p,fullText:(null==(n=i.current)?void 0:n.textContent)||""}},m=n(85172),p=(0,i.Z)("search-advert-badge"),v=function(e){var t=d(2);(0,o.ZR)();var n=e.direct?"Промо":"Реклама",i=r.createElement("span",{"aria-hidden":!0,className:p("advert-text")},n);return r.createElement("div",{className:p()},r.createElement("div",{className:p("main")},e.advert?r.createElement(s.Z,null,"Реклама",": "):e.secondary?null:r.createElement(s.Z,null,"Акция",": "),e.title?r.createElement("span",{ref:t.ref,className:p("title",{secondary:e.secondary,serp:!0})},e.secondary?"Акция":function(){if(!e.title)return null;if(!t.maxVisibleChars)return e.advert?r.createElement(r.Fragment,null,e.title," ",i):e.title;var a=e.advert?t.maxVisibleChars-7-n.length:t.maxVisibleChars-7,o=e.title.slice(0,Math.max(a,0));return e.advert?r.createElement(r.Fragment,null,o,"... ",i):r.createElement(r.Fragment,null,o,"...")}()):e.advert?i:null))},f=(0,m.ZP)(function(e){(0,o.ZR)();var t=e.data,n="advert-promo"===t.type,i=n||t.promo.hasActiveAdvert&&!e.secondary,u=n?t.promo.title:i?t.promo.promoAction.name:"Акция";return r.createElement("div",{className:p()},r.createElement(a.Z,{name:i?"mark-ads-16":"mark-free-ads-16",className:p("icon"),theme:e.theme,inline:!0}),r.createElement("div",{className:p("main")},n?r.createElement(s.Z,null,"Реклама",": "):i?r.createElement(s.Z,null,"Акция",": "):null,r.createElement("span",{className:p("title",{secondary:!i,serp:!e.noSerp})},u),n&&!e.noAdvert?r.createElement(l.Z,{tag:"span"},t.promo.ordInfo&&e.showOrdInfo?r.createElement(c.Z,{ordInfo:t.promo.ordInfo,stopPropagation:!0}):r.createElement("span",{"aria-hidden":!0,className:p("advert-text")},"Реклама")):null))})},4384:(e,t,n)=>{"use strict";var r=n(87363),i=n(38648),a=n(37358),o=n(60517),s=n(49481),l=n(31336);t.Z=function(e){var t,n=(0,l.ZR)(),c=e.result,u=(0,s.Y)({threshold:null!=(t=e.threshold)?t:1,triggerOnce:!0}),d=u.ref,m=u.inView;return r.createElement(o.ZP,{name:"result_item",hidden:n.experiments.ui.logSnippetInViewport&&!m,subtreeState:{type:i.D(c,n.experiments),gml_id:c.analyticsId,logId:c.logId,position:c.index,ui_position:e.position,permalink:c.id,uri:a.fS(c),reqid:c.requestId,discovery:"collection"===c.type?c.alias:void 0,position_in_group:c.indexInGroup},logClick:!0,nodeRef:e.nodeRef},e.children(d))}},84829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(18007),i=n(87363),a=n(44748),o=n(60517),s=n(97255),l=n(49267),c=n(94542),u=(0,a.Z)("search-sources-view"),d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._toggleDropdownState=function(){n.setState({isOpen:!n.state.isOpen})},n._renderSources=function(){return n.props.sources.filter(function(e){return"-"!==e.name}).map(function(e,t){var n=e.id+"_"+t;return e.href?i.createElement(o.ZP,{key:n,name:"sources",nodeState:{id:e.id}},i.createElement("a",{className:u("source"),href:e.href,target:"_blank"},e.name)):i.createElement("span",{className:u("source"),key:n},e.name)})},n.state={isOpen:!1},n}(0,r._)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.sources!==this.props.sources&&this.setState({isOpen:!1})},n.render=function(){let e;var t=this.state.isOpen;return i.createElement("div",{className:u()},i.createElement(o.ZP,{name:"control",logClick:!0},i.createElement(c.Z,{tag:"span",ariaExpanded:t,className:u("control"),onClick:this._toggleDropdownState},i.createElement("span",{className:u("control-text")},(e={count:this.props.sources.length}).count%10==1&&e.count%100!=11?"Источник данных":"Источники данных"),i.createElement("span",{className:u("control-arrow",{flipped:t})},i.createElement(l.Z,{name:"arrow-up-8",className:u("control-arrow-image"),inline:!0})))),i.createElement(s.Z,{isExpanded:t},i.createElement("div",{className:u("sources")},this._renderSources())))},t}(i.Component)},64117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(87363),i=n(44748),a=n(60517),o=n(94542),s=(0,i.Z)("search-typo-view"),l=function(e){var t=e.query,n=e.onClick;return r.createElement(a.ZP,{name:"typo",logClick:!0},r.createElement("div",{className:s()},r.createElement("span",{className:s("title")},"Исправлена опечатка"," "),r.createElement("span",{className:s("query-wrapper")},r.createElement(o.Z,{tag:"span",className:s("query"),onClick:n},t))))}},74315:(e,t,n)=>{"use strict";var r=n(70427);t.Z=(0,r.Z)(function(){return n.e("search").then(n.bind(n,6009))},{toggle:!0,close:!0})},19479:(e,t,n)=>{"use strict";n.d(t,{jX:()=>h,x:()=>m,Y8:()=>u,Lg:()=>v,ju:()=>p,$W:()=>d,UU:()=>f,zv:()=>g,vx:()=>_,BQ:()=>y,nC:()=>b});var r=n(34788),i=n(18188),a="promo",o=""+a+"LastMile",s=""+a+"Discount",l=""+a+"Portfolio",c=""+a+"WhatsNew";function u(e){return!!e&&e.includes(o)}function d(e){return!!e&&e.some(function(e){return e.startsWith(a)})}function m(e){return!!e&&e.includes("lastMile")}function p(e){return e.map(function(e){return e.startsWith(a)?e[a.length].toLowerCase()+e.slice(a.length+1):e})}function v(e){return u(e.tags)}function f(e){return d(e.tags)}function h(e){return m(e.tags)}function g(e,t){var n=(0,i._)(e.reduce(function(e,n){var r=(0,i._)(e,2),a=r[0],o=r[1];return f(n)?t.business.enablePromoStories&&o.push(n):a.push(n),[a,o]},[[],[]]),2),r=n[0],a=n[1];if(0===r.length)return[r,a];var o=r.some(h);return 1===r.length?[r,o?a.filter(function(e){return!v(e)}):a.filter(function(e){return v(e)})]:[r,o?[]:a.filter(function(e){return v(e)})]}function _(e,t){if(!e.tags||!e.tags[0])return"";switch(e.tags[0]){case o:return"Расскажите клиентам, как до вас добраться, — так им будет легче сразу найти вход";case s:return"Добавьте последние акции или спецпредложения";case l:return"Добавьте фотографии своих товаров или услуг — так клиентам будет легче выбирать";case c:return"Можете рассказать про новинки в меню или показать летнюю веранду перед открытием сезона";default:return""}}function y(e,t){return e.business.enableStories&&(t.hasStories||t.isUserOwner)}function b(e){var t=!e.url.startsWith("https://maps.yandex.ru/")&&!e.url.startsWith("https://yandex.ru/maps");return(0,r._)({},e,{target:t?"_blank":void 0})}},13923:(e,t,n)=>{"use strict";var r=n(70427);t.Z=(0,r.Z)(function(){return n.e("storytelling").then(n.bind(n,32959))},{openStorytelling:!0,setStorytellingIndex:!0})},10101:(e,t,n)=>{"use strict";n.d(t,{$e:()=>i,vK:()=>r,uA:()=>a});var r=["airport","district","entrance","house","hydro","route","metro_station","other","railway_station","station","street","vegetation"],i=["street","district","locality","area","province","country","route","vegetation","other"],a=["district","locality","area","province","country","other"]},12629:(e,t,n)=>{"use strict";var r=n(70427);t.Z=(0,r.Z)(function(){return n.e("subscriptions").then(n.bind(n,37892))},{openSubscriptions:!0,changeTab:!0,openRecommendations:!0,closeSubscriptions:!0})},50415:(e,t,n)=>{"use strict";n.d(t,{y:()=>i,Y:()=>a});var r=n(11912),i=function(e){return!!e};function a(e,t){var n=null==e?void 0:e.match(RegExp("["+Object.keys(t).join()+"]","g")),i=Object.keys(t).reduce(function(e,t){return e[t]=t.length>1||!n?-1:n.lastIndexOf(t),e},{});if(!n||Object.values(i).find(function(e){return -1===e}))return Object.values(t).flat();for(var a=[],o=Object.keys(t).reduce(function(e,t){return e[t]=0,e},{}),s=0;s<n.length;s++){var l=n[s],c=t[l],u=o[l],d=i[l];c&&c[u]&&(s<d?(a.push(c[u]),o[l]++):s===d&&a.push.apply(a,(0,r._)(c.slice(u))))}return a}},64381:(e,t,n)=>{"use strict";n.d(t,{sb:()=>a,G7:()=>s,ES:()=>l,yp:()=>c,sP:()=>o});var r=n(584),i=n(92300),a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function o(e){var t=(0,r.Z)(e);return a[(0,i.Z)(e,t)]}function s(e,t){return({sunday:"Воскресенье",monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота"})[t]}function l(e,t){return({sunday:"Вс",monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб"})[t]}function c(e,t){return({sunday:"В воскресенье",monday:"В понедельник",tuesday:"Во вторник",wednesday:"В среду",thursday:"В четверг",friday:"В пятницу",saturday:"В субботу"})[t]}},65569:(e,t,n)=>{"use strict";n.d(t,{Bb:()=>o,Gs:()=>m,Lr:()=>u,FP:()=>v,jq:()=>s,nO:()=>c,NQ:()=>f});var r=n(18188),i=n(38067),a=n(10101);function o(e){return e>900?({distance:u(e/1e3,2)}).distance+" км":({distance:u(e,2)}).distance+" м"}function s(e,t){var n="quadratic"===t?1e3:1;return e>900*n?({distance:l(p(e/(1e3*n)))}).distance+" км":({distance:l(p(e))}).distance+" м"}function l(e){return e.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}function c(e){return e<1e3?Math.round(e)+" м":e<1e5?Math.round(e/100)/10+" км":Math.round(e/1e3)+" км"}function u(e,t){if(void 0===t&&(t=1/0),t<1)throw Error("Can't round to significance of "+t+".");var n=Math.max(0,Math.round(e).toString().length-t);return Number(Math.round(e/Math.pow(10,n))+Array(n).fill("0").join(""))}function d(e,t){var n=e.geolocation.currentPosition;return n?(0,i.t)(n,t):void 0}function m(e,t){return"toponym"===t.type&&a.vK.includes(t.kind)?d(e,t.displayCoordinates):d(e,t.coordinates)}function p(e){if(e>100)return Math.round(e);var t=Math.pow(10,e>10?1:2);return Math.round(e*t)/t}function v(e){return e.reduce(function(e,t){var n=(0,r._)(e,2),a=n[0],o=n[1];return[o?a+(0,i.t)(o,t):a,t]},[0,null])[0]}function f(e,t){var n=m(e,t);return!!(n&&n>1e5)}},65456:(e,t,n)=>{"use strict";var r=n(18188),i=n(87363);function a(e,t){var n=(0,r._)(t,2),i=n[0],a=n[1];return e.reduce(function(e,t){return"string"==typeof t?t.split(i).forEach(function(t,n){n>0&&e.push(a),e.push(t)}):e.push(t),e},[])}function o(e,t){return i.createElement("span",{key:t},e)}function s(e,t){return"string"==typeof e?o(e,t):i.createElement(i.Fragment,{key:t},e)}t.Z=function(e,t,n){void 0===n&&(n={});var r=n.disableEntriesWrap?s:o;return Object.entries(t).reduce(a,[e]).filter(Boolean).map(r)}},31540:(e,t,n)=>{"use strict";n.d(t,{wD:()=>v,Lo:()=>f,gp:()=>h,jk:()=>g,BN:()=>b,nd:()=>_,Td:()=>E,If:()=>k,B1:()=>y});var r=n(18188),i=n(80129),a=n.n(i),o=n(30110),s=n(62178),l=n(56864),c=n(37830),u=n(72133),d=n(6241),m=n(51350),p=n(19242);function v(e){var t=60*((e=Math.abs(e))-Math.floor(e)),n=Math.round(60*(t-Math.floor(t)));return t=Math.floor(t),60===n&&(n=0,t+=1),60===t&&(t=0,e+=1),Math.floor(e)+"°"+t+"′"+(n?Math.round(n)+"″":"")}function f(e){var t=(0,r._)(e.split("?"),2),n=t[0],i=t[1],o=a().parse(void 0===i?"":i)||{};return o.utm_source="share",n+"?"+a().stringify(o)}function h(e,t){var n,r=null==(n=t.authorization)?void 0:n.publicId;return r?(0,d.formatUniqueParams)(e,{si:r},{additionalParamsPriority:!0}):e}function g(e,t,n,r){var i=o.e(s.u("reviews",e,void 0,!0),r);return h((0,d.render)(i,{reviews:{publicId:t},utm_source:n?"my_review":"review"}),r)}function _(e,t){var n;return!!(!(0,c.m)(t)&&!t.bunker.disableReviewShare&&e.text.length&&e.rating&&(null==(n=e.author)?void 0:n.publicId)&&(!e.moderation||"DECLINED"!==e.moderation.status))}function y(e,t,n){var r;return!!(!(0,c.m)(n)&&!n.bunker.disableReviewShare&&(null==(r=e.author)?void 0:r.publicId)&&e.businessId&&"ACCEPTED"===t.status)}function b(e,t,n,r){var i=e.title,a=e.text,o=e.url,s=e.fullText;(0,u.Sp)(r)&&"Android"===r.uatraits.OSFamily&&o?((0,m.E)(p.yu(s||o,i),r),t()):window.navigator.share?window.navigator.share({url:o,title:i,text:a}).then(function(){t()}).catch(function(e){e.message.startsWith("Internal error:")?n():t(e)}):n()}function E(e,t,n){var r=o.e(s.u("gallery",e,void 0,!0),n);return h((0,d.render)(r,{photos:{id:t,business:e}}),n)}function k(e,t){return h(t.origin+l.U(e,t),t)}},46557:(e,t,n)=>{"use strict";function r(e,t){return e.hosts.sprav+""+t+"/p/edit/posts/"}function i(e){var t,n,r;return(null==(t=e.mobileUaTraits)?void 0:t.app)==="maps"?"mobile_maps":(null==(n=e.mobileUaTraits)?void 0:n.app)==="maps-yango"?"yango_maps":(null==(r=e.mobileUaTraits)?void 0:r.app)==="navi"?"navi":"desktop_maps"}n.d(t,{T:()=>r,$:()=>i})},97313:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var r={screenshotDialog:99999,clipboard:99999,ruler:8030,editing:8030,hover:8020,active:8e3,search:{active:8e3,subtitle:7500,title:7e3,base:6500,dot:6e3},advert:5e3,dialog:2e3,usermaps:{placemark:3e3,line:2e3,polygon:1e3},discovery:580,routes:550,routePins:{waypoint:8e3,masstransit:7900},masstransitStop:8001,moving:500,masstransitLineStop:510,home:451,work:450,default:400,tooltip:352,masstransitRegion:350,bookmarks:300,minimum:1}},38067:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(48447);function i(e,t){return(0,r.t)(e,t).distance}},29657:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var r=n(73841),i=n(37806),a=n(94960),o=n(21307),s=n(16732);function l(e,t,n){e[1]=(0,o.v)(e[1]);var l=(0,r.I)(e[1]),c=(0,r.I)(e[0]),u=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)),d=t[1]/u,m=t[0]/u,p=(1-i.KH)*Math.tan(l),v=(0,s.u)(Math.cos(l))*Math.sqrt(1/(1+p*p)),f=Math.sqrt(1-v*v)*(0,s.u)(p),h=Math.atan2(p,d),g=v*m,_=(1-g)*(1+g),y=_*(i.d3*i.d3/(i.AL*i.AL)-1),b=1+y*(4096+y*(-768+y*(320-175*y)))/16384,E=y*(256+y*(-128+y*(74-47*y)))/1024,k=function(e){var t,r=n*e,o=r/(i.AL*b),s=Math.cos(2*(h+o/2)),l=0,u=0;do{var p=E*Math.sin(o)*(s+.25*E*(Math.cos(o)*(-1+2*s*s)-1/6*E*s*(-3+4*Math.sin(o)*Math.sin(o))*(-3+4*s*s)));t=p-u,u=p,o=r/(i.AL*b)+p,l++}while(Math.abs(t)>i.Qs&&l<10)var y=f*Math.sin(o)-v*Math.cos(o)*d,k=Math.atan2(f*Math.cos(o)+v*Math.sin(o)*d,(1-i.KH)*Math.sqrt(g*g+y*y)),w=Math.atan2(Math.sin(o)*m,v*Math.cos(o)-f*Math.sin(o)*d),Z=i.KH/16*_*(4+i.KH*(4-3*_)),C=w-(1-Z)*i.KH*g*(o+Z*Math.sin(o)*(s+Z*Math.cos(o)*(-1+2*s*s))),N=Math.atan2(g,-f*Math.sin(o)+v*Math.cos(o)*d);return{point:[(0,a.Z)(c+C),(0,a.Z)(k)],direction:[Math.sin(N),Math.cos(N)]}},w=k(1);return{startPoint:e,startDirection:t,endPoint:w.point,endDirection:w.direction,distance:n,pathFunction:k}}},48447:(e,t,n)=>{"use strict";n.d(t,{t:()=>d});var r=n(29657),i=n(73841),a=n(48860),o=n(37806),s=n(21307),l=n(16732);function c(e){return Math.abs(e-(0,l.u)(e)*Math.PI/2)<o.Qs?(0,l.u)(e)*Math.PI/2:Math.atan((1-o.KH)*Math.tan(e))}function u(e,t,n){return function(i){var a=(0,r.S)(e,t,n*i);return{point:a.endPoint,direction:a.endDirection}}}function d(e,t,n){if(e===t||e[0]===t[0]&&e[1]===t[1]){var r,d,m,p=[1,1];return{startPoint:e,startDirection:p,endPoint:t,endDirection:p,distance:0,pathFunction:u(e,p,0)}}e[1]=(0,s.v)(e[1]),t[1]=(0,s.v)(t[1]);var v=(0,i.I)(e[1]),f=(0,i.I)(t[1]),h=(0,i.I)(t[0]-e[0]),g=c(v),_=c(f),y=h,b=y,E=0,k=0;if(0===v&&0===f){var w=(0,a.d)(t[0]-e[0],n?-360:-180,n?360:180);m=[(d=[w>0?1:-1,0])[0],d[1]],k=2*Math.PI*o.d3/360*Math.abs(w)}else{var Z=void 0,C=void 0,N=void 0,P=void 0,S=void 0,x=void 0,T=void 0;do Z=Math.sqrt(Math.pow(Math.cos(_)*Math.sin(y),2)+Math.pow(Math.cos(g)*Math.sin(_)-Math.sin(g)*Math.cos(_)*Math.cos(y),2)),C=Math.sin(g)*Math.sin(_)+Math.cos(g)*Math.cos(_)*Math.cos(y),P=1-Math.pow(N=Math.cos(g)*Math.cos(_)*Math.sin(y)/Math.sin(S=n?2*Math.PI-Math.atan2(Z,C):Math.atan2(Z,C)),2),x=Math.cos(S)-2*Math.sin(g)*Math.sin(_)/P,r=Math.abs(b-(y=Math.min(Math.max(h+(1-(T=o.KH/16*P*(4+o.KH*(4-3*P))))*o.KH*N*(S+T*Math.sin(S)*(x+T*Math.cos(S)*(-1+2*x*x))),-2*Math.PI),2*Math.PI))),b=y,E++;while(r>o.Qs&&E<10)var R=P*(o.d3*o.d3-o.AL*o.AL)/(o.AL*o.AL),A=R*(256+R*(-128+R*(74-47*R)))/1024,I=A*Math.sin(S)*(x+.25*A*(Math.cos(S)*(-1+2*x*x)-1/6*A*x*(-3+4*Math.sin(S)*Math.sin(S))*(-3+4*x*x))),B=Math.atan2(Math.cos(_)*Math.sin(y),Math.cos(g)*Math.sin(_)-Math.sin(g)*Math.cos(_)*Math.cos(y)),O=Math.atan2(Math.cos(g)*Math.sin(y),-Math.sin(g)*Math.cos(_)+Math.cos(g)*Math.sin(_)*Math.cos(y));k=o.AL*(1+R*(4096+R*(-768+R*(320-175*R)))/16384)*(S-I),n&&(B-=(0,l.u)(B-Math.PI)*Math.PI,O-=(0,l.u)(O-Math.PI)*Math.PI),d=[Math.sin(B),Math.cos(B)],m=[Math.sin(O),Math.cos(O)]}return{startPoint:e,startDirection:d,endPoint:t,endDirection:m,distance:k,pathFunction:u(e,d,k)}}},16732:(e,t,n)=>{"use strict";function r(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1}n.d(t,{u:()=>r})},70912:(e,t,n)=>{"use strict";function r(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}n.d(t,{_:()=>r})},15816:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=0;function i(e){return"__private_"+r+++"_"+e}},18069:(e,t)=>{"use strict";t.Z=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},31906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(21692),i=function(e){return e!=e},a=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1},o=function(e,t){return!!(null==e?0:e.length)&&(t==t?a(e,t,0):(0,r.Z)(e,i,0))>-1}},22783:(e,t)=>{"use strict";t.Z=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},27615:(e,t,n)=>{"use strict";var r=n(45084),i=n(31906),a=n(22783),o=n(74073),s=n(21162),l=n(59548);t.Z=function(e,t,n,c){var u=-1,d=i.Z,m=!0,p=e.length,v=[],f=t.length;if(!p)return v;n&&(t=(0,o.Z)(t,(0,s.Z)(n))),c?(d=a.Z,m=!1):t.length>=200&&(d=l.Z,m=!1,t=new r.Z(t));e:for(;++u<p;){var h=e[u],g=null==n?h:n(h);if(h=c||0!==h?h:0,m&&g==g){for(var _=f;_--;)if(t[_]===g)continue e;v.push(h)}else d(t,g,c)||v.push(h)}return v}},21692:(e,t)=>{"use strict";t.Z=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return -1}},69581:(e,t,n)=>{"use strict";var r=n(69203),i=n(45644),a=n(50022);t.Z=function(e,t){return(0,a.Z)((0,i.Z)(e,t,r.Z),e+"")}},90184:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(45084),i=n(31906),a=n(22783),o=n(59548),s=n(93203),l=n(42054),c=n(6545),u=s.Z&&1/(0,c.Z)(new s.Z([,-0]))[1]==1/0?function(e){return new s.Z(e)}:l.Z,d=function(e,t,n){var s=-1,l=i.Z,d=e.length,m=!0,p=[],v=p;if(n)m=!1,l=a.Z;else if(d>=200){var f=t?null:u(e);if(f)return(0,c.Z)(f);m=!1,l=o.Z,v=new r.Z}else v=t?[]:p;e:for(;++s<d;){var h=e[s],g=t?t(h):h;if(h=n||0!==h?h:0,m&&g==g){for(var _=v.length;_--;)if(v[_]===g)continue e;t&&v.push(g),p.push(h)}else l(v,g,n)||(v!==p&&v.push(g),p.push(h))}return p}},77904:(e,t,n)=>{"use strict";var r=n(72119),i=function(){try{var e=(0,r.Z)(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();t.Z=i},45644:(e,t,n)=>{"use strict";var r=n(18069),i=Math.max;t.Z=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(l),(0,r.Z)(e,this,c)}}},50022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(77904),i=n(69203),a=r.Z?function(e,t){return(0,r.Z)(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:i.Z,o=Date.now,s=function(e){var t=0,n=0;return function(){var r=o(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(a)},44176:(e,t,n)=>{"use strict";var r=n(27615),i=n(25140),a=n(69581),o=n(836),s=(0,a.Z)(function(e,t){return(0,o.Z)(e)?(0,r.Z)(e,(0,i.Z)(t,1,o.Z,!0)):[]});t.Z=s},836:(e,t,n)=>{"use strict";var r=n(50585),i=n(18533);t.Z=function(e){return(0,i.Z)(e)&&(0,r.Z)(e)}},42054:(e,t)=>{"use strict";t.Z=function(){}},94207:(e,t,n)=>{"use strict";var r=n(90184);t.Z=function(e){return e&&e.length?(0,r.Z)(e):[]}},8040:(e,t,n)=>{"use strict";n.d(t,{j:()=>m});var r,i,a,o=n(22678),s=n(70912),l=n(15816),c=n(18007),u=n(62978),d=n(13772),m=new(r=(0,l._)("_focused"),i=(0,l._)("_cleanup"),a=(0,l._)("_setup"),function(e){function t(){var t;return t=e.call(this)||this,Object.defineProperty((0,o._)(t),r,{writable:!0,value:void 0}),Object.defineProperty((0,o._)(t),i,{writable:!0,value:void 0}),Object.defineProperty((0,o._)(t),a,{writable:!0,value:void 0}),(0,s._)(t,a)[a]=function(e){if(!d.sk&&window.addEventListener){var t=function(){return e()};return window.addEventListener("visibilitychange",t,!1),function(){window.removeEventListener("visibilitychange",t)}}},t}(0,c._)(t,e);var n=t.prototype;return n.onSubscribe=function(){(0,s._)(this,i)[i]||this.setEventListener((0,s._)(this,a)[a])},n.onUnsubscribe=function(){this.hasListeners()||(null==(0,s._)(this,i)[i]||(0,s._)(this,i)[i].call(this),(0,s._)(this,i)[i]=void 0)},n.setEventListener=function(e){var t=this;(0,s._)(this,a)[a]=e,null==(0,s._)(this,i)[i]||(0,s._)(this,i)[i].call(this),(0,s._)(this,i)[i]=e(function(e){"boolean"==typeof e?t.setFocused(e):t.onFocus()})},n.setFocused=function(e){(0,s._)(this,r)[r]!==e&&((0,s._)(this,r)[r]=e,this.onFocus())},n.onFocus=function(){var e=this.isFocused();this.listeners.forEach(function(t){t(e)})},n.isFocused=function(){var e;return"boolean"==typeof(0,s._)(this,r)[r]?(0,s._)(this,r)[r]:(null==(e=globalThis.document)?void 0:e.visibilityState)!=="hidden"},t}(u.l))},58936:(e,t,n)=>{"use strict";n.d(t,{Qy:()=>s,ZF:()=>l,Gm:()=>i});var r=n(13772);function i(e){return{onFetch:function(t,n){var i=async function(){var n=t.options,i=null==(_=t.fetchOptions)?void 0:null==(g=_.meta)?void 0:null==(h=g.fetchMore)?void 0:h.direction,s=(null==(y=t.state.data)?void 0:y.pages)||[],l=(null==(b=t.state.data)?void 0:b.pageParams)||[],c=!1,u=function(e){Object.defineProperty(e,"signal",{enumerable:!0,get:function(){return t.signal.aborted?c=!0:t.signal.addEventListener("abort",function(){c=!0}),t.signal}})},d=t.options.queryFn&&t.options.queryFn!==r.CN?t.options.queryFn:function(){return Promise.reject(Error("Missing queryFn: '"+t.options.queryHash+"'"))},m=async function(e,n,i){if(c)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);var a={queryKey:t.queryKey,pageParam:n,direction:i?"backward":"forward",meta:t.options.meta};u(a);var o=await d(a),s=t.options.maxPages,l=i?r.Ht:r.VX;return{pages:l(e.pages,o,s),pageParams:l(e.pageParams,n,s)}};if(i&&s.length){var p="backward"===i,v={pages:s,pageParams:l},f=(p?o:a)(n,v);E=await m(v,f,p)}else{E=await m({pages:[],pageParams:[]},null!=(k=l[0])?k:n.initialPageParam);for(var h,g,_,y,b,E,k,w=null!=e?e:s.length,Z=1;Z<w;Z++){var C=a(n,E);E=await m(E,C)}}return E};t.options.persister?t.fetchFn=function(){return null==t.options.persister?void 0:t.options.persister.call(t.options,i,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=i}}}function a(e,t){var n=t.pages,r=t.pageParams,i=n.length-1;return e.getNextPageParam(n[i],n,r[i],r)}function o(e,t){var n=t.pages,r=t.pageParams;return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam.call(e,n[0],n,r[0],r)}function s(e,t){return!!t&&null!=a(e,t)}function l(e,t){return!!t&&!!e.getPreviousPageParam&&null!=o(e,t)}},79450:(e,t,n)=>{"use strict";n.d(t,{m:()=>h,R:()=>g});var r,i,a,o,s=n(22678),l=n(70912),c=n(15816),u=n(2267),d=n(34788),m=n(18007),p=n(2136),v=n(47837),f=n(2320),h=(r=(0,c._)("_observers"),i=(0,c._)("_mutationCache"),a=(0,c._)("_retryer"),o=(0,c._)("_dispatch"),function(e){function t(t){var n;return n=e.call(this)||this,Object.defineProperty((0,s._)(n),o,{value:_}),Object.defineProperty((0,s._)(n),r,{writable:!0,value:void 0}),Object.defineProperty((0,s._)(n),i,{writable:!0,value:void 0}),Object.defineProperty((0,s._)(n),a,{writable:!0,value:void 0}),n.mutationId=t.mutationId,(0,l._)(n,i)[i]=t.mutationCache,(0,l._)(n,r)[r]=[],n.state=t.state||g(),n.setOptions(t.options),n.scheduleGc(),n}(0,m._)(t,e);var n=t.prototype;return n.setOptions=function(e){this.options=e,this.updateGcTime(this.options.gcTime)},n.addObserver=function(e){(0,l._)(this,r)[r].includes(e)||((0,l._)(this,r)[r].push(e),this.clearGcTimeout(),(0,l._)(this,i)[i].notify({type:"observerAdded",mutation:this,observer:e}))},n.removeObserver=function(e){(0,l._)(this,r)[r]=(0,l._)(this,r)[r].filter(function(t){return t!==e}),this.scheduleGc(),(0,l._)(this,i)[i].notify({type:"observerRemoved",mutation:this,observer:e})},n.optionalRemove=function(){(0,l._)(this,r)[r].length||("pending"===this.state.status?this.scheduleGc():(0,l._)(this,i)[i].remove(this))},n.continue=function(){var e,t;return null!=(t=null==(e=(0,l._)(this,a)[a])?void 0:e.continue())?t:this.execute(this.state.variables)},n.execute=async function(e){var t,n,r,s,c=this;(0,l._)(this,a)[a]=(0,f.Mz)({fn:function(){return c.options.mutationFn?c.options.mutationFn(e):Promise.reject(Error("No mutationFn found"))},onFail:function(e,t){(0,l._)(c,o)[o]({type:"failed",failureCount:e,error:t})},onPause:function(){(0,l._)(c,o)[o]({type:"pause"})},onContinue:function(){(0,l._)(c,o)[o]({type:"continue"})},retry:null!=(m=this.options.retry)?m:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:function(){return(0,l._)(c,i)[i].canRun(c)}});var u="pending"===this.state.status,d=!(0,l._)(this,a)[a].canStart();try{if(!u){(0,l._)(this,o)[o]({type:"pending",variables:e,isPaused:d}),await (null==(_=(y=(0,l._)(this,i)[i].config).onMutate)?void 0:_.call(y,e,this));var m,p,v,h,g,_,y,b=await (null==this.options.onMutate?void 0:this.options.onMutate.call(this.options,e));b!==this.state.context&&(0,l._)(this,o)[o]({type:"pending",context:b,variables:e,isPaused:d})}var E=await (0,l._)(this,a)[a].start();return await (null==(p=(v=(0,l._)(this,i)[i].config).onSuccess)?void 0:p.call(v,E,e,this.state.context,this)),await (null==this.options.onSuccess?void 0:this.options.onSuccess.call(this.options,E,e,this.state.context)),await (null==(h=(g=(0,l._)(this,i)[i].config).onSettled)?void 0:h.call(g,E,null,this.state.variables,this.state.context,this)),await (null==this.options.onSettled?void 0:this.options.onSettled.call(this.options,E,null,e,this.state.context)),(0,l._)(this,o)[o]({type:"success",data:E}),E}catch(k){try{throw await (null==(t=(n=(0,l._)(this,i)[i].config).onError)?void 0:t.call(n,k,e,this.state.context,this)),await (null==this.options.onError?void 0:this.options.onError.call(this.options,k,e,this.state.context)),await (null==(r=(s=(0,l._)(this,i)[i].config).onSettled)?void 0:r.call(s,void 0,k,this.state.variables,this.state.context,this)),await (null==this.options.onSettled?void 0:this.options.onSettled.call(this.options,void 0,k,e,this.state.context)),k}finally{(0,l._)(this,o)[o]({type:"error",error:k})}}finally{(0,l._)(this,i)[i].runNext(this)}},(0,u._)(t,[{key:"meta",get:function(){return this.options.meta}}]),t}(v.F));function g(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}function _(e){var t=this;this.state=function(t){switch(e.type){case"failed":return(0,d._)({},t,{failureCount:e.failureCount,failureReason:e.error});case"pause":return(0,d._)({},t,{isPaused:!0});case"continue":return(0,d._)({},t,{isPaused:!1});case"pending":return(0,d._)({},t,{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return(0,d._)({},t,{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return(0,d._)({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}}(this.state),p.V.batch(function(){(0,l._)(t,r)[r].forEach(function(t){t.onMutationUpdate(e)}),(0,l._)(t,i)[i].notify({mutation:t,type:"updated",action:e})})}},2136:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(11912),i=function(){var e=[],t=0,n=function(e){e()},i=function(e){e()},a=function(e){return setTimeout(e,0)},o=function(r){t?e.push(r):a(function(){n(r)})},s=function(){var t=e;e=[],t.length&&a(function(){i(function(){t.forEach(function(e){n(e)})})})};return{batch:function(e){var n;t++;try{n=e()}finally{--t||s()}return n},batchCalls:function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o(function(){e.apply(void 0,(0,r._)(n))})}},schedule:o,setNotifyFunction:function(e){n=e},setBatchNotifyFunction:function(e){i=e},setScheduler:function(e){a=e}}}()},30796:(e,t,n)=>{"use strict";n.d(t,{N:()=>m});var r,i,a,o=n(22678),s=n(70912),l=n(15816),c=n(18007),u=n(62978),d=n(13772),m=new(r=(0,l._)("_online"),i=(0,l._)("_cleanup"),a=(0,l._)("_setup"),function(e){function t(){var t;return t=e.call(this)||this,Object.defineProperty((0,o._)(t),r,{writable:!0,value:void 0}),Object.defineProperty((0,o._)(t),i,{writable:!0,value:void 0}),Object.defineProperty((0,o._)(t),a,{writable:!0,value:void 0}),(0,s._)(t,r)[r]=!0,(0,s._)(t,a)[a]=function(e){if(!d.sk&&window.addEventListener){var t=function(){return e(!0)},n=function(){return e(!1)};return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",t),window.removeEventListener("offline",n)}}},t}(0,c._)(t,e);var n=t.prototype;return n.onSubscribe=function(){(0,s._)(this,i)[i]||this.setEventListener((0,s._)(this,a)[a])},n.onUnsubscribe=function(){this.hasListeners()||(null==(0,s._)(this,i)[i]||(0,s._)(this,i)[i].call(this),(0,s._)(this,i)[i]=void 0)},n.setEventListener=function(e){(0,s._)(this,a)[a]=e,null==(0,s._)(this,i)[i]||(0,s._)(this,i)[i].call(this),(0,s._)(this,i)[i]=e(this.setOnline.bind(this))},n.setOnline=function(e){(0,s._)(this,r)[r]!==e&&((0,s._)(this,r)[r]=e,this.listeners.forEach(function(t){t(e)}))},n.isOnline=function(){return(0,s._)(this,r)[r]},t}(u.l))},72586:(e,t,n)=>{"use strict";n.d(t,{A:()=>b,z:()=>E});var r,i,a,o,s,l,c,u=n(22678),d=n(70912),m=n(15816),p=n(2267),v=n(34788),f=n(18007),h=n(13772),g=n(2136),_=n(2320),y=n(47837),b=(r=(0,m._)("_initialState"),i=(0,m._)("_revertState"),a=(0,m._)("_cache"),o=(0,m._)("_retryer"),s=(0,m._)("_defaultOptions"),l=(0,m._)("_abortSignalConsumed"),c=(0,m._)("_dispatch"),function(e){function t(t){var n,m,p,v,f;return n=e.call(this)||this,Object.defineProperty((0,u._)(n),c,{value:k}),Object.defineProperty((0,u._)(n),r,{writable:!0,value:void 0}),Object.defineProperty((0,u._)(n),i,{writable:!0,value:void 0}),Object.defineProperty((0,u._)(n),a,{writable:!0,value:void 0}),Object.defineProperty((0,u._)(n),o,{writable:!0,value:void 0}),Object.defineProperty((0,u._)(n),s,{writable:!0,value:void 0}),Object.defineProperty((0,u._)(n),l,{writable:!0,value:void 0}),(0,d._)(n,l)[l]=!1,(0,d._)(n,s)[s]=t.defaultOptions,n.setOptions(t.options),n.observers=[],(0,d._)(n,a)[a]=t.cache,n.queryKey=t.queryKey,n.queryHash=t.queryHash,(0,d._)(n,r)[r]=t.state||(f=(v=void 0!==(p="function"==typeof(m=n.options).initialData?m.initialData():m.initialData))?"function"==typeof m.initialDataUpdatedAt?m.initialDataUpdatedAt():m.initialDataUpdatedAt:0,{data:p,dataUpdateCount:0,dataUpdatedAt:v?null!=f?f:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:v?"success":"pending",fetchStatus:"idle"}),n.state=(0,d._)(n,r)[r],n.scheduleGc(),n}(0,f._)(t,e);var n=t.prototype;return n.setOptions=function(e){this.options=(0,v._)({},(0,d._)(this,s)[s],e),this.updateGcTime(this.options.gcTime)},n.optionalRemove=function(){this.observers.length||"idle"!==this.state.fetchStatus||(0,d._)(this,a)[a].remove(this)},n.setData=function(e,t){var n=(0,h.oE)(this.state.data,e,this.options);return(0,d._)(this,c)[c]({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n},n.setState=function(e,t){(0,d._)(this,c)[c]({type:"setState",state:e,setStateOptions:t})},n.cancel=function(e){var t,n,r=null==(t=(0,d._)(this,o)[o])?void 0:t.promise;return null==(n=(0,d._)(this,o)[o])||n.cancel(e),r?r.then(h.ZT).catch(h.ZT):Promise.resolve()},n.destroy=function(){e.prototype.destroy.call(this),this.cancel({silent:!0})},n.reset=function(){this.destroy(),this.setState((0,d._)(this,r)[r])},n.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},n.isDisabled=function(){return this.getObserversCount()>0&&!this.isActive()},n.isStale=function(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(function(e){return e.getCurrentResult().isStale}):void 0===this.state.data)},n.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||void 0===this.state.data||!(0,h.Kp)(this.state.dataUpdatedAt,e)},n.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});null==t||t.refetch({cancelRefetch:!1}),null==(e=(0,d._)(this,o)[o])||e.continue()},n.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});null==t||t.refetch({cancelRefetch:!1}),null==(e=(0,d._)(this,o)[o])||e.continue()},n.addObserver=function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),(0,d._)(this,a)[a].notify({type:"observerAdded",query:this,observer:e}))},n.removeObserver=function(e){this.observers.includes(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||((0,d._)(this,o)[o]&&((0,d._)(this,l)[l]?(0,d._)(this,o)[o].cancel({revert:!0}):(0,d._)(this,o)[o].cancelRetry()),this.scheduleGc()),(0,d._)(this,a)[a].notify({type:"observerRemoved",query:this,observer:e}))},n.getObserversCount=function(){return this.observers.length},n.invalidate=function(){this.state.isInvalidated||(0,d._)(this,c)[c]({type:"invalidate"})},n.fetch=function(e,t){var n,r,s,u=this;if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if((0,d._)(this,o)[o])return(0,d._)(this,o)[o].continueRetry(),(0,d._)(this,o)[o].promise}if(e&&this.setOptions(e),!this.options.queryFn){var m=this.observers.find(function(e){return e.options.queryFn});m&&this.setOptions(m.options)}var p=new AbortController,v={queryKey:this.queryKey,meta:this.meta},f=function(e){Object.defineProperty(e,"signal",{enumerable:!0,get:function(){return(0,d._)(u,l)[l]=!0,p.signal}})};f(v);var g={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:function(){return u.options.queryFn&&u.options.queryFn!==h.CN?((0,d._)(u,l)[l]=!1,u.options.persister)?u.options.persister(u.options.queryFn,v,u):u.options.queryFn(v):Promise.reject(Error("Missing queryFn: '"+u.options.queryHash+"'"))}};f(g),null==(n=this.options.behavior)||n.onFetch(g,this),(0,d._)(this,i)[i]=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(r=g.fetchOptions)?void 0:r.meta))&&(0,d._)(this,c)[c]({type:"fetch",meta:null==(s=g.fetchOptions)?void 0:s.meta});var y=function(e){if((0,_.DV)(e)&&e.silent||(0,d._)(u,c)[c]({type:"error",error:e}),!(0,_.DV)(e)){var t,n,r,i;null==(t=(n=(0,d._)(u,a)[a].config).onError)||t.call(n,e,u),null==(r=(i=(0,d._)(u,a)[a].config).onSettled)||r.call(i,u.state.data,e,u)}u.isFetchingOptimistic||u.scheduleGc(),u.isFetchingOptimistic=!1};return(0,d._)(this,o)[o]=(0,_.Mz)({fn:g.fetchFn,abort:p.abort.bind(p),onSuccess:function(e){var t,n,r,i;if(void 0===e){y(Error(""+u.queryHash+" data is undefined"));return}u.setData(e),null==(t=(n=(0,d._)(u,a)[a].config).onSuccess)||t.call(n,e,u),null==(r=(i=(0,d._)(u,a)[a].config).onSettled)||r.call(i,e,u.state.error,u),u.isFetchingOptimistic||u.scheduleGc(),u.isFetchingOptimistic=!1},onError:y,onFail:function(e,t){(0,d._)(u,c)[c]({type:"failed",failureCount:e,error:t})},onPause:function(){(0,d._)(u,c)[c]({type:"pause"})},onContinue:function(){(0,d._)(u,c)[c]({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:function(){return!0}}),(0,d._)(this,o)[o].start()},(0,p._)(t,[{key:"meta",get:function(){return this.options.meta}}]),t}(y.F));function E(e,t){return(0,v._)({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,_.Kw)(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}function k(e){var t=this;this.state=function(n){switch(e.type){case"failed":return(0,v._)({},n,{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return(0,v._)({},n,{fetchStatus:"paused"});case"continue":return(0,v._)({},n,{fetchStatus:"fetching"});case"fetch":return(0,v._)({},n,E(n.data,t.options),{fetchMeta:null!=(r=e.meta)?r:null});case"success":return(0,v._)({},n,{data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:null!=(a=e.dataUpdatedAt)?a:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":var r,a,o=e.error;if((0,_.DV)(o)&&o.revert&&(0,d._)(t,i)[i])return(0,v._)({},(0,d._)(t,i)[i],{fetchStatus:"idle"});return(0,v._)({},n,{error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"});case"invalidate":return(0,v._)({},n,{isInvalidated:!0});case"setState":return(0,v._)({},n,e.state)}}(this.state),g.V.batch(function(){t.observers.forEach(function(e){e.onQueryUpdate()}),(0,d._)(t,a)[a].notify({query:t,type:"updated",action:e})})}},44429:(e,t,n)=>{"use strict";n.d(t,{S:()=>R});var r,i,a,o,s,l,c,u,d,m,p,v=n(70912),f=n(15816),h=n(34788),g=n(11912),_=n(13772),y=n(22678),b=n(18007),E=n(72586),k=n(2136),w=n(62978),Z=(r=(0,f._)("_queries"),function(e){function t(t){var n;return void 0===t&&(t={}),n=e.call(this)||this,Object.defineProperty((0,y._)(n),r,{writable:!0,value:void 0}),n.config=t,(0,v._)(n,r)[r]=new Map,n}(0,b._)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r,i=t.queryKey,a=null!=(r=t.queryHash)?r:(0,_.Rm)(i,t),o=this.get(a);return o||(o=new E.A({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o},n.add=function(e){(0,v._)(this,r)[r].has(e.queryHash)||((0,v._)(this,r)[r].set(e.queryHash,e),this.notify({type:"added",query:e}))},n.remove=function(e){var t=(0,v._)(this,r)[r].get(e.queryHash);t&&(e.destroy(),t===e&&(0,v._)(this,r)[r].delete(e.queryHash),this.notify({type:"removed",query:e}))},n.clear=function(){var e=this;k.V.batch(function(){e.getAll().forEach(function(t){e.remove(t)})})},n.get=function(e){return(0,v._)(this,r)[r].get(e)},n.getAll=function(){return(0,g._)((0,v._)(this,r)[r].values())},n.find=function(e){var t=(0,h._)({exact:!0},e);return this.getAll().find(function(e){return(0,_._x)(t,e)})},n.findAll=function(e){void 0===e&&(e={});var t=this.getAll();return Object.keys(e).length>0?t.filter(function(t){return(0,_._x)(e,t)}):t},n.notify=function(e){var t=this;k.V.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){var e=this;k.V.batch(function(){e.getAll().forEach(function(e){e.onFocus()})})},n.onOnline=function(){var e=this;k.V.batch(function(){e.getAll().forEach(function(e){e.onOnline()})})},t}(w.l)),C=n(79450),N=(i=(0,f._)("_mutations"),a=(0,f._)("_mutationId"),function(e){function t(t){var n;return void 0===t&&(t={}),n=e.call(this)||this,Object.defineProperty((0,y._)(n),i,{writable:!0,value:void 0}),Object.defineProperty((0,y._)(n),a,{writable:!0,value:void 0}),n.config=t,(0,v._)(n,i)[i]=new Map,(0,v._)(n,a)[a]=Date.now(),n}(0,b._)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r=new C.m({mutationCache:this,mutationId:++(0,v._)(this,a)[a],options:e.defaultMutationOptions(t),state:n});return this.add(r),r},n.add=function(e){var t,n=P(e),r=null!=(t=(0,v._)(this,i)[i].get(n))?t:[];r.push(e),(0,v._)(this,i)[i].set(n,r),this.notify({type:"added",mutation:e})},n.remove=function(e){var t=P(e);if((0,v._)(this,i)[i].has(t)){var n,r=null==(n=(0,v._)(this,i)[i].get(t))?void 0:n.filter(function(t){return t!==e});r&&(0===r.length?(0,v._)(this,i)[i].delete(t):(0,v._)(this,i)[i].set(t,r))}this.notify({type:"removed",mutation:e})},n.canRun=function(e){var t,n=null==(t=(0,v._)(this,i)[i].get(P(e)))?void 0:t.find(function(e){return"pending"===e.state.status});return!n||n===e},n.runNext=function(e){var t,n,r=null==(t=(0,v._)(this,i)[i].get(P(e)))?void 0:t.find(function(t){return t!==e&&t.state.isPaused});return null!=(n=null==r?void 0:r.continue())?n:Promise.resolve()},n.clear=function(){var e=this;k.V.batch(function(){e.getAll().forEach(function(t){e.remove(t)})})},n.getAll=function(){return(0,g._)((0,v._)(this,i)[i].values()).flat()},n.find=function(e){var t=(0,h._)({exact:!0},e);return this.getAll().find(function(e){return(0,_.X7)(t,e)})},n.findAll=function(e){return void 0===e&&(e={}),this.getAll().filter(function(t){return(0,_.X7)(e,t)})},n.notify=function(e){var t=this;k.V.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.resumePausedMutations=function(){var e=this.getAll().filter(function(e){return e.state.isPaused});return k.V.batch(function(){return Promise.all(e.map(function(e){return e.continue().catch(_.ZT)}))})},t}(w.l));function P(e){var t,n;return null!=(n=null==(t=e.options.scope)?void 0:t.id)?n:String(e.mutationId)}var S=n(8040),x=n(30796),T=n(58936),R=(o=(0,f._)("_queryCache"),s=(0,f._)("_mutationCache"),l=(0,f._)("_defaultOptions"),c=(0,f._)("_queryDefaults"),u=(0,f._)("_mutationDefaults"),d=(0,f._)("_mountCount"),m=(0,f._)("_unsubscribeFocus"),p=(0,f._)("_unsubscribeOnline"),function(){function e(e){void 0===e&&(e={}),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),(0,v._)(this,o)[o]=e.queryCache||new Z,(0,v._)(this,s)[s]=e.mutationCache||new N,(0,v._)(this,l)[l]=e.defaultOptions||{},(0,v._)(this,c)[c]=new Map,(0,v._)(this,u)[u]=new Map,(0,v._)(this,d)[d]=0}var t=e.prototype;return t.mount=function(){var e=this;(0,v._)(this,d)[d]++,1===(0,v._)(this,d)[d]&&((0,v._)(this,m)[m]=S.j.subscribe(async function(t){t&&(await e.resumePausedMutations(),(0,v._)(e,o)[o].onFocus())}),(0,v._)(this,p)[p]=x.N.subscribe(async function(t){t&&(await e.resumePausedMutations(),(0,v._)(e,o)[o].onOnline())}))},t.unmount=function(){(0,v._)(this,d)[d]--,0===(0,v._)(this,d)[d]&&(null==(0,v._)(this,m)[m]||(0,v._)(this,m)[m].call(this),(0,v._)(this,m)[m]=void 0,null==(0,v._)(this,p)[p]||(0,v._)(this,p)[p].call(this),(0,v._)(this,p)[p]=void 0)},t.isFetching=function(e){return(0,v._)(this,o)[o].findAll((0,h._)({},e,{fetchStatus:"fetching"})).length},t.isMutating=function(e){return(0,v._)(this,s)[s].findAll((0,h._)({},e,{status:"pending"})).length},t.getQueryData=function(e){var t,n=this.defaultQueryOptions({queryKey:e});return null==(t=(0,v._)(this,o)[o].get(n.queryHash))?void 0:t.state.data},t.ensureQueryData=function(e){var t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);var n=this.defaultQueryOptions(e),r=(0,v._)(this,o)[o].build(this,n);return e.revalidateIfStale&&r.isStaleByTime(n.staleTime)&&this.prefetchQuery(n),Promise.resolve(t)},t.getQueriesData=function(e){return(0,v._)(this,o)[o].findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,n){var r=this.defaultQueryOptions({queryKey:e}),i=(0,v._)(this,o)[o].get(r.queryHash),a=null==i?void 0:i.state.data,s=(0,_.SE)(t,a);if(void 0!==s)return(0,v._)(this,o)[o].build(this,r).setData(s,(0,h._)({},n,{manual:!0}))},t.setQueriesData=function(e,t,n){var r=this;return k.V.batch(function(){return(0,v._)(r,o)[o].findAll(e).map(function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]})})},t.getQueryState=function(e){var t,n=this.defaultQueryOptions({queryKey:e});return null==(t=(0,v._)(this,o)[o].get(n.queryHash))?void 0:t.state},t.removeQueries=function(e){var t=(0,v._)(this,o)[o];k.V.batch(function(){t.findAll(e).forEach(function(e){t.remove(e)})})},t.resetQueries=function(e,t){var n=this,r=(0,v._)(this,o)[o],i=(0,h._)({type:"active"},e);return k.V.batch(function(){return r.findAll(e).forEach(function(e){e.reset()}),n.refetchQueries(i,t)})},t.cancelQueries=function(e,t){var n=this;void 0===e&&(e={}),void 0===t&&(t={});var r=(0,h._)({revert:!0},t);return Promise.all(k.V.batch(function(){return(0,v._)(n,o)[o].findAll(e).map(function(e){return e.cancel(r)})})).then(_.ZT).catch(_.ZT)},t.invalidateQueries=function(e,t){var n=this;return void 0===e&&(e={}),void 0===t&&(t={}),k.V.batch(function(){if((0,v._)(n,o)[o].findAll(e).forEach(function(e){e.invalidate()}),"none"===e.refetchType)return Promise.resolve();var r,i,a=(0,h._)({},e,{type:null!=(i=null!=(r=e.refetchType)?r:e.type)?i:"active"});return n.refetchQueries(a,t)})},t.refetchQueries=function(e,t){var n,r=this;void 0===e&&(e={});var i=(0,h._)({},t,{cancelRefetch:null==(n=null==t?void 0:t.cancelRefetch)||n});return Promise.all(k.V.batch(function(){return(0,v._)(r,o)[o].findAll(e).filter(function(e){return!e.isDisabled()}).map(function(e){var t=e.fetch(void 0,i);return i.throwOnError||(t=t.catch(_.ZT)),"paused"===e.state.fetchStatus?Promise.resolve():t})})).then(_.ZT)},t.fetchQuery=function(e){var t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);var n=(0,v._)(this,o)[o].build(this,t);return n.isStaleByTime(t.staleTime)?n.fetch(t):Promise.resolve(n.state.data)},t.prefetchQuery=function(e){return this.fetchQuery(e).then(_.ZT).catch(_.ZT)},t.fetchInfiniteQuery=function(e){return e.behavior=(0,T.Gm)(e.pages),this.fetchQuery(e)},t.prefetchInfiniteQuery=function(e){return this.fetchInfiniteQuery(e).then(_.ZT).catch(_.ZT)},t.resumePausedMutations=function(){return x.N.isOnline()?(0,v._)(this,s)[s].resumePausedMutations():Promise.resolve()},t.getQueryCache=function(){return(0,v._)(this,o)[o]},t.getMutationCache=function(){return(0,v._)(this,s)[s]},t.getDefaultOptions=function(){return(0,v._)(this,l)[l]},t.setDefaultOptions=function(e){(0,v._)(this,l)[l]=e},t.setQueryDefaults=function(e,t){(0,v._)(this,c)[c].set((0,_.Ym)(e),{queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t=(0,g._)((0,v._)(this,c)[c].values()),n={};return t.forEach(function(t){(0,_.to)(e,t.queryKey)&&(n=(0,h._)({},n,t.defaultOptions))}),n},t.setMutationDefaults=function(e,t){(0,v._)(this,u)[u].set((0,_.Ym)(e),{mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t=(0,g._)((0,v._)(this,u)[u].values()),n={};return t.forEach(function(t){(0,_.to)(e,t.mutationKey)&&(n=(0,h._)({},n,t.defaultOptions))}),n},t.defaultQueryOptions=function(e){if(e._defaulted)return e;var t=(0,h._)({},(0,v._)(this,l)[l].queries,this.getQueryDefaults(e.queryKey),e,{_defaulted:!0});return t.queryHash||(t.queryHash=(0,_.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===_.CN&&(t.enabled=!1),t},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,h._)({},(0,v._)(this,l)[l].mutations,(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),e,{_defaulted:!0})},t.clear=function(){(0,v._)(this,o)[o].clear(),(0,v._)(this,s)[s].clear()},e}())},47837:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r,i=n(70912),a=n(15816),o=n(13772),s=(r=(0,a._)("_gcTimeout"),function(){function e(){Object.defineProperty(this,r,{writable:!0,value:void 0})}var t=e.prototype;return t.destroy=function(){this.clearGcTimeout()},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,o.PN)(this.gcTime)&&((0,i._)(this,r)[r]=setTimeout(function(){e.optionalRemove()},this.gcTime))},t.updateGcTime=function(e){this.gcTime=Math.max(this.gcTime||0,null!=e?e:o.sk?1/0:3e5)},t.clearGcTimeout=function(){(0,i._)(this,r)[r]&&(clearTimeout((0,i._)(this,r)[r]),(0,i._)(this,r)[r]=void 0)},e}())},2320:(e,t,n)=>{"use strict";n.d(t,{Kw:()=>s,Mz:()=>u,DV:()=>c});var r=n(8040),i=n(30796),a=n(13772);function o(e){return Math.min(1e3*Math.pow(2,e),3e4)}function s(e){return(null!=e?e:"online")!=="online"||i.N.isOnline()}var l=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function c(e){return e instanceof l}function u(e){var t,n,c,u=!1,d=0,m=!1,p=new Promise(function(e,t){n=e,c=t}),v=function(){return r.j.isFocused()&&("always"===e.networkMode||i.N.isOnline())&&e.canRun()},f=function(){return s(e.networkMode)&&e.canRun()},h=function(r){m||(m=!0,null==e.onSuccess||e.onSuccess.call(e,r),null==t||t(),n(r))},g=function(n){m||(m=!0,null==e.onError||e.onError.call(e,n),null==t||t(),c(n))},_=function(){return new Promise(function(n){t=function(e){(m||v())&&n(e)},null==e.onPause||e.onPause.call(e)}).then(function(){t=void 0,m||null==e.onContinue||e.onContinue.call(e)})},y=function(){var t;if(!m){try{t=e.fn()}catch(n){t=Promise.reject(n)}Promise.resolve(t).then(h).catch(function(t){if(!m){var n,r,i=null!=(n=e.retry)?n:a.sk?0:3,s=null!=(r=e.retryDelay)?r:o,l="function"==typeof s?s(d,t):s,c=!0===i||"number"==typeof i&&d<i||"function"==typeof i&&i(d,t);if(u||!c){g(t);return}d++,null==e.onFail||e.onFail.call(e,d,t),(0,a._v)(l).then(function(){return v()?void 0:_()}).then(function(){u?g(t):y()})}})}};return{promise:p,cancel:function(t){m||(g(new l(t)),null==e.abort||e.abort.call(e))},continue:function(){return null==t||t(),p},cancelRetry:function(){u=!0},continueRetry:function(){u=!1},canStart:f,start:function(){return f()?y():_().then(y),p}}}},62978:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r=function(){function e(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}var t=e.prototype;return t.subscribe=function(e){var t=this;return this.listeners.add(e),this.onSubscribe(),function(){t.listeners.delete(e),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.size>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},13772:(e,t,n)=>{"use strict";n.d(t,{VX:()=>w,Ht:()=>Z,SE:()=>s,Ym:()=>p,Rm:()=>m,sk:()=>a,PN:()=>l,Wk:()=>k,X7:()=>d,_x:()=>u,ZT:()=>o,to:()=>v,oE:()=>E,Q$:()=>f,VS:()=>h,CN:()=>C,_v:()=>b,Kp:()=>c});var r=n(11912),i=n(88421),a="undefined"==typeof window||"Deno"in globalThis;function o(){}function s(e,t){return"function"==typeof e?e(t):e}function l(e){return"number"==typeof e&&e>=0&&e!==1/0}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t){var n=e.type,r=void 0===n?"all":n,i=e.exact,a=e.fetchStatus,o=e.predicate,s=e.queryKey,l=e.stale;if(s){if(i){if(t.queryHash!==m(s,t.options))return!1}else if(!v(t.queryKey,s))return!1}if("all"!==r){var c=t.isActive();if("active"===r&&!c||"inactive"===r&&c)return!1}return("boolean"!=typeof l||t.isStale()===l)&&(!a||a===t.state.fetchStatus)&&(!o||!!o(t))}function d(e,t){var n=e.exact,r=e.status,i=e.predicate,a=e.mutationKey;if(a){if(!t.options.mutationKey)return!1;if(n){if(p(t.options.mutationKey)!==p(a))return!1}else if(!v(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&(!i||!!i(t))}function m(e,t){return((null==t?void 0:t.queryKeyHashFn)||p)(e)}function p(e){return JSON.stringify(e,function(e,t){return _(t)?Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{}):t})}function v(e,t){return e===t||(void 0===e?"undefined":(0,i._)(e))===(void 0===t?"undefined":(0,i._)(t))&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(function(n){return!v(e[n],t[n])})}function f(e,t){if(e===t)return e;var n=g(e)&&g(t);if(n||_(e)&&_(t)){for(var r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,s=n?[]:{},l=0,c=0;c<o;c++){var u=n?c:a[c];!n&&void 0===e[u]&&void 0===t[u]&&r.includes(u)?(s[u]=void 0,l++):(s[u]=f(e[u],t[u]),s[u]===e[u]&&void 0!==e[u]&&l++)}return i===o&&l===i?e:s}return t}function h(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function g(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _(e){if(!y(e))return!1;var t=e.constructor;if(void 0===t)return!0;var n=t.prototype;return!!(y(n)&&n.hasOwnProperty("isPrototypeOf"))}function y(e){return"[object Object]"===Object.prototype.toString.call(e)}function b(e){return new Promise(function(t){setTimeout(t,e)})}function E(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?f(e,t):t}function k(e){return e}function w(e,t,n){void 0===n&&(n=0);var i=(0,r._)(e).concat([t]);return n&&i.length>n?i.slice(1):i}function Z(e,t,n){void 0===n&&(n=0);var i=[t].concat((0,r._)(e));return n&&i.length>n?i.slice(0,-1):i}var C=Symbol()},57652:(e,t,n)=>{"use strict";n.d(t,{aH:()=>s,NL:()=>o});var r=n(87363),i=n(85893),a=r.createContext(void 0),o=function(e){var t=r.useContext(a);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},s=function(e){var t=e.client,n=e.children;return r.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]),(0,i.jsx)(a.Provider,{value:t,children:n})}}}]);